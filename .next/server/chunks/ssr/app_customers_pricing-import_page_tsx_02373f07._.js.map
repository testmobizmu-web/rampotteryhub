{"version":3,"sources":["../../../../app/customers/pricing-import/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype ImportFileType = \"CSV\" | \"XLSX\";\r\n\r\ntype CustomerPreviewRow = {\r\n  rowNo: number;\r\n  customer_code: string;\r\n  customer_name: string;\r\n  client_name: string;\r\n  address: string;\r\n  phone_no: string;\r\n  whatsapp_no: string;\r\n  brn: string;\r\n  vat_no: string;\r\n  error?: string;\r\n};\r\n\r\ntype Batch = {\r\n  id: string;\r\n  created_at?: string;\r\n  created_by?: string;\r\n  filename?: string;\r\n  file_type?: string;\r\n  file_size?: number;\r\n  mode?: string;\r\n  row_count?: number;\r\n  valid_count?: number;\r\n  error_count?: number;\r\n  status?: string;\r\n  rolled_back_at?: string | null;\r\n};\r\n\r\nconst MAX_FILE_MB = 8;\r\nconst MAX_FILE_BYTES = MAX_FILE_MB * 1024 * 1024;\r\nconst ALLOWED_EXT = [\".csv\", \".xlsx\", \".xls\"] as const;\r\n\r\nfunction normalizeHeader(h: string) {\r\n  return String(h ?? \"\")\r\n    .trim()\r\n    .toLowerCase()\r\n    .replace(/\\uFEFF/g, \"\") // BOM\r\n    .replace(/[^\\w]+/g, \"_\")\r\n    .replace(/^_+|_+$/g, \"\");\r\n}\r\n\r\nfunction str(v: unknown) {\r\n  return String(v ?? \"\").trim();\r\n}\r\nfunction safeUpper(v: unknown) {\r\n  return str(v).toUpperCase();\r\n}\r\n\r\nfunction n0(v: any): number {\r\n  const num = Number(v);\r\n  return Number.isFinite(num) ? num : 0;\r\n}\r\n\r\nfunction fmtDateTime(d: Date) {\r\n  const pad = (x: number) => String(x).padStart(2, \"0\");\r\n  return `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}, ${pad(d.getHours())}:${pad(\r\n    d.getMinutes()\r\n  )}:${pad(d.getSeconds())}`;\r\n}\r\n\r\nfunction fmtTime(isoOrTs: any) {\r\n  try {\r\n    const d = typeof isoOrTs === \"string\" ? new Date(isoOrTs) : new Date(Number(isoOrTs));\r\n    return d.toLocaleString();\r\n  } catch {\r\n    return String(isoOrTs || \"\");\r\n  }\r\n}\r\n\r\n/** Small CSV parser (supports quotes, commas, CRLF, tab-separated fallback) */\r\nfunction parseCsv(text: string): string[][] {\r\n  const tabCount = (text.match(/\\t/g) || []).length;\r\n  const commaCount = (text.match(/,/g) || []).length;\r\n  const likelyTSV = tabCount > commaCount * 2;\r\n\r\n  const src = likelyTSV\r\n    ? text\r\n        .split(\"\\n\")\r\n        .map((ln) => ln.replace(/\\t/g, \",\"))\r\n        .join(\"\\n\")\r\n    : text;\r\n\r\n  const rows: string[][] = [];\r\n  let row: string[] = [];\r\n  let field = \"\";\r\n  let inQuotes = false;\r\n\r\n  for (let i = 0; i < src.length; i++) {\r\n    const c = src[i];\r\n\r\n    if (inQuotes) {\r\n      if (c === '\"') {\r\n        if (src[i + 1] === '\"') {\r\n          field += '\"';\r\n          i++;\r\n        } else {\r\n          inQuotes = false;\r\n        }\r\n      } else {\r\n        field += c;\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (c === '\"') {\r\n      inQuotes = true;\r\n      continue;\r\n    }\r\n\r\n    if (c === \",\") {\r\n      row.push(field);\r\n      field = \"\";\r\n      continue;\r\n    }\r\n\r\n    if (c === \"\\n\") {\r\n      row.push(field);\r\n      field = \"\";\r\n      row = row.map((x) => (x.endsWith(\"\\r\") ? x.slice(0, -1) : x));\r\n      const isEmpty = row.every((x) => !String(x ?? \"\").trim());\r\n      if (!isEmpty) rows.push(row);\r\n      row = [];\r\n      continue;\r\n    }\r\n\r\n    field += c;\r\n  }\r\n\r\n  row.push(field);\r\n  row = row.map((x) => (x.endsWith(\"\\r\") ? x.slice(0, -1) : x));\r\n  const isEmpty = row.every((x) => !String(x ?? \"\").trim());\r\n  if (!isEmpty) rows.push(row);\r\n\r\n  return rows;\r\n}\r\n\r\n/** Detect XLSX by signature (PK..) even if extension is wrong */\r\nasync function isZipLike(file: File): Promise<boolean> {\r\n  try {\r\n    const buf = await file.slice(0, 4).arrayBuffer();\r\n    const u = new Uint8Array(buf);\r\n    return u[0] === 0x50 && u[1] === 0x4b; // \"PK\"\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n/** Basic client-side file guard (type + size) */\r\nasync function guardFile(\r\n  file: File\r\n): Promise<{ ok: true; kind: ImportFileType } | { ok: false; error: string }> {\r\n  const name = (file.name || \"\").toLowerCase().trim();\r\n  if (!name) return { ok: false, error: \"Invalid file name.\" };\r\n\r\n  if (file.size > MAX_FILE_BYTES) {\r\n    return { ok: false, error: `File too large. Max ${MAX_FILE_MB}MB.` };\r\n  }\r\n\r\n  const looksZip = await isZipLike(file);\r\n  const isCSV = name.endsWith(\".csv\") && !looksZip;\r\n  const isXLSX = name.endsWith(\".xlsx\") || name.endsWith(\".xls\") || looksZip;\r\n\r\n  if (!isCSV && !isXLSX) {\r\n    return { ok: false, error: `Upload only: ${ALLOWED_EXT.join(\", \")}` };\r\n  }\r\n\r\n  return { ok: true, kind: isCSV ? \"CSV\" : \"XLSX\" };\r\n}\r\n\r\nexport default function CustomerImportPage() {\r\n  const router = useRouter();\r\n  const fileRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\r\n  const [lastSync, setLastSync] = useState<string>(\"\");\r\n\r\n  const [userRole, setUserRole] = useState<string>(\"\");\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  const [importOpen, setImportOpen] = useState(false);\r\n  const [isImporting, setIsImporting] = useState(false);\r\n\r\n  const [rows, setRows] = useState<CustomerPreviewRow[]>([]);\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [q, setQ] = useState(\"\");\r\n\r\n  // ‚úÖ server batches\r\n  const [batches, setBatches] = useState<Batch[]>([]);\r\n  const [loadingBatches, setLoadingBatches] = useState(false);\r\n\r\n  // keep selected file info\r\n  const [pickedFileName, setPickedFileName] = useState<string>(\"\");\r\n  const [pickedFileType, setPickedFileType] = useState<ImportFileType>(\"CSV\");\r\n  const [pickedFileSize, setPickedFileSize] = useState<number>(0);\r\n\r\n  // ‚úÖ toggle: delete all existing customers before import\r\n  const [clearExisting, setClearExisting] = useState<boolean>(true);\r\n\r\n  // ‚úÖ raw row objects sent to API\r\n  const [apiRows, setApiRows] = useState<Record<string, any>[]>([]);\r\n\r\n  // toast\r\n  const [toast, setToast] = useState<string | null>(null);\r\n  function showToast(msg: string) {\r\n    setToast(msg);\r\n    window.setTimeout(() => setToast(null), 2600);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"rp_theme\");\r\n    const initial = saved === \"dark\" ? \"dark\" : \"light\";\r\n    setTheme(initial);\r\n    document.documentElement.dataset.theme = initial;\r\n\r\n    const raw = localStorage.getItem(\"rp_user\");\r\n    if (!raw) {\r\n      router.replace(\"/login\");\r\n      return;\r\n    }\r\n    try {\r\n      const user = JSON.parse(raw);\r\n      const role = String(user?.role || \"\");\r\n      const admin = role.toLowerCase() === \"admin\";\r\n      setUserRole(role || \"‚Äî\");\r\n      setIsAdmin(admin);\r\n      setLastSync(fmtDateTime(new Date()));\r\n      // fetch batches once on load\r\n      void refreshBatches();\r\n    } catch {\r\n      router.replace(\"/login\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [router]);\r\n\r\n  function toggleTheme() {\r\n    const next = theme === \"dark\" ? \"light\" : \"dark\";\r\n    setTheme(next);\r\n    document.documentElement.dataset.theme = next;\r\n    localStorage.setItem(\"rp_theme\", next);\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n    } finally {\r\n      localStorage.removeItem(\"rp_user\");\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  async function refreshBatches() {\r\n    setLoadingBatches(true);\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\") || \"\";\r\n      const res = await fetch(\"/api/customers/import-batches\", {\r\n        method: \"GET\",\r\n        headers: { \"x-rp-user\": raw },\r\n      });\r\n      const json = await res.json().catch(() => ({}));\r\n      if (!res.ok || !json.ok) throw new Error(json.error || \"Failed to load batches\");\r\n      setBatches(Array.isArray(json.batches) ? json.batches : []);\r\n    } catch (e: any) {\r\n      // non-blocking\r\n      console.warn(e?.message || e);\r\n    } finally {\r\n      setLoadingBatches(false);\r\n    }\r\n  }\r\n\r\n  const summary = useMemo(() => {\r\n    const total = rows.length;\r\n    const ok = rows.filter((r) => !r.error).length;\r\n    const bad = total - ok;\r\n    return { total, ok, bad };\r\n  }, [rows]);\r\n\r\n  const filteredPreview = useMemo(() => {\r\n    const s = q.trim().toLowerCase();\r\n    if (!s) return rows;\r\n    return rows.filter((r) =>\r\n      `${r.customer_code} ${r.customer_name} ${r.client_name} ${r.phone_no} ${r.whatsapp_no} ${r.vat_no} ${r.brn}`\r\n        .toLowerCase()\r\n        .includes(s)\r\n    );\r\n  }, [rows, q]);\r\n\r\n  function openImport() {\r\n    setErr(null);\r\n    setRows([]);\r\n    setApiRows([]);\r\n    setQ(\"\");\r\n    setPickedFileName(\"\");\r\n    setPickedFileType(\"CSV\");\r\n    setPickedFileSize(0);\r\n    setClearExisting(true);\r\n    setImportOpen(true);\r\n    setTimeout(() => fileRef.current?.click(), 120);\r\n  }\r\n\r\n  function downloadTemplate() {\r\n    // ‚úÖ new format\r\n    const csv = [\r\n      \"customer_code,customer_name,client_name,address,phone_no,whatsapp_no,brn,vat_no\",\r\n      \"CUST-001,Ram Trading Ltd,Ram Group,Royal Road Port Louis,51234567,58277852,BRN12345678,VAT123456\",\r\n      \"CUST-002,Blue Stone Co,Blue Group,Quatre Bornes,59887766,59000000,BRN99887766,VAT998877\",\r\n    ].join(\"\\n\");\r\n\r\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = \"customers_import_template.csv\";\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    a.remove();\r\n    URL.revokeObjectURL(url);\r\n  }\r\n\r\n  /** Turn matrix into:\r\n   *  1) client preview rows (nice UI fields)\r\n   *  2) apiRows (objects keyed by headers) for server DRY_RUN/IMPORT\r\n   */\r\n  function mapMatrix(matrix: any[][]): { preview: CustomerPreviewRow[]; apiRows: Record<string, any>[] } {\r\n    if (!matrix || matrix.length < 2) {\r\n      throw new Error(\"File is empty. Add at least one data row.\");\r\n    }\r\n\r\n    const headers = (matrix[0] || []).map((h) => normalizeHeader(h));\r\n    const idx = (key: string) => headers.findIndex((h) => h === key);\r\n\r\n    // ‚úÖ required in YOUR new excel\r\n    const idxCode = idx(\"customer_code\");\r\n    const idxName = idx(\"customer_name\");\r\n    const idxClient = idx(\"client_name\");\r\n    const idxAddress = idx(\"address\");\r\n    const idxPhone = idx(\"phone_no\");\r\n    const idxWa = idx(\"whatsapp_no\");\r\n    const idxBrn = idx(\"brn\");\r\n    const idxVat = idx(\"vat_no\");\r\n\r\n    const required = [\r\n      [\"customer_code\", idxCode],\r\n      [\"customer_name\", idxName],\r\n      [\"client_name\", idxClient],\r\n      [\"address\", idxAddress],\r\n      [\"phone_no\", idxPhone],\r\n      [\"whatsapp_no\", idxWa],\r\n      [\"brn\", idxBrn],\r\n      [\"vat_no\", idxVat],\r\n    ] as const;\r\n\r\n    const missing = required.filter(([, i]) => i === -1).map(([k]) => k);\r\n    if (missing.length) {\r\n      throw new Error(\r\n        `Missing column(s): ${missing.join(\", \")}\\nRequired columns: customer_code, customer_name, client_name, address, phone_no, whatsapp_no, brn, vat_no`\r\n      );\r\n    }\r\n\r\n    const preview: CustomerPreviewRow[] = [];\r\n    const outApiRows: Record<string, any>[] = [];\r\n\r\n    for (let i = 1; i < matrix.length; i++) {\r\n      const r = matrix[i] || [];\r\n      const rowNo = i;\r\n\r\n      const customer_code = safeUpper(r[idxCode]);\r\n      const customer_name = str(r[idxName]);\r\n      const client_name = str(r[idxClient]);\r\n      const address = str(r[idxAddress]);\r\n      const phone_no = str(r[idxPhone]);\r\n      const whatsapp_no = str(r[idxWa]);\r\n      const brn = str(r[idxBrn]);\r\n      const vat_no = str(r[idxVat]);\r\n\r\n      const row: CustomerPreviewRow = {\r\n        rowNo,\r\n        customer_code,\r\n        customer_name,\r\n        client_name,\r\n        address,\r\n        phone_no,\r\n        whatsapp_no,\r\n        brn,\r\n        vat_no,\r\n      };\r\n\r\n      // client-side guard (server will re-check)\r\n      if (!customer_code) row.error = \"Missing customer_code\";\r\n      else if (!customer_name) row.error = \"Missing customer_name\";\r\n\r\n      preview.push(row);\r\n\r\n      // api object uses header keys exactly as normalized\r\n      outApiRows.push({\r\n        customer_code,\r\n        customer_name,\r\n        client_name,\r\n        address,\r\n        phone_no,\r\n        whatsapp_no,\r\n        brn,\r\n        vat_no,\r\n      });\r\n    }\r\n\r\n    return { preview, apiRows: outApiRows };\r\n  }\r\n\r\n  async function parseCsvFile(file: File): Promise<any[][]> {\r\n    const text = await file.text();\r\n    return parseCsv(text);\r\n  }\r\n\r\n  async function parseXlsxFile(file: File): Promise<any[][]> {\r\n    let XLSX: any;\r\n    try {\r\n      XLSX = await import(\"xlsx\");\r\n    } catch {\r\n      throw new Error('XLSX support requires package \"xlsx\". Run: npm i xlsx');\r\n    }\r\n\r\n    const buf = await file.arrayBuffer();\r\n    const wb = XLSX.read(buf, { type: \"array\" });\r\n    const sheetName = wb.SheetNames?.[0];\r\n    if (!sheetName) throw new Error(\"XLSX has no sheets.\");\r\n    const ws = wb.Sheets[sheetName];\r\n    const matrix = XLSX.utils.sheet_to_json(ws, { header: 1, blankrows: false });\r\n    return matrix as any[][];\r\n  }\r\n\r\n  async function handleFile(file: File) {\r\n    setErr(null);\r\n    setRows([]);\r\n    setApiRows([]);\r\n    setQ(\"\");\r\n\r\n    setPickedFileName((file.name || \"\").trim() || \"customers_import\");\r\n    setPickedFileSize(file.size);\r\n\r\n    const guard = await guardFile(file);\r\n    if (!guard.ok) {\r\n      setErr(guard.error);\r\n      return;\r\n    }\r\n    setPickedFileType(guard.kind);\r\n\r\n    try {\r\n      const matrix = guard.kind === \"CSV\" ? await parseCsvFile(file) : await parseXlsxFile(file);\r\n      const { preview, apiRows: outApiRows } = mapMatrix(matrix);\r\n      setRows(preview);\r\n      setApiRows(outApiRows);\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Failed to read file.\");\r\n    }\r\n  }\r\n\r\n  async function callBulk(mode: \"DRY_RUN\" | \"IMPORT\") {\r\n    setErr(null);\r\n\r\n    if (!isAdmin && mode === \"IMPORT\") {\r\n      setErr(\"Locked: only Admin can import customers.\");\r\n      return;\r\n    }\r\n    if (!apiRows.length) {\r\n      setErr(\"No rows loaded.\");\r\n      return;\r\n    }\r\n\r\n    setIsImporting(true);\r\n\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\") || \"\";\r\n      const res = await fetch(\"/api/customers/bulk-import\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", \"x-rp-user\": raw },\r\n        body: JSON.stringify({\r\n          mode,\r\n          clearExisting: mode === \"IMPORT\" ? clearExisting : false, // DRY_RUN never deletes\r\n          filename: pickedFileName || \"customers_import\",\r\n          fileType: pickedFileType,\r\n          fileSize: pickedFileSize,\r\n          rows: apiRows,\r\n        }),\r\n      });\r\n\r\n      const json = await res.json().catch(() => ({}));\r\n      if (!res.ok || !json.ok) throw new Error(json.error || \"Request failed\");\r\n\r\n      if (mode === \"DRY_RUN\") {\r\n        const s = json.summary || {};\r\n        showToast(`Dry run ‚úÖ Rows: ${n0(s.rowCount)} ‚Ä¢ Valid: ${n0(s.validCount)} ‚Ä¢ Errors: ${n0(s.errorCount)}`);\r\n\r\n        // If server returns preview/errors, reflect them into UI rows (optional)\r\n        // We‚Äôll keep your local preview, but show server header acceptance via toast.\r\n        return;\r\n      }\r\n\r\n      // IMPORT success\r\n      const s = json.summary || {};\r\n      const batchId = String(json.batchId || \"\");\r\n      showToast(\r\n        `Import done ‚úÖ  Batch: ${batchId || \"‚Äî\"}  Rows: ${n0(s.rowCount)}  Valid: ${n0(s.validCount)}  Errors: ${n0(\r\n          s.errorCount\r\n        )}`\r\n      );\r\n\r\n      // close + reset\r\n      setImportOpen(false);\r\n      setRows([]);\r\n      setApiRows([]);\r\n      setQ(\"\");\r\n      setPickedFileName(\"\");\r\n      setPickedFileType(\"CSV\");\r\n      setPickedFileSize(0);\r\n      setLastSync(fmtDateTime(new Date()));\r\n\r\n      // refresh server batches\r\n      await refreshBatches();\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Bulk import failed\");\r\n    } finally {\r\n      setIsImporting(false);\r\n    }\r\n  }\r\n\r\n  async function rollbackBatch(batchId: string) {\r\n    if (!isAdmin) {\r\n      showToast(\"Admin only: rollback locked.\");\r\n      return;\r\n    }\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\") || \"\";\r\n      const res = await fetch(`/api/customers/import-batches/${encodeURIComponent(batchId)}/rollback`, {\r\n        method: \"POST\",\r\n        headers: { \"x-rp-user\": raw },\r\n      });\r\n      const json = await res.json().catch(() => ({}));\r\n      if (!res.ok || !json.ok) throw new Error(json.error || \"Rollback failed\");\r\n      showToast(\"Rollback done ‚úÖ\");\r\n      await refreshBatches();\r\n    } catch (e: any) {\r\n      showToast(`Rollback failed: ${e?.message || \"Error\"}`);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"rp-app\">\r\n      {/* Background */}\r\n      <div className=\"rp-bg\" aria-hidden=\"true\">\r\n        <div className=\"rp-bg-orb rp-bg-orb--1\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--2\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--3\" />\r\n        <div className=\"rp-bg-grid\" />\r\n      </div>\r\n\r\n      {/* Toast */}\r\n      {toast && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            right: 18,\r\n            top: 16,\r\n            zIndex: 9999,\r\n            padding: \"10px 14px\",\r\n            borderRadius: 14,\r\n            background: \"rgba(255,255,255,.92)\",\r\n            border: \"1px solid rgba(0,0,0,.12)\",\r\n            boxShadow: \"0 16px 50px rgba(0,0,0,.18)\",\r\n            fontWeight: 950,\r\n            backdropFilter: \"blur(10px)\",\r\n            maxWidth: 520,\r\n          }}\r\n        >\r\n          {toast}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"rp-shell rp-enter\">\r\n        {/* Mobile top bar */}\r\n        <div className=\"rp-mtop\">\r\n          <button type=\"button\" className=\"rp-icon-btn rp-burger\" onClick={() => setDrawerOpen(true)} aria-label=\"Open menu\">\r\n            <span aria-hidden=\"true\">\r\n              <i />\r\n              <i />\r\n              <i />\r\n            </span>\r\n          </button>\r\n\r\n          <div className=\"rp-mtop-brand\">\r\n            <div className=\"rp-mtop-title\">RampotteryHUB</div>\r\n            <div className=\"rp-mtop-sub\">Customer Import</div>\r\n          </div>\r\n\r\n          <button type=\"button\" className=\"rp-icon-btn\" onClick={toggleTheme} aria-label=\"Toggle theme\">\r\n            {theme === \"dark\" ? \"‚òÄ\" : \"üåô\"}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Overlay + Drawer */}\r\n        <button className={`rp-overlay ${drawerOpen ? \"is-open\" : \"\"}`} onClick={() => setDrawerOpen(false)} aria-label=\"Close menu\" />\r\n        <aside className={`rp-drawer ${drawerOpen ? \"is-open\" : \"\"}`}>\r\n          <div className=\"rp-drawer-head\">\r\n            <div className=\"rp-drawer-brand\">\r\n              <div className=\"rp-drawer-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={28} height={28} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-drawer-title\">RampotteryHUB</div>\r\n                <div className=\"rp-drawer-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"button\" className=\"rp-icon-btn\" onClick={() => setDrawerOpen(false)} aria-label=\"Close\">\r\n              ‚úï\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"rp-drawer-body\">\r\n            <nav className=\"rp-nav\">\r\n              {[\r\n                { href: \"/\", label: \"Dashboard\" },\r\n                { href: \"/invoices\", label: \"Invoices\" },\r\n                { href: \"/credit-notes\", label: \"Credit Notes\" },\r\n                { href: \"/stock\", label: \"Stock & Categories\" },\r\n                { href: \"/stock-movements\", label: \"Stock Movements\" },\r\n                { href: \"/customers\", label: \"Customers\" },\r\n                { href: \"/reports\", label: \"Reports & Statements\" },\r\n              ].map((it) => (\r\n                <Link key={it.href} className={`rp-nav-btn ${it.href === \"/customers\" ? \"rp-nav-btn--active\" : \"\"}`} href={it.href} onClick={() => setDrawerOpen(false)}>\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    ‚ñ∂\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Role</span>\r\n                <b>{userRole || \"‚Äî\"}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Import</span>\r\n                <b>{isAdmin ? \"Admin enabled\" : \"Locked\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Desktop sidebar */}\r\n        <aside className=\"rp-side\">\r\n          <div className=\"rp-side-card rp-card-anim\">\r\n            <div className=\"rp-brand\">\r\n              <div className=\"rp-brand-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={30} height={30} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-brand-title\">RampotteryHUB</div>\r\n                <div className=\"rp-brand-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <nav className=\"rp-nav\">\r\n              {[\r\n                { href: \"/\", label: \"Dashboard\" },\r\n                { href: \"/invoices\", label: \"Invoices\" },\r\n                { href: \"/credit-notes\", label: \"Credit Notes\" },\r\n                { href: \"/stock\", label: \"Stock & Categories\" },\r\n                { href: \"/stock-movements\", label: \"Stock Movements\" },\r\n                { href: \"/customers\", label: \"Customers\" },\r\n                { href: \"/reports\", label: \"Reports & Statements\" },\r\n              ].map((it) => (\r\n                <Link key={it.href} className={`rp-nav-btn ${it.href === \"/customers\" ? \"rp-nav-btn--active\" : \"\"}`} href={it.href}>\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    ‚ñ∂\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Role</span>\r\n                <b>{userRole || \"‚Äî\"}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Import</span>\r\n                <b>{isAdmin ? \"Admin enabled\" : \"Locked\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main */}\r\n        <main className=\"rp-main\">\r\n          {/* Top bar */}\r\n          <header className=\"rp-top rp-top--saas rp-card-anim\" style={{ animationDelay: \"60ms\" }}>\r\n            <div className=\"rp-top-left--actions\">\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--brand\" onClick={toggleTheme}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                {theme === \"dark\" ? \"‚òÄ Light\" : \"üåô Dark\"}\r\n              </button>\r\n\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--danger\" onClick={handleLogout}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                Log Out\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-top-center--logo\">\r\n              <div className=\"rp-top-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery\" width={44} height={44} priority />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-top-right--sync\">\r\n              <div className=\"rp-sync\">\r\n                <div className=\"rp-sync-label\">Last sync :</div>\r\n                <div className=\"rp-sync-time\">{lastSync || \"‚Äî\"}</div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Executive header */}\r\n          <section className=\"rp-exec rp-card-anim\">\r\n            <div className=\"rp-exec__left\">\r\n              <div className=\"rp-exec__title\">Customer Import</div>\r\n              <div className=\"rp-exec__sub\">\r\n                Upload <b>CSV / Excel</b> ‚Ä¢ Preview ‚Ä¢ <b>Dry Run</b> ‚Ä¢ Import ‚Ä¢ Rollback (Admin)\r\n              </div>\r\n            </div>\r\n            <div className=\"rp-exec__right\">\r\n              <span className={`rp-chip rp-chip--soft ${isAdmin ? \"\" : \"rp-chip--warn\"}`}>{isAdmin ? \"Admin enabled\" : \"Locked\"}</span>\r\n              <span className=\"rp-chip\">Max {MAX_FILE_MB}MB</span>\r\n            </div>\r\n          </section>\r\n\r\n          {/* KPI row */}\r\n          <section className=\"rp-kpi-pro rp-card-anim\">\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Rows loaded</div>\r\n              <div className=\"rp-kpi-pro__value\">{summary.total}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Current preview set</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Valid</div>\r\n              <div className=\"rp-kpi-pro__value\">{summary.ok}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Ready</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Errors</div>\r\n              <div className=\"rp-kpi-pro__value\">{summary.bad}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Fix and re-upload</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Batches</div>\r\n              <div className=\"rp-kpi-pro__value\">{batches.length}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Server history</div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Actions */}\r\n          <section className=\"rp-actions rp-card-anim\">\r\n            <div className=\"rp-seg rp-seg--pro\">\r\n              <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/customers\">\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  ‚Üê\r\n                </span>\r\n                Customers\r\n              </Link>\r\n\r\n              <button className=\"rp-seg-item rp-seg-item--brand\" type=\"button\" onClick={downloadTemplate}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  ‚¨á\r\n                </span>\r\n                Template\r\n              </button>\r\n\r\n              {isAdmin ? (\r\n                <button className=\"rp-seg-item rp-seg-item--brand\" type=\"button\" onClick={openImport}>\r\n                  <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                    ‚¨Ü\r\n                  </span>\r\n                  Import Customers\r\n                </button>\r\n              ) : (\r\n                <button className=\"rp-seg-item\" type=\"button\" disabled title=\"Admin only\">\r\n                  <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                    üîí\r\n                  </span>\r\n                  Import Locked\r\n                </button>\r\n              )}\r\n\r\n              <button className=\"rp-seg-item rp-seg-item--brand\" type=\"button\" onClick={refreshBatches} disabled={loadingBatches}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  ‚Üª\r\n                </span>\r\n                {loadingBatches ? \"Refreshing‚Ä¶\" : \"Refresh Batches\"}\r\n              </button>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Import batches (server) */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Import Batches (Server)</div>\r\n                <div className=\"rp-card-sub\">Each import creates a batch ‚Ä¢ Admin can rollback a batch</div>\r\n              </div>\r\n              <span className=\"rp-chip rp-chip--soft\">{batches.length} record(s)</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body\">\r\n              {batches.length === 0 ? (\r\n                <div className=\"rp-td-empty\">No batches yet.</div>\r\n              ) : (\r\n                <div className=\"rp-table-wrap\">\r\n                  <table className=\"rp-table rp-table--premium\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th style={{ width: 190 }}>Date</th>\r\n                        <th>File</th>\r\n                        <th style={{ width: 120 }}>By</th>\r\n                        <th style={{ width: 90 }}>Status</th>\r\n                        <th style={{ width: 120, textAlign: \"right\" }}>Rows</th>\r\n                        <th style={{ width: 140, textAlign: \"right\" }}>Valid</th>\r\n                        <th style={{ width: 120, textAlign: \"right\" }}>Errors</th>\r\n                        <th style={{ width: 160 }}>Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {batches.map((b) => {\r\n                        const status = String(b.status || \"‚Äî\");\r\n                        const rolled = Boolean(b.rolled_back_at);\r\n                        return (\r\n                          <tr key={b.id}>\r\n                            <td className=\"rp-strong\">{fmtTime(b.created_at)}</td>\r\n                            <td className=\"rp-strong\">{b.filename || \"‚Äî\"}</td>\r\n                            <td>{b.created_by || \"‚Äî\"}</td>\r\n                            <td>\r\n                              {rolled ? (\r\n                                <span className=\"rp-status rp-status-cancelled\">\r\n                                  <span className=\"rp-status-dot\" />\r\n                                  ROLLED_BACK\r\n                                </span>\r\n                              ) : status.toUpperCase() === \"DONE\" ? (\r\n                                <span className=\"rp-status rp-status-approved\">\r\n                                  <span className=\"rp-status-dot\" />\r\n                                  DONE\r\n                                </span>\r\n                              ) : (\r\n                                <span className=\"rp-status rp-status-pending\">\r\n                                  <span className=\"rp-status-dot\" />\r\n                                  {status}\r\n                                </span>\r\n                              )}\r\n                            </td>\r\n                            <td style={{ textAlign: \"right\", fontVariantNumeric: \"tabular-nums\" }}>{n0(b.row_count)}</td>\r\n                            <td style={{ textAlign: \"right\", fontVariantNumeric: \"tabular-nums\" }}>{n0(b.valid_count)}</td>\r\n                            <td style={{ textAlign: \"right\", fontVariantNumeric: \"tabular-nums\" }}>{n0(b.error_count)}</td>\r\n                            <td>\r\n                              {isAdmin ? (\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"rp-btn-red-outline\"\r\n                                  disabled={rolled}\r\n                                  onClick={() => rollbackBatch(String(b.id))}\r\n                                  title={rolled ? \"Already rolled back\" : \"Rollback this batch\"}\r\n                                >\r\n                                  {rolled ? \"Rolled back\" : \"Rollback\"}\r\n                                </button>\r\n                              ) : (\r\n                                <button type=\"button\" className=\"rp-btn-red-outline\" disabled title=\"Admin only\">\r\n                                  üîí Locked\r\n                                </button>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* How it works */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">How it works</div>\r\n                <div className=\"rp-card-sub\">\r\n                  Uses <b>/api/customers/bulk-import</b> (Dry Run + Import) ‚Ä¢ Creates a server batch\r\n                </div>\r\n              </div>\r\n              <span className=\"rp-chip\">CSV + XLSX</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body\" style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", alignItems: \"center\" }}>\r\n              <span className=\"rp-status rp-status-issued\">\r\n                <span className=\"rp-status-dot\" />\r\n                Required: customer_code, customer_name, client_name, address, phone_no, whatsapp_no, brn, vat_no\r\n              </span>\r\n              <span className=\"rp-status rp-status-approved\">\r\n                <span className=\"rp-status-dot\" />\r\n                Dry Run validates server-side before Import\r\n              </span>\r\n              <span className=\"rp-status rp-status-pending\">\r\n                <span className=\"rp-status-dot\" />\r\n                Optional: Delete all existing customers before import\r\n              </span>\r\n            </div>\r\n          </section>\r\n\r\n          <footer className=\"rp-footer\">¬© {new Date().getFullYear()} Ram Pottery Ltd ‚Ä¢ Built by Mobiz.mu</footer>\r\n        </main>\r\n\r\n        {/* Hidden file input */}\r\n        <input\r\n          ref={fileRef}\r\n          type=\"file\"\r\n          accept=\".csv,text/csv,.xlsx,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel\"\r\n          style={{ display: \"none\" }}\r\n          onChange={async (e) => {\r\n            const input = e.currentTarget;\r\n            const file = input.files?.[0];\r\n            if (!file) return;\r\n            input.value = \"\";\r\n            await handleFile(file);\r\n          }}\r\n        />\r\n\r\n        {/* Modal */}\r\n        {importOpen && (\r\n          <div className=\"rp-modal-backdrop\" onClick={() => (isImporting ? null : setImportOpen(false))}>\r\n            <div\r\n              className=\"rp-modal\"\r\n              onClick={(e) => e.stopPropagation()}\r\n              style={{\r\n                width: \"min(1100px, calc(100vw - 32px))\",\r\n                maxHeight: \"min(82vh, 780px)\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                overflow: \"hidden\",\r\n              }}\r\n            >\r\n              <div className=\"rp-modal-head\">\r\n                <div className=\"rp-modal-title\">Import Preview (CSV / XLSX)</div>\r\n                <button className=\"rp-modal-x\" onClick={() => (isImporting ? null : setImportOpen(false))} aria-label=\"Close\">\r\n                  ‚úï\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"rp-modal-body\" style={{ overflow: \"auto\", paddingBottom: 18 }}>\r\n                <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", marginBottom: 12, alignItems: \"center\" }}>\r\n                  <button className=\"rp-btn-red\" type=\"button\" onClick={() => fileRef.current?.click()}>\r\n                    Choose File\r\n                  </button>\r\n                  <button className=\"rp-btn-red-outline\" type=\"button\" onClick={downloadTemplate}>\r\n                    ‚¨á Download Template\r\n                  </button>\r\n\r\n                  <div style={{ fontWeight: 950, color: \"rgba(0,0,0,.62)\" }}>\r\n                    Rows: <b>{summary.total}</b> ‚Ä¢ Valid: <b>{summary.ok}</b> ‚Ä¢ Errors: <b>{summary.bad}</b>\r\n                    {pickedFileName ? (\r\n                      <>\r\n                        {\" \"}\r\n                        ‚Ä¢ File: <b>{pickedFileName}</b> ({pickedFileType})\r\n                      </>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* ‚úÖ Toggle clear existing */}\r\n                <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", marginBottom: 10, alignItems: \"center\" }}>\r\n                  <label\r\n                    style={{\r\n                      display: \"inline-flex\",\r\n                      alignItems: \"center\",\r\n                      gap: 10,\r\n                      padding: \"10px 12px\",\r\n                      borderRadius: 14,\r\n                      border: \"1px solid rgba(0,0,0,.10)\",\r\n                      background: \"rgba(255,255,255,.7)\",\r\n                      fontWeight: 950,\r\n                    }}\r\n                    title=\"If enabled, Import will delete all existing customers first.\"\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={clearExisting}\r\n                      onChange={(e) => setClearExisting(e.target.checked)}\r\n                      disabled={!isAdmin || isImporting}\r\n                      style={{ width: 18, height: 18 }}\r\n                    />\r\n                    Delete all existing customers before import\r\n                  </label>\r\n\r\n                  <input\r\n                    className=\"rp-input-premium\"\r\n                    value={q}\r\n                    onChange={(e) => setQ(e.target.value)}\r\n                    placeholder=\"Search in preview (code / name / phone / whatsapp)‚Ä¶\"\r\n                    style={{ width: 520, maxWidth: \"100%\" }}\r\n                  />\r\n                  <div style={{ fontWeight: 950, color: \"rgba(0,0,0,.62)\" }}>\r\n                    Preview: <b>{Math.min(filteredPreview.length, 50)}</b> row(s)\r\n                  </div>\r\n                </div>\r\n\r\n                {err && (\r\n                  <div\r\n                    style={{\r\n                      color: \"rgba(227,6,19,0.95)\",\r\n                      fontWeight: 950,\r\n                      marginBottom: 10,\r\n                      whiteSpace: \"pre-wrap\",\r\n                    }}\r\n                  >\r\n                    {err}\r\n                  </div>\r\n                )}\r\n\r\n                {rows.length > 0 && (\r\n                  <div className=\"rp-table-wrap\" style={{ border: \"1px solid rgba(0,0,0,.08)\", borderRadius: 14 }}>\r\n                    <table className=\"rp-table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th style={{ width: 64 }}>Row</th>\r\n                          <th style={{ width: 140 }}>Code</th>\r\n                          <th>Name</th>\r\n                          <th style={{ width: 160 }}>Phone</th>\r\n                          <th style={{ width: 160 }}>WhatsApp</th>\r\n                          <th style={{ width: 160 }}>BRN</th>\r\n                          <th style={{ width: 160 }}>VAT No</th>\r\n                          <th style={{ width: 220 }}>Status</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {filteredPreview.slice(0, 50).map((r) => (\r\n                          <tr key={`${r.rowNo}-${r.customer_code}-${r.phone_no}-${r.whatsapp_no}`}>\r\n                            <td>{r.rowNo}</td>\r\n                            <td style={{ fontWeight: 950 }}>{r.customer_code || \"‚Äî\"}</td>\r\n                            <td style={{ fontWeight: 950 }}>{r.customer_name || \"‚Äî\"}</td>\r\n                            <td>{r.phone_no || \"‚Äî\"}</td>\r\n                            <td>{r.whatsapp_no || \"‚Äî\"}</td>\r\n                            <td>{r.brn || \"‚Äî\"}</td>\r\n                            <td>{r.vat_no || \"‚Äî\"}</td>\r\n                            <td>\r\n                              {r.error ? (\r\n                                <span className=\"rp-status rp-status-cancelled\">\r\n                                  <span className=\"rp-status-dot\" />\r\n                                  {r.error}\r\n                                </span>\r\n                              ) : (\r\n                                <span className=\"rp-status rp-status-approved\">\r\n                                  <span className=\"rp-status-dot\" />\r\n                                  Ready\r\n                                </span>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n\r\n                {rows.length > 50 && (\r\n                  <div style={{ marginTop: 8, fontWeight: 950, color: \"rgba(0,0,0,.6)\" }}>Preview limited to first 50 rows.</div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"rp-modal-foot\" style={{ display: \"flex\", gap: 10 }}>\r\n                <button className=\"rp-btn-red-outline\" type=\"button\" onClick={() => setImportOpen(false)} disabled={isImporting}>\r\n                  Cancel\r\n                </button>\r\n\r\n                {/* ‚úÖ DRY RUN */}\r\n                <button\r\n                  className=\"rp-btn-red-outline\"\r\n                  type=\"button\"\r\n                  onClick={() => callBulk(\"DRY_RUN\")}\r\n                  disabled={isImporting || apiRows.length === 0}\r\n                  title=\"Validate on server without writing to DB\"\r\n                >\r\n                  {isImporting ? \"Working‚Ä¶\" : \"Dry Run\"}\r\n                </button>\r\n\r\n                {/* ‚úÖ IMPORT */}\r\n                <button\r\n                  className=\"rp-btn-red\"\r\n                  type=\"button\"\r\n                  onClick={() => callBulk(\"IMPORT\")}\r\n                  disabled={isImporting || summary.ok === 0 || !isAdmin}\r\n                  title={!isAdmin ? \"Admin only\" : \"Import to database\"}\r\n                >\r\n                  {isImporting ? \"Importing‚Ä¶\" : `Import ${summary.ok} Customer(s)`}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}