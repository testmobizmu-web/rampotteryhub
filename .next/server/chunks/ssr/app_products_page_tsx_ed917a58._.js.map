{"version":3,"sources":["../../../../app/products/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { rpFetch } from \"@/lib/rpFetch\";\r\n\r\ntype Product = {\r\n  id: number;\r\n  item_code: string | null;\r\n  sku: string | null;\r\n  name: string | null;\r\n  description: string | null;\r\n  units_per_box: number | null;\r\n  selling_price: number | null;\r\n  is_active: boolean | null;\r\n  image_url: string | null;\r\n};\r\n\r\ntype RpSession = {\r\n  id?: string;\r\n  username?: string;\r\n  name?: string;\r\n  role?: string;\r\n};\r\n\r\nfunction roleUpper(r?: string) {\r\n  return String(r || \"\").toUpperCase();\r\n}\r\nfunction n0(v: any) {\r\n  const n = Number(v);\r\n  return Number.isFinite(n) ? n : 0;\r\n}\r\nfunction fmtRs(v: any) {\r\n  const n = Number(v);\r\n  if (!Number.isFinite(n)) return \"â€”\";\r\n  return `Rs ${n.toFixed(2)}`;\r\n}\r\nfunction fmtDateTime(d: Date) {\r\n  const pad = (x: number) => String(x).padStart(2, \"0\");\r\n  return `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}, ${pad(d.getHours())}:${pad(\r\n    d.getMinutes()\r\n  )}:${pad(d.getSeconds())}`;\r\n}\r\nasync function copyToClipboard(text: string) {\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    return true;\r\n  } catch {\r\n    try {\r\n      const ta = document.createElement(\"textarea\");\r\n      ta.value = text;\r\n      document.body.appendChild(ta);\r\n      ta.select();\r\n      document.execCommand(\"copy\");\r\n      ta.remove();\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default function ProductsPage() {\r\n  const [mounted, setMounted] = useState(false);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\r\n  const [lastSync, setLastSync] = useState<string>(\"â€”\");\r\n  const [session, setSession] = useState<RpSession | null>(null);\r\n\r\n  const [toast, setToast] = useState<string | null>(null);\r\n  function showToast(msg: string) {\r\n    setToast(msg);\r\n    window.setTimeout(() => setToast(null), 2400);\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [rows, setRows] = useState<Product[]>([]);\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [activeOnly, setActiveOnly] = useState(true);\r\n\r\n  // Invoice-style kebab\r\n  const [openMenu, setOpenMenu] = useState<number | null>(null);\r\n\r\n  // edit modal\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [editing, setEditing] = useState<Product | null>(null);\r\n  const [saving, setSaving] = useState(false);\r\n  const nameRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  useEffect(() => setMounted(true), []);\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"rp_theme\");\r\n    const initial = saved === \"dark\" ? \"dark\" : \"light\";\r\n    setTheme(initial);\r\n    document.documentElement.dataset.theme = initial;\r\n\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\");\r\n      if (raw) setSession(JSON.parse(raw));\r\n    } catch {}\r\n\r\n    setLastSync(fmtDateTime(new Date()));\r\n  }, []);\r\n\r\n  // close kebab on outside click\r\n  useEffect(() => {\r\n    const close = () => setOpenMenu(null);\r\n    window.addEventListener(\"click\", close);\r\n    return () => window.removeEventListener(\"click\", close);\r\n  }, []);\r\n\r\n  // ESC closes modal/drawer/menu; Enter saves in modal\r\n  useEffect(() => {\r\n    if (!mounted) return;\r\n\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        if (openMenu != null) {\r\n          e.preventDefault();\r\n          setOpenMenu(null);\r\n          return;\r\n        }\r\n        if (editOpen) {\r\n          e.preventDefault();\r\n          setEditOpen(false);\r\n          setEditing(null);\r\n          return;\r\n        }\r\n        if (drawerOpen) {\r\n          e.preventDefault();\r\n          setDrawerOpen(false);\r\n          return;\r\n        }\r\n      }\r\n      if (e.key === \"Enter\" && editOpen) {\r\n        e.preventDefault();\r\n        void saveEdit();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [mounted, openMenu, editOpen, drawerOpen, editing]);\r\n\r\n  // lock scroll when drawer open\r\n  useEffect(() => {\r\n    document.body.style.overflow = drawerOpen ? \"hidden\" : \"\";\r\n    return () => {\r\n      document.body.style.overflow = \"\";\r\n    };\r\n  }, [drawerOpen]);\r\n\r\n  function toggleTheme() {\r\n    const next = theme === \"dark\" ? \"light\" : \"dark\";\r\n    setTheme(next);\r\n    document.documentElement.dataset.theme = next;\r\n    localStorage.setItem(\"rp_theme\", next);\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n    } finally {\r\n      localStorage.removeItem(\"rp_user\");\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  const userLabel = useMemo(() => {\r\n    const name = (session?.name || session?.username || \"\").trim();\r\n    return name || \"User\";\r\n  }, [session]);\r\n\r\n  const canSeeAdminNav = mounted && roleUpper(session?.role) === \"ADMIN\";\r\n  const navItems = useMemo(() => {\r\n    const base = [\r\n      { href: \"/\", label: \"Dashboard\" },\r\n      { href: \"/invoices\", label: \"Invoices\" },\r\n      { href: \"/credit-notes\", label: \"Credit Notes\" },\r\n      { href: \"/products\", label: \"Stock & Categories\" },\r\n      { href: \"/stock-movements\", label: \"Stock Movements\" },\r\n      { href: \"/customers\", label: \"Customers\" },\r\n      { href: \"/suppliers\", label: \"Suppliers\" },\r\n      { href: \"/reports\", label: \"Reports & Statements\" },\r\n    ];\r\n    if (canSeeAdminNav) base.push({ href: \"/admin/users\", label: \"Users & Permissions\" });\r\n    return base;\r\n  }, [canSeeAdminNav]);\r\n\r\n  const roleLabel = useMemo(() => roleUpper(session?.role) || \"STAFF\", [session?.role]);\r\n\r\n  // âœ… FIX: use rpFetch so x-rp-user is attached -> no Unauthorized\r\n  async function load() {\r\n    setLoading(true);\r\n    setErr(null);\r\n    try {\r\n      const res = await rpFetch(`/api/products/list?activeOnly=${activeOnly ? \"1\" : \"0\"}&limit=5000`, {\r\n        cache: \"no-store\",\r\n      });\r\n      const json = await res.json().catch(() => null);\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed to load\");\r\n\r\n      setRows((json.products || []) as Product[]);\r\n      setLastSync(fmtDateTime(new Date()));\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Cannot load products\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    void load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeOnly]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const qq = q.trim().toLowerCase();\r\n    return rows.filter((p) => {\r\n      if (!qq) return true;\r\n      const hay = [p.item_code, p.sku, p.name, p.description].filter(Boolean).join(\" \").toLowerCase();\r\n      return hay.includes(qq);\r\n    });\r\n  }, [rows, q]);\r\n\r\n  const kpis = useMemo(() => {\r\n    const total = rows.length;\r\n    const active = rows.filter((p) => p.is_active).length;\r\n    const inactive = total - active;\r\n    return { total, active, inactive };\r\n  }, [rows]);\r\n\r\n  function openEdit(p: Product) {\r\n    setEditing({ ...p });\r\n    setEditOpen(true);\r\n    setOpenMenu(null);\r\n    window.setTimeout(() => nameRef.current?.focus(), 80);\r\n  }\r\n\r\n  // âœ… FIX: use rpFetch (auth header + redirect)\r\n  async function saveEdit() {\r\n    if (!editing) return;\r\n    try {\r\n      setSaving(true);\r\n\r\n      const payload = {\r\n        id: editing.id,\r\n        item_code: (editing.item_code || \"\").trim() || null,\r\n        sku: (editing.sku || \"\").trim() || null,\r\n        name: (editing.name || \"\").trim() || null,\r\n        description: (editing.description || \"\").trim() || null,\r\n        units_per_box: editing.units_per_box == null ? null : n0(editing.units_per_box),\r\n        selling_price: editing.selling_price == null ? null : Number(editing.selling_price),\r\n        image_url: (editing.image_url || \"\").trim() || null,\r\n        is_active: !!editing.is_active,\r\n      };\r\n\r\n      const res = await rpFetch(\"/api/products/update\", {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const json = await res.json().catch(() => null);\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed\");\r\n\r\n      setEditOpen(false);\r\n      setEditing(null);\r\n      showToast(\"Saved âœ…\");\r\n      await load();\r\n    } catch (e: any) {\r\n      alert(e?.message || \"Failed to save\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  // âœ… FIX: use rpFetch\r\n  async function archive(p: Product) {\r\n    const label = p.name || p.item_code || p.sku || `ID ${p.id}`;\r\n    const ok = window.confirm(`Archive product: ${label} ?\\n\\n(Archive = set inactive, safe for invoices.)`);\r\n    if (!ok) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await rpFetch(\"/api/products/archive\", {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify({ id: p.id }),\r\n      });\r\n      const json = await res.json().catch(() => null);\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed\");\r\n\r\n      showToast(\"Archived âœ…\");\r\n      await load();\r\n    } catch (e: any) {\r\n      alert(e?.message || \"Archive failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <div className=\"rp-app\">\r\n      <div className=\"rp-bg\" aria-hidden=\"true\">\r\n        <div className=\"rp-bg-orb rp-bg-orb--1\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--2\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--3\" />\r\n        <div className=\"rp-bg-grid\" />\r\n      </div>\r\n\r\n      {toast && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            right: 18,\r\n            top: 16,\r\n            zIndex: 9999,\r\n            padding: \"10px 14px\",\r\n            borderRadius: 14,\r\n            background: \"rgba(255,255,255,.92)\",\r\n            border: \"1px solid rgba(0,0,0,.12)\",\r\n            boxShadow: \"0 16px 50px rgba(0,0,0,.18)\",\r\n            fontWeight: 950,\r\n            backdropFilter: \"blur(10px)\",\r\n            maxWidth: 520,\r\n          }}\r\n        >\r\n          {toast}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"rp-shell rp-enter\">\r\n        {/* Mobile top bar */}\r\n        <div className=\"rp-mtop\">\r\n          <button type=\"button\" className=\"rp-icon-btn rp-burger\" onClick={() => setDrawerOpen(true)} aria-label=\"Open menu\">\r\n            <span aria-hidden=\"true\">\r\n              <i />\r\n              <i />\r\n              <i />\r\n            </span>\r\n          </button>\r\n\r\n          <div className=\"rp-mtop-brand\">\r\n            <div className=\"rp-mtop-title\">RampotteryHUB</div>\r\n            <div className=\"rp-mtop-sub\">Stock & Categories</div>\r\n          </div>\r\n\r\n          <button type=\"button\" className=\"rp-icon-btn\" onClick={() => void load()} aria-label=\"Refresh\">\r\n            âŸ³\r\n          </button>\r\n        </div>\r\n\r\n        {/* Overlay + Drawer */}\r\n        <button className={`rp-overlay ${drawerOpen ? \"is-open\" : \"\"}`} onClick={() => setDrawerOpen(false)} aria-label=\"Close menu\" />\r\n        <aside className={`rp-drawer ${drawerOpen ? \"is-open\" : \"\"}`}>\r\n          <div className=\"rp-drawer-head\">\r\n            <div className=\"rp-drawer-brand\">\r\n              <div className=\"rp-drawer-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={28} height={28} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-drawer-title\">RampotteryHUB</div>\r\n                <div className=\"rp-drawer-sub\">Catalog & stock</div>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"button\" className=\"rp-icon-btn\" onClick={() => setDrawerOpen(false)} aria-label=\"Close\">\r\n              âœ•\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"rp-drawer-body\">\r\n            <nav className=\"rp-nav\">\r\n              {navItems.map((it) => (\r\n                <Link\r\n                  key={it.href}\r\n                  className={`rp-nav-btn ${it.href === \"/products\" ? \"rp-nav-btn--active\" : \"\"}`}\r\n                  href={it.href}\r\n                  onClick={() => setDrawerOpen(false)}\r\n                  prefetch={false}\r\n                >\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    â–¶\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{userLabel}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{roleUpper(session?.role) || \"STAFF\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Desktop sidebar */}\r\n        <aside className=\"rp-side\">\r\n          <div className=\"rp-side-card rp-card-anim\" style={{ minHeight: \"calc(100vh - 28px)\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <div className=\"rp-brand\">\r\n              <div className=\"rp-brand-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={30} height={30} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-brand-title\">RampotteryHUB</div>\r\n                <div className=\"rp-brand-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <nav className=\"rp-nav\" style={{ flex: 1 }}>\r\n              {navItems.map((it) => (\r\n                <Link key={it.href} className={`rp-nav-btn ${it.href === \"/products\" ? \"rp-nav-btn--active\" : \"\"}`} href={it.href} prefetch={false}>\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    â–¶\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\" style={{ marginTop: \"auto\" }}>\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{userLabel}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{roleLabel}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main */}\r\n        <main className=\"rp-main\">\r\n          {/* Top bar */}\r\n          <header className=\"rp-top rp-top--saas rp-card-anim\" style={{ animationDelay: \"60ms\" }}>\r\n            <div className=\"rp-top-left--actions\">\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--brand\" onClick={toggleTheme}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                {theme === \"dark\" ? \"â˜€ Light\" : \"ðŸŒ™ Dark\"}\r\n              </button>\r\n\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--danger\" onClick={handleLogout}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                Log Out\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-top-center--logo\">\r\n              <div className=\"rp-top-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery\" width={44} height={44} priority />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-top-right--sync\">\r\n              <div className=\"rp-sync\">\r\n                <div className=\"rp-sync-label\">Last sync :</div>\r\n                <div className=\"rp-sync-time\">{lastSync || \"â€”\"}</div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Executive header */}\r\n          <section className=\"rp-exec rp-card-anim\">\r\n            <div className=\"rp-exec__left\">\r\n              <div className=\"rp-exec__title\">Stock & Categories</div>\r\n              <div className=\"rp-exec__sub\">Catalog â€¢ pricing â€¢ thumbnails â€¢ bulk import</div>\r\n            </div>\r\n            <div className=\"rp-exec__right\">\r\n              <span className={`rp-live ${loading ? \"is-dim\" : \"\"}`}>\r\n                <span className=\"rp-live-dot\" aria-hidden=\"true\" />\r\n                {loading ? \"Syncing\" : \"Live\"}\r\n              </span>\r\n              <span className={`rp-chip rp-chip--soft ${err ? \"rp-chip--warn\" : \"\"}`}>{err ? \"Attention needed\" : \"All systems normal\"}</span>\r\n            </div>\r\n          </section>\r\n\r\n          {/* KPI row */}\r\n          <section className=\"rp-kpi-pro rp-card-anim\">\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Total</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.total}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Products</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Active</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.active}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Sellable</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Inactive</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.inactive}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Archived</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">View</div>\r\n              <div className=\"rp-kpi-pro__value\">{activeOnly ? \"Active\" : \"All\"}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Filter</div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Controls */}\r\n          <section className=\"rp-actions rp-card-anim\">\r\n            <div className=\"rp-seg rp-seg--pro\">\r\n              <button className=\"rp-seg-item rp-seg-item--brand\" type=\"button\" onClick={() => void load()} disabled={loading}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  âŸ³\r\n                </span>\r\n                {loading ? \"Loadingâ€¦\" : \"Refresh\"}\r\n              </button>\r\n\r\n              {/* Import price list */}\r\n              <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/products/import\" prefetch={false}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  â¬†\r\n                </span>\r\n                Import price list\r\n              </Link>\r\n\r\n              <label className=\"rp-seg-item rp-seg-item--brand\" style={{ cursor: \"pointer\" }}>\r\n                <input type=\"checkbox\" checked={activeOnly} onChange={(e) => setActiveOnly(e.target.checked)} style={{ marginRight: 10 }} />\r\n                Active only\r\n              </label>\r\n\r\n              <div style={{ marginLeft: \"auto\", display: \"flex\", alignItems: \"center\", gap: 10, flexWrap: \"wrap\" }}>\r\n                <input className=\"rp-input\" placeholder=\"Search code / sku / nameâ€¦\" value={q} onChange={(e) => setQ(e.target.value)} style={{ minWidth: 260 }} />\r\n                <span className=\"rp-chip rp-chip--soft\">\r\n                  Showing <b style={{ marginLeft: 6 }}>{filtered.length}</b>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Register */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Products & Prices</div>\r\n                <div className=\"rp-card-sub\">Mobile scroll â€¢ pinned first column â€¢ pinned actions</div>\r\n              </div>\r\n              <span className={`rp-chip ${loading ? \"is-dim\" : \"\"}`}>{loading ? \"Loadingâ€¦\" : \"Ready\"}</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body\">\r\n              {err && (\r\n                <div className=\"rp-note rp-note--warn\" style={{ marginBottom: 12, whiteSpace: \"pre-wrap\" }}>\r\n                  <b>Cannot load products:</b> {err}\r\n                </div>\r\n              )}\r\n\r\n              {/* âœ… Pinned-table wrapper */}\r\n              <div className=\"rp-table-wrap\">\r\n                <div className=\"rp-table-scroll\">\r\n                  <div className=\"rp-table-scroll__inner\">\r\n                    <table className=\"rp-table rp-table--premium\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th style={{ width: 70 }}>SN</th>\r\n\r\n                          {/* âœ… pinned first column */}\r\n                          <th className=\"rp-pin\" style={{ width: 190 }}>\r\n                            Product Ref\r\n                          </th>\r\n\r\n                          <th style={{ width: 110 }}>Photo</th>\r\n                          <th style={{ minWidth: 260 }}>Description</th>\r\n                          <th className=\"rp-right rp-col-hide-sm\" style={{ width: 130 }}>\r\n                            Units/Box\r\n                          </th>\r\n                          <th className=\"rp-right rp-col-hide-sm\" style={{ width: 160 }}>\r\n                            Price/Pcs\r\n                          </th>\r\n                          <th style={{ width: 120 }}>Status</th>\r\n\r\n                          {/* âœ… pinned right actions */}\r\n                          <th className=\"rp-pin-right\" style={{ width: 64 }} />\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        {!filtered.length ? (\r\n                          <tr>\r\n                            <td colSpan={8} className=\"rp-td-empty\">\r\n                              {loading ? \"Loading productsâ€¦\" : \"No products found.\"}\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          filtered.map((p, idx) => {\r\n                            const img = p.image_url || null;\r\n                            const code = (p.item_code || p.sku || \"â€”\").trim() || \"â€”\";\r\n                            const displayName = p.name || \"â€”\";\r\n\r\n                            return (\r\n                              <tr key={p.id} className=\"rp-row-hover\">\r\n                                <td className=\"rp-strong\" style={{ textAlign: \"center\" }}>\r\n                                  {idx + 1}\r\n                                </td>\r\n\r\n                                {/* âœ… pinned first cell */}\r\n                                <td className=\"rp-pin rp-strong\" style={{ fontVariantNumeric: \"tabular-nums\" }}>\r\n                                  {code}\r\n                                </td>\r\n\r\n                                <td>\r\n                                  {img ? (\r\n                                    <a className=\"rp-thumb\" href={img} target=\"_blank\" rel=\"noreferrer\" title=\"Open image\">\r\n                                      <Image src={img} alt={displayName} fill className=\"rp-thumb-img\" sizes=\"60px\" />\r\n                                    </a>\r\n                                  ) : (\r\n                                    <div className=\"rp-thumb rp-thumb--empty\" title=\"No image\">\r\n                                      <span>â€”</span>\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td>\r\n                                  <div style={{ fontWeight: 950 }}>{displayName}</div>\r\n                                  {p.description ? (\r\n                                    <div className=\"rp-muted\" style={{ marginTop: 6 }}>\r\n                                      {p.description}\r\n                                    </div>\r\n                                  ) : null}\r\n\r\n                                  {/* Mobile compact values */}\r\n                                  <div className=\"rp-only-sm\">\r\n                                    <div className=\"rp-mini-row\">\r\n                                      <span>Units/Box</span>\r\n                                      <b>{p.units_per_box == null ? \"â€”\" : String(p.units_per_box)}</b>\r\n                                    </div>\r\n                                    <div className=\"rp-mini-row\">\r\n                                      <span>Price</span>\r\n                                      <b>{fmtRs(p.selling_price)}</b>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n\r\n                                <td className=\"rp-right rp-col-hide-sm rp-strong\">{p.units_per_box == null ? \"â€”\" : String(p.units_per_box)}</td>\r\n                                <td className=\"rp-right rp-col-hide-sm rp-strong\">{fmtRs(p.selling_price)}</td>\r\n\r\n                                <td>\r\n                                  {p.is_active ? (\r\n                                    <span className=\"rp-pill rp-pill--in\">ACTIVE</span>\r\n                                  ) : (\r\n                                    <span className=\"rp-pill rp-pill--out\">INACTIVE</span>\r\n                                  )}\r\n                                </td>\r\n\r\n                                {/* âœ… pinned right â‹® */}\r\n                                <td className=\"rp-pin-right\" style={{ textAlign: \"right\" }}>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"rp-row-actions-btn\"\r\n                                    aria-label=\"Product actions\"\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation();\r\n                                      setOpenMenu(openMenu === p.id ? null : p.id);\r\n                                    }}\r\n                                  >\r\n                                    â‹®\r\n                                  </button>\r\n\r\n                                  {openMenu === p.id && (\r\n                                    <div className=\"rp-row-actions-menu\" onClick={(e) => e.stopPropagation()}>\r\n                                      <button onClick={() => openEdit(p)}>Edit</button>\r\n\r\n                                      <button\r\n                                        onClick={async () => {\r\n                                          const ok = await copyToClipboard(code);\r\n                                          showToast(ok ? \"Copied âœ…\" : \"Copy failed\");\r\n                                          setOpenMenu(null);\r\n                                        }}\r\n                                      >\r\n                                        Copy code\r\n                                      </button>\r\n\r\n                                      <button\r\n                                        disabled={!img}\r\n                                        onClick={() => {\r\n                                          setOpenMenu(null);\r\n                                          if (img) window.open(img, \"_blank\", \"noopener,noreferrer\");\r\n                                        }}\r\n                                      >\r\n                                        Open image\r\n                                      </button>\r\n\r\n                                      <div className=\"rp-row-actions-sep\" />\r\n\r\n                                      <button\r\n                                        className=\"danger\"\r\n                                        onClick={() => {\r\n                                          setOpenMenu(null);\r\n                                          void archive(p);\r\n                                        }}\r\n                                      >\r\n                                        Archive\r\n                                      </button>\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <p className=\"rp-help\" style={{ marginTop: 10 }}>\r\n                Tip: Use <b>Import price list</b> to update product prices in bulk (CSV/XLSX).\r\n              </p>\r\n            </div>\r\n          </section>\r\n\r\n          <footer className=\"rp-footer\">Â© {new Date().getFullYear()} Ram Pottery Ltd â€¢ Built by Mobiz.mu</footer>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Edit modal */}\r\n      {editOpen && editing && (\r\n        <>\r\n          <button\r\n            className=\"rp-modal-overlay\"\r\n            onClick={() => {\r\n              if (saving) return;\r\n              setEditOpen(false);\r\n              setEditing(null);\r\n            }}\r\n          />\r\n\r\n          <div\r\n            className=\"rp-modal\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            onClick={(e) => e.stopPropagation()}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Escape\" && !saving) {\r\n                setEditOpen(false);\r\n                setEditing(null);\r\n              }\r\n              if (e.key === \"Enter\" && !saving) void saveEdit();\r\n            }}\r\n          >\r\n            <div className=\"rp-modal-head\">\r\n              <div>\r\n                <div className=\"rp-modal-title\">Edit Product</div>\r\n                <div className=\"rp-modal-sub\">Enter = Save â€¢ Esc = Cancel</div>\r\n              </div>\r\n              <button\r\n                className=\"rp-icon-btn\"\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  if (saving) return;\r\n                  setEditOpen(false);\r\n                  setEditing(null);\r\n                }}\r\n                aria-label=\"Close\"\r\n              >\r\n                âœ•\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-modal-body\">\r\n              <div className=\"rp-form-grid\">\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Name</span>\r\n                  <input ref={nameRef} className=\"rp-input\" value={editing.name ?? \"\"} onChange={(e) => setEditing({ ...editing, name: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Item Code</span>\r\n                  <input className=\"rp-input\" value={editing.item_code ?? \"\"} onChange={(e) => setEditing({ ...editing, item_code: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">SKU</span>\r\n                  <input className=\"rp-input\" value={editing.sku ?? \"\"} onChange={(e) => setEditing({ ...editing, sku: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Units / Box</span>\r\n                  <input className=\"rp-input\" value={editing.units_per_box ?? \"\"} onChange={(e) => setEditing({ ...editing, units_per_box: e.target.value as any })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Price / Pcs</span>\r\n                  <input className=\"rp-input\" value={editing.selling_price ?? \"\"} onChange={(e) => setEditing({ ...editing, selling_price: e.target.value as any })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\" style={{ gridColumn: \"1 / -1\" }}>\r\n                  <span className=\"rp-label\">Description</span>\r\n                  <textarea className=\"rp-input\" rows={3} value={editing.description ?? \"\"} onChange={(e) => setEditing({ ...editing, description: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\" style={{ gridColumn: \"1 / -1\" }}>\r\n                  <span className=\"rp-label\">Image URL</span>\r\n                  <input className=\"rp-input\" value={editing.image_url ?? \"\"} onChange={(e) => setEditing({ ...editing, image_url: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\" style={{ gridColumn: \"1 / -1\", display: \"flex\", alignItems: \"center\", gap: 10 }}>\r\n                  <input type=\"checkbox\" checked={!!editing.is_active} onChange={(e) => setEditing({ ...editing, is_active: e.target.checked })} />\r\n                  <span className=\"rp-label\" style={{ margin: 0 }}>\r\n                    Active (sellable)\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-modal-actions\">\r\n              <button\r\n                className=\"rp-ui-btn\"\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  if (saving) return;\r\n                  setEditOpen(false);\r\n                  setEditing(null);\r\n                }}\r\n                disabled={saving}\r\n              >\r\n                Cancel\r\n              </button>\r\n\r\n              <button className=\"rp-ui-btn rp-ui-btn--brand\" type=\"button\" onClick={() => void saveEdit()} disabled={saving}>\r\n                {saving ? \"Savingâ€¦\" : \"Save\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}