module.exports=[41336,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(71987),e=a.i(72131),f=a.i(50944),g=a.i(24767);function h(a){return String(a||"").toUpperCase()}function i(a){return"ADMIN"===h(a)}let j=a=>Number.isFinite(Number(a))?Number(a):0,k=a=>`Rs ${j(a).toFixed(2)}`;function l(a){let b=String(a||"").toUpperCase();return"PAID"===b?"Paid":"PARTIALLY_PAID"===b||"PARTIAL"===b?"Partially Paid":"VOID"===b?"Void":"Issued"}function m(a){let b=String(a??"").replace(/[^\d]/g,"");return b?8===b.length?"230"+b:b.startsWith("230")&&11===b.length?b:"":""}function n(a){let b=j(a?.discount_percent),c=j(a?.discount_amount);if(!(b>0||c>0))return"â€”";let d=[];return c>0&&d.push(`- ${k(c)}`),b>0&&d.push(`(${b.toFixed(0)}%)`),d.join(" ")}function o(){let a=(0,f.useRouter)(),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)("light"),[s,t]=(0,e.useState)(""),[u,v]=(0,e.useState)(!0),[w,x]=(0,e.useState)(null),[y,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)(null),[C,D]=(0,e.useState)([]),[E,F]=(0,e.useState)(""),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)("All"),[K,L]=(0,e.useState)(null),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)(null),[Q,R]=(0,e.useState)(0),[S,T]=(0,e.useState)(!1),U=(0,e.useRef)(null);(0,e.useEffect)(()=>{z(!0);let a="dark"===localStorage.getItem("rp_theme")?"dark":"light";r(a),document.documentElement.dataset.theme=a;try{let a=localStorage.getItem("rp_user");a&&B(JSON.parse(a))}catch{B(null)}},[]),(0,e.useEffect)(()=>(document.body.style.overflow=o?"hidden":"",()=>{document.body.style.overflow=""}),[o]),(0,e.useEffect)(()=>{let a=()=>L(null);return window.addEventListener("click",a),()=>window.removeEventListener("click",a)},[]),(0,e.useEffect)(()=>{let a=a=>{"Escape"===a.key&&(L(null),p(!1),M&&!S&&N(!1))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[M,S]);let V=y&&i(A?.role),W=(0,e.useMemo)(()=>{let a=[{href:"/",label:"Dashboard"},{href:"/invoices",label:"Invoices"},{href:"/credit-notes",label:"Credit Notes"},{href:"/products",label:"Stock & Categories"},{href:"/stock-movements",label:"Stock Movements"},{href:"/customers",label:"Customers"},{href:"/suppliers",label:"Suppliers"},{href:"/reports",label:"Reports & Statements"}];return V&&a.push({href:"/admin/users",label:"Users & Permissions"}),a},[V]),X=(0,e.useMemo)(()=>(A?.name||A?.username||"").trim()||"User",[A]),Y=(0,e.useMemo)(()=>h(A?.role)||"STAFF",[A]);function Z(){let a="dark"===q?"light":"dark";r(a),document.documentElement.dataset.theme=a,localStorage.setItem("rp_theme",a)}async function $(){try{await fetch("/api/auth/logout",{method:"POST"})}finally{localStorage.removeItem("rp_user"),window.location.href="/login"}}async function _(){try{var a;let b;v(!0),x(null);let c=await (0,g.rpFetch)("/api/invoices",{cache:"no-store"}),d=await c.json().catch(()=>({}));if(!c.ok||d?.ok===!1)throw Error(d?.error||"Failed to load invoices");D(d.invoices||[]),t((a=new Date,b=a=>String(a).padStart(2,"0"),`${b(a.getDate())}/${b(a.getMonth()+1)}/${a.getFullYear()}, ${b(a.getHours())}:${b(a.getMinutes())}:${b(a.getSeconds())}`))}catch(a){x(a?.message||"Failed to load invoices")}finally{v(!1)}}async function aa(a){if(!confirm("Mark this invoice as PAID?"))return;let b=await (0,g.rpFetch)(`/api/invoices/${a}/mark-paid`,{method:"PATCH"}),c=await b.json().catch(()=>({}));if(!b.ok||c?.ok===!1)return alert(c?.error||"Failed to mark as paid");await _()}async function ab(a){if(!confirm("Void this invoice? This cannot be undone."))return;let b=await (0,g.rpFetch)(`/api/invoices/${a}/void`,{method:"POST"}),c=await b.json().catch(()=>({}));if(!b.ok||c?.ok===!1)return alert(c?.error||"Failed to void invoice");await _()}async function ac(){if(O?.id){T(!0);try{let b=j(O?.amount_paid),c=await (0,g.rpFetch)(`/api/invoices/${O.id}/set-payment`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({amountPaid:j(Q)})}),d=await c.json().catch(()=>({}));if(!c.ok||d?.ok===!1)throw Error(d?.error||"Failed to set payment");let e=Number.isFinite(Number(d?.invoice?.amount_paid))?j(d.invoice.amount_paid):j(Q),f=Number.isFinite(Number(d?.invoice?.gross_total))?j(d.invoice.gross_total):j(O?.gross_total??O?.total_amount),h=Number.isFinite(Number(d?.invoice?.balance_remaining))?j(d.invoice.balance_remaining):Math.max(0,f-e),i=Math.max(0,e-b),k=d?.invoice?.customers||O?.customers||null,l=m(k?.whatsapp||k?.phone||"");if(l){var a;let b,c,d,f=`${window.location.origin}/api/invoices/${O.id}/pdf`,g=String(O?.invoice_number||O?.id),j=(b=(a={customerName:k?.name||"",invoiceNo:g,paidNow:i,totalPaid:e,balance:h,pdfUrl:f}).balance<=0?"PAID âœ…":"PARTIALLY PAID âœ…",c=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Number.isFinite(a)?a:0),[`Payment received âœ…`,a.customerName?`Customer: ${a.customerName}`:null,`Invoice: ${a.invoiceNo}`,`Status: ${b}`,`Paid now: Rs ${c(a.paidNow)}`,`Total paid: Rs ${c(a.totalPaid)}`,`Balance: Rs ${c(a.balance)}`,`PDF: ${a.pdfUrl}`].filter(Boolean).join("\n"));d=`https://wa.me/${l}?text=${encodeURIComponent(j)}`,window.open(d,"_blank","noopener,noreferrer")}N(!1),P(null),await _()}catch(a){alert(a?.message||"Failed to set payment")}finally{T(!1)}}}function ad(){H(E.trim())}function ae(){F(""),H("")}(0,e.useEffect)(()=>{_()},[]);let af=(0,e.useMemo)(()=>{let a=G.trim().toLowerCase();return C.filter(b=>{let c=l(b.status);if("All"!==I&&c!==I)return!1;if(!a)return!0;let d=String(b.invoice_number||"").toLowerCase(),e=String(b.customers?.name||"").toLowerCase(),f=String(b.customers?.customer_code||"").toLowerCase();return d.includes(a)||e.includes(a)||f.includes(a)})},[C,G,I]),ag=(0,e.useMemo)(()=>af.some(a=>j(a?.discount_amount)>0||j(a?.discount_percent)>0),[af]),ah=(0,e.useMemo)(()=>{let a=af.reduce((a,b)=>a+j(b.total_amount),0),b=af.reduce((a,b)=>a+j(b.amount_paid),0),c=af.reduce((a,b)=>a+j(b.balance_remaining),0);return{count:af.length,total:a,paid:b,balance:c}},[af]),ai=(0,b.jsxs)("div",{className:"rp-side-card rp-card-anim",style:{minHeight:"calc(100vh - 28px)",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{className:"rp-brand",children:[(0,b.jsx)("div",{className:"rp-brand-logo",children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery Ltd",width:30,height:30,priority:!0})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-brand-title",children:"RampotteryHUB"}),(0,b.jsx)("div",{className:"rp-brand-sub",children:"Accounting & Stock System"})]})]}),(0,b.jsx)("nav",{className:"rp-nav",style:{flex:1},children:W.map(a=>(0,b.jsxs)(c.default,{className:`rp-nav-btn ${"/invoices"===a.href?"rp-nav-btn--active":""}`,href:a.href,onClick:()=>p(!1),children:[(0,b.jsx)("span",{className:"rp-ic3d","aria-hidden":"true",children:"â–¶"}),a.label]},a.href))}),(0,b.jsxs)("div",{className:"rp-side-footer rp-side-footer--in",style:{marginTop:"auto"},children:[(0,b.jsxs)("div",{className:"rp-role",children:[(0,b.jsx)("span",{children:"Signed in"}),(0,b.jsx)("b",{title:X,children:y?X:"â€”"})]}),(0,b.jsxs)("div",{className:"rp-role",style:{marginTop:10},children:[(0,b.jsx)("span",{children:"Role"}),(0,b.jsx)("b",{children:y?Y:"â€”"})]})]})]});return(0,b.jsxs)("div",{className:"rp-app",children:[(0,b.jsxs)("div",{className:"rp-bg","aria-hidden":"true",children:[(0,b.jsx)("div",{className:"rp-bg-orb rp-bg-orb--1"}),(0,b.jsx)("div",{className:"rp-bg-orb rp-bg-orb--2"}),(0,b.jsx)("div",{className:"rp-bg-orb rp-bg-orb--3"}),(0,b.jsx)("div",{className:"rp-bg-grid"})]}),(0,b.jsxs)("div",{className:"rp-shell rp-enter",children:[(0,b.jsxs)("div",{className:"rp-mtop",children:[(0,b.jsx)("button",{type:"button",className:"rp-icon-btn rp-burger",onClick:()=>p(!0),"aria-label":"Open menu",children:(0,b.jsxs)("span",{"aria-hidden":"true",children:[(0,b.jsx)("i",{}),(0,b.jsx)("i",{}),(0,b.jsx)("i",{})]})}),(0,b.jsxs)("div",{className:"rp-mtop-brand",children:[(0,b.jsx)("div",{className:"rp-mtop-title",children:"RampotteryHUB"}),(0,b.jsx)("div",{className:"rp-mtop-sub",children:"Invoices"})]}),(0,b.jsx)("button",{type:"button",className:"rp-icon-btn",onClick:Z,"aria-label":"Toggle theme",children:"dark"===q?"â˜€":"ðŸŒ™"})]}),(0,b.jsx)("button",{className:`rp-overlay ${o?"is-open":""}`,onClick:()=>p(!1),"aria-label":"Close menu"}),(0,b.jsxs)("aside",{className:`rp-drawer ${o?"is-open":""}`,children:[(0,b.jsxs)("div",{className:"rp-drawer-head",children:[(0,b.jsxs)("div",{className:"rp-drawer-brand",children:[(0,b.jsx)("div",{className:"rp-drawer-logo",children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery Ltd",width:28,height:28,priority:!0})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-drawer-title",children:"RampotteryHUB"}),(0,b.jsx)("div",{className:"rp-drawer-sub",children:"Accounting & Stock System"})]})]}),(0,b.jsx)("button",{type:"button",className:"rp-icon-btn",onClick:()=>p(!1),"aria-label":"Close",children:"âœ•"})]}),(0,b.jsx)("div",{className:"rp-drawer-body",children:ai})]}),(0,b.jsx)("aside",{className:"rp-side",children:ai}),(0,b.jsxs)("main",{className:"rp-main",children:[(0,b.jsxs)("header",{className:"rp-top rp-top--saas rp-card-anim",style:{animationDelay:"60ms"},children:[(0,b.jsxs)("div",{className:"rp-top-left--actions",children:[(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn rp-ui-btn--brand",onClick:Z,children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),"dark"===q?"â˜€ Light":"ðŸŒ™ Dark"]}),(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn rp-ui-btn--danger",onClick:$,children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),"Log Out"]})]}),(0,b.jsx)("div",{className:"rp-top-center--logo",children:(0,b.jsx)("div",{className:"rp-top-logo",children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery",width:44,height:44,priority:!0})})}),(0,b.jsx)("div",{className:"rp-top-right--sync",children:(0,b.jsxs)("div",{className:"rp-sync",children:[(0,b.jsx)("div",{className:"rp-sync-label",children:"Last sync :"}),(0,b.jsx)("div",{className:"rp-sync-time",children:s||"â€”"})]})})]}),(0,b.jsxs)("section",{className:"rp-exec rp-card-anim",children:[(0,b.jsxs)("div",{className:"rp-exec__left",children:[(0,b.jsx)("div",{className:"rp-exec__title",children:"Invoices"}),(0,b.jsx)("div",{className:"rp-exec__sub",children:"Reprint â€¢ Duplicate â€¢ Payments â€¢ Mark Paid â€¢ Void (Admin)"})]}),(0,b.jsxs)("div",{className:"rp-exec__right",children:[(0,b.jsxs)("span",{className:`rp-live ${u?"is-dim":""}`,children:[(0,b.jsx)("span",{className:"rp-live-dot","aria-hidden":"true"}),u?"Syncing":"Live"]}),(0,b.jsx)("span",{className:`rp-chip rp-chip--soft ${w?"rp-chip--warn":""}`,children:w?"Attention needed":"All systems normal"})]})]}),(0,b.jsxs)("section",{className:"rp-kpi-pro rp-card-anim",children:[(0,b.jsxs)("div",{className:"rp-kpi-pro__cell",children:[(0,b.jsx)("div",{className:"rp-kpi-pro__title",children:"Invoices"}),(0,b.jsx)("div",{className:"rp-kpi-pro__value",children:ah.count}),(0,b.jsx)("div",{className:"rp-kpi-pro__sub",children:"Filtered results"})]}),(0,b.jsxs)("div",{className:"rp-kpi-pro__cell",children:[(0,b.jsx)("div",{className:"rp-kpi-pro__title",children:"Total"}),(0,b.jsx)("div",{className:"rp-kpi-pro__value",children:k(ah.total)}),(0,b.jsx)("div",{className:"rp-kpi-pro__sub",children:"Total invoice value"})]}),(0,b.jsxs)("div",{className:"rp-kpi-pro__cell",children:[(0,b.jsx)("div",{className:"rp-kpi-pro__title",children:"Paid"}),(0,b.jsx)("div",{className:"rp-kpi-pro__value",children:k(ah.paid)}),(0,b.jsx)("div",{className:"rp-kpi-pro__sub",children:"Collected"})]}),(0,b.jsxs)("div",{className:"rp-kpi-pro__cell",children:[(0,b.jsx)("div",{className:"rp-kpi-pro__title",children:"Outstanding"}),(0,b.jsx)("div",{className:"rp-kpi-pro__value",children:k(ah.balance)}),(0,b.jsx)("div",{className:"rp-kpi-pro__sub",children:"Balance due"})]})]}),(0,b.jsx)("section",{className:"rp-actions rp-card-anim",children:(0,b.jsxs)("div",{className:"rp-seg rp-seg--pro",children:[(0,b.jsxs)(c.default,{className:"rp-seg-item rp-seg-item--brand",href:"/invoices/new",children:[(0,b.jsx)("span",{className:"rp-icbtn","aria-hidden":"true",children:"ðŸ§¾"}),"New Invoice"]}),(0,b.jsxs)("button",{type:"button",className:"rp-seg-item rp-seg-item--brand",onClick:_,disabled:u,children:[(0,b.jsx)("span",{className:"rp-icbtn","aria-hidden":"true",children:"âŸ³"}),u?"Loadingâ€¦":"Refresh"]})]})}),(0,b.jsxs)("section",{className:"rp-card rp-card-anim",children:[(0,b.jsx)("div",{className:"rp-card-head rp-card-head--tight",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-card-title",children:"Search & Filters"}),(0,b.jsx)("div",{className:"rp-card-sub",children:"Invoice no â€¢ customer â€¢ code â€¢ status"})]})}),(0,b.jsxs)("div",{className:"rp-card-body",children:[(0,b.jsxs)("div",{className:"rp-filters-row",children:[(0,b.jsx)("input",{className:"rp-input rp-input--full",placeholder:"Search invoice or customerâ€¦",value:E,onChange:a=>F(a.target.value),onKeyDown:a=>{"Enter"===a.key&&ad(),"Escape"===a.key&&ae()}}),(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn rp-ui-btn--brand",onClick:ad,children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),"Search"]}),(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn",onClick:ae,children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),"Clear"]})]}),(0,b.jsx)("div",{className:"rp-chip-row",children:["All","Issued","Paid","Partially Paid","Void"].map(a=>(0,b.jsx)("button",{className:`rp-filter-pill ${I===a?"rp-filter-pill--active":""}`,onClick:()=>J(a),children:a},a))}),w?(0,b.jsx)("div",{className:"rp-note rp-note--warn",children:w}):null]})]}),(0,b.jsxs)("section",{className:"rp-card rp-card-anim",children:[(0,b.jsxs)("div",{className:"rp-card-head rp-card-head--tight",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-card-title",children:"Invoice Register"}),(0,b.jsxs)("div",{className:"rp-card-sub",children:["Clean view â€¢ scroll on mobile â€¢ pinned first column",ag?" â€¢ discount snapshot (audit-proof)":""]})]}),(0,b.jsx)("span",{className:`rp-chip ${u?"is-dim":""}`,children:u?"Loadingâ€¦":"Ready"})]}),(0,b.jsx)("div",{className:"rp-card-body",children:(0,b.jsx)("div",{className:"rp-table-wrap",children:(0,b.jsx)("div",{className:"rp-table-scroll",children:(0,b.jsx)("div",{className:"rp-table-scroll__inner",children:(0,b.jsxs)("table",{className:"rp-table rp-table--premium",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"rp-pin",style:{width:140},children:"Invoice"}),(0,b.jsx)("th",{style:{width:120},children:"Date"}),(0,b.jsx)("th",{style:{minWidth:220},children:"Customer"}),(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:140},children:"Total"}),ag?(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:160},children:"Discount"}):null,(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:140},children:"Paid"}),(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:150},children:"Balance"}),(0,b.jsx)("th",{style:{width:120},children:"Status"}),(0,b.jsx)("th",{className:"rp-pin-right",style:{width:64}})]})}),(0,b.jsx)("tbody",{children:0===af.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:8+ +!!ag,className:"rp-td-empty",children:u?"Loading invoicesâ€¦":"No invoices found."})}):af.map(c=>{var d;let e,f=l(c.status),g=i(d=A?.role)||"MANAGER"===h(d),o=i(A?.role)&&"Void"!==f,p=j(c?.discount_percent)>0||j(c?.discount_amount)>0,q=m(c.customers?.whatsapp||c.customers?.phone||"");return(0,b.jsxs)("tr",{className:"rp-row-hover",children:[(0,b.jsx)("td",{className:"rp-pin rp-strong",children:(0,b.jsx)("button",{type:"button",className:"rp-row-link",onClick:()=>a.push(`/invoices/${c.id}`),children:c.invoice_number||`#${c.id}`})}),(0,b.jsx)("td",{children:function(a){if(!a)return"â€”";let b=new Date(a);if(Number.isNaN(b.getTime()))return a;let c=a=>String(a).padStart(2,"0");return`${c(b.getDate())}/${c(b.getMonth()+1)}/${b.getFullYear()}`}(c.invoice_date)}),(0,b.jsxs)("td",{children:[(0,b.jsxs)("div",{className:"rp-strong",style:{display:"flex",alignItems:"center",gap:8},children:[(0,b.jsx)("span",{children:c.customers?.name||"â€”"}),q?(0,b.jsx)("span",{title:`WhatsApp: ${q}`,children:"ðŸŸ¢"}):null]}),(0,b.jsx)("div",{className:"rp-muted",children:c.customers?.customer_code||""}),(0,b.jsxs)("div",{className:"rp-only-sm",children:[(0,b.jsxs)("div",{className:"rp-mini-row",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsx)("b",{children:k(j(c.total_amount))})]}),ag?(0,b.jsxs)("div",{className:"rp-mini-row",children:[(0,b.jsx)("span",{children:"Discount"}),(0,b.jsx)("b",{style:{color:p?"#b91c1c":"inherit"},children:n(c)})]}):null,(0,b.jsxs)("div",{className:"rp-mini-row",children:[(0,b.jsx)("span",{children:"Paid"}),(0,b.jsx)("b",{children:k(j(c.amount_paid))})]}),(0,b.jsxs)("div",{className:"rp-mini-row",children:[(0,b.jsx)("span",{children:"Balance"}),(0,b.jsx)("b",{children:k(j(c.balance_remaining))})]})]})]}),(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm",children:k(j(c.total_amount))}),ag?(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm",style:{color:p?"#b91c1c":"inherit",fontWeight:p?900:700},title:p?"Discount snapshot stored on invoice":"",children:n(c)}):null,(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm",children:k(j(c.amount_paid))}),(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm",children:k(j(c.balance_remaining))}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"rp-badge "+("Paid"===(e=l(c.status))?"rp-badge--paid":"Partially Paid"===e?"rp-badge--partial":"Void"===e?"rp-badge--void":"rp-badge--issued"),children:f})}),(0,b.jsxs)("td",{className:"rp-actions-cell rp-pin-right",children:[(0,b.jsx)("button",{type:"button",className:"rp-row-actions-btn","aria-label":"Invoice actions",onClick:a=>{a.stopPropagation(),L(K===c.id?null:c.id)},children:"â‹®"}),K===c.id&&(0,b.jsxs)("div",{className:"rp-row-actions-menu",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:()=>{L(null),a.push(`/invoices/${c.id}`)},children:"Reprint"}),g&&(0,b.jsx)("button",{onClick:()=>{var b;return b=c.id,void a.push(`/invoices/new?duplicate=${encodeURIComponent(String(b))}`)},children:"Duplicate"}),"Void"!==f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"rp-row-actions-sep"}),(0,b.jsx)("button",{onClick:()=>{P(c),R(j(c.amount_paid)),N(!0),L(null),setTimeout(()=>U.current?.focus(),30)},children:"Set Paymentâ€¦"}),"Paid"!==f&&(0,b.jsx)("button",{onClick:()=>aa(c.id),children:"Mark as Paid"}),o&&(0,b.jsx)("button",{className:"danger",onClick:()=>ab(c.id),children:"Void Invoice"})]})]})]})]},String(c.id))})})]})})})})})]}),(0,b.jsxs)("footer",{className:"rp-footer",children:["Â© ",new Date().getFullYear()," Ram Pottery Ltd â€¢ Built by Mobiz.mu"]})]})]}),M&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"rp-modal-overlay",onClick:()=>S?null:N(!1)}),(0,b.jsxs)("div",{className:"rp-modal",onKeyDown:a=>{"Escape"!==a.key||S||N(!1),"Enter"!==a.key||S||ac()},children:[(0,b.jsxs)("div",{className:"rp-modal-head",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-modal-title",children:"Set Payment"}),(0,b.jsxs)("div",{className:"rp-modal-sub",children:[O?.invoice_number||""," â€¢ ",O?.customers?.name||""]})]}),(0,b.jsx)("button",{className:"rp-icon-btn",onClick:()=>S?null:N(!1),children:"âœ•"})]}),(0,b.jsxs)("div",{className:"rp-modal-body",children:[(0,b.jsxs)("div",{className:"rp-field",children:[(0,b.jsx)("label",{className:"rp-label",children:"Amount Paid"}),(0,b.jsx)("input",{ref:U,className:"rp-input rp-input--full rp-input--right",value:Q,onChange:a=>R(j(a.target.value))}),(0,b.jsxs)("div",{className:"rp-help",children:["Total: ",(0,b.jsx)("b",{children:k(j(O?.gross_total??O?.total_amount))})," â€¢ Current paid:"," ",(0,b.jsx)("b",{children:k(j(O?.amount_paid))})]})]}),(0,b.jsxs)("div",{className:"rp-modal-actions",children:[(0,b.jsx)("button",{className:"rp-ui-btn",onClick:()=>N(!1),disabled:S,children:"Cancel"}),(0,b.jsx)("button",{className:"rp-ui-btn rp-ui-btn--brand",onClick:ac,disabled:S,children:S?"Savingâ€¦":"Save Payment"})]})]})]})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=app_invoices_page_tsx_9c2beab6._.js.map