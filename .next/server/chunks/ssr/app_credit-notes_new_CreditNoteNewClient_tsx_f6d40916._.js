module.exports=[38493,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(71987),e=a.i(72131),f=a.i(50944),g=a.i(88045);function h(a){let b=Number(a??0);return Number.isFinite(b)?b:0}function i(a){return+a.toFixed(2)}function j(a){var b,c;let d,e,f=Math.max(1,h(a.units_per_box)),g=(b=a.uom,c=a.box_qty,d=h(c),e=Math.max(1,h(f)),"BOX"===b?Math.max(0,Math.floor(d)*e):Math.max(0,Math.floor(d))),j=i(.15*h(a.unitExcl)),k=i(h(a.unitExcl)+j),l=i(k*g);return{...a,units_per_box:f,total_qty:g,unitVat:j,unitIncl:k,lineTotal:l}}function k(a){return a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function l(a){let b=a=>String(a).padStart(2,"0");return`${b(a.getDate())}/${b(a.getMonth()+1)}/${a.getFullYear()}, ${b(a.getHours())}:${b(a.getMinutes())}:${b(a.getSeconds())}`}function m(a){return j({id:a,productId:"",sku:"",description:"",uom:"BOX",box_qty:0,units_per_box:1,total_qty:0,unitExcl:0,unitVat:0,unitIncl:0,lineTotal:0})}function n(){let a=(0,f.useRouter)(),n=(0,f.useSearchParams)(),[o,p]=(0,e.useState)(null);function q(a){p(a),window.setTimeout(()=>p(null),2400)}let[r,s]=(0,e.useState)("â€”"),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)([]),[z,A]=(0,e.useState)([]),[B,C]=(0,e.useState)(!0),[D,E]=(0,e.useState)(""),[F,G]=(0,e.useState)(new Date().toISOString().slice(0,10)),[H,I]=(0,e.useState)(""),[J,K]=(0,e.useState)(""),[L,M]=(0,e.useState)(!1),[N,O]=(0,e.useState)([m(1)]),P=(0,e.useRef)(null),Q=(0,e.useRef)(null);function R(){let a=!t;u(a),document.documentElement.setAttribute("data-theme",a?"dark":"light"),localStorage.setItem("rp_theme",a?"dark":"light")}(0,e.useEffect)(()=>{u(!1),document.documentElement.setAttribute("data-theme","light"),s(l(new Date))},[]),(0,e.useEffect)(()=>{if("u">typeof document)return document.body.style.overflow=v?"hidden":"",()=>{document.body.style.overflow=""}},[v]),(0,e.useEffect)(()=>{function a(a){if("Escape"===a.key){v&&w(!1);return}"Enter"===a.key&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),V())}return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[v,N,D,F,H,J]),(0,e.useEffect)(()=>{!async function(){C(!0);try{let{data:a}=await g.supabase.from("customers").select("id, name, customer_code").order("name");y(a??[]);let{data:b}=await g.supabase.from("products").select("id, sku, name, selling_price, units_per_box, unit_per_box").order("sku");A(b??[])}finally{C(!1),s(l(new Date)),window.setTimeout(()=>P.current?.focus(),120)}}()},[]),(0,e.useEffect)(()=>{let a=n.get("customerId"),b=n.get("invoiceId");a&&/^\d+$/.test(a)&&E(a),b&&/^\d+$/.test(b)&&I(b)},[n]);let S=(0,e.useMemo)(()=>{let a=Number(D);return a&&x.find(b=>b.id===a)||null},[D,x]),T=(0,e.useMemo)(()=>{let a=N.reduce((a,b)=>a+h(b.total_qty)*h(b.unitExcl),0),b=.15*a;return{subtotal:i(a),vat:i(b),total:i(a+b)}},[N]),U=(a,b)=>{O(c=>c.map(c=>c.id===a?j({...c,...b}):c))},V=async()=>{if(L)return;if(!D){q("Select a customer first âš ï¸"),P.current?.focus();return}let b=N.filter(a=>a.productId&&h(a.total_qty)>0);if(!b.length)return void q("Add at least 1 item with qty > 0 âš ï¸");try{M(!0);let c=await fetch("/api/credit-notes/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:Number(D),creditNoteDate:F,invoiceId:H?Number(H):null,reason:J||null,subtotal:T.subtotal,vatAmount:T.vat,totalAmount:T.total,items:b.map(a=>({product_id:Number(a.productId),total_qty:h(a.total_qty),unit_price_excl_vat:h(a.unitExcl),unit_vat:h(a.unitVat),unit_price_incl_vat:h(a.unitIncl),line_total:h(a.lineTotal)}))})}),d=await c.json();if(!c.ok||!d.ok)throw Error(d.error||"Failed to create credit note");q("Credit note created âœ…"),window.setTimeout(()=>{a.push(`/credit-notes/${d.creditNoteId}`)},650)}catch(a){q(a?.message||"Failed to create credit note")}finally{M(!1)}},W="#e30613",X="w-full h-[42px] rounded-2xl border border-[rgba(148,163,184,.35)] bg-[rgba(255,255,255,.92)] px-3 font-extrabold outline-none",Y="text-[12px] font-black tracking-wide text-[rgba(17,24,39,.85)]",Z="h-[42px] rounded-2xl border border-[rgba(148,163,184,.35)] bg-[rgba(255,255,255,.92)] px-3 font-extrabold outline-none text-right";return(0,b.jsxs)("div",{className:"rp-app",children:[(0,b.jsxs)("div",{className:"rp-bg","aria-hidden":"true",children:[(0,b.jsx)("span",{className:"rp-bg-orb rp-bg-orb--1"}),(0,b.jsx)("span",{className:"rp-bg-orb rp-bg-orb--2"}),(0,b.jsx)("span",{className:"rp-bg-orb rp-bg-orb--3"}),(0,b.jsx)("span",{className:"rp-bg-grid"})]}),o&&(0,b.jsx)("div",{style:{position:"fixed",right:18,top:16,zIndex:9999,padding:"10px 14px",borderRadius:14,background:"rgba(255,255,255,.92)",border:"1px solid rgba(0,0,0,.12)",boxShadow:"0 16px 50px rgba(0,0,0,.18)",fontWeight:950,backdropFilter:"blur(10px)",maxWidth:520},children:o}),(0,b.jsxs)("div",{className:"rp-shell rp-enter",children:[(0,b.jsxs)("div",{className:"rp-mtop",children:[(0,b.jsx)("button",{type:"button",className:"rp-icon-btn","aria-label":"Open menu",onClick:()=>w(!0),children:(0,b.jsxs)("span",{className:"rp-burger","aria-hidden":"true",children:[(0,b.jsx)("i",{}),(0,b.jsx)("i",{}),(0,b.jsx)("i",{})]})}),(0,b.jsxs)("div",{className:"rp-mtop-brand",children:[(0,b.jsx)("div",{className:"rp-mtop-title",children:"New Credit Note"}),(0,b.jsx)("div",{className:"rp-mtop-sub",children:"Ctrl/âŒ˜ + Enter = Save"})]}),(0,b.jsx)("button",{type:"button",className:"rp-icon-btn",onClick:R,"aria-label":"Toggle theme",children:t?"â˜€ï¸":"ðŸŒ™"})]}),(0,b.jsx)("button",{type:"button",className:`rp-overlay ${v?"is-open":""}`,"aria-label":"Close menu",onClick:()=>w(!1)}),(0,b.jsxs)("aside",{className:`rp-drawer ${v?"is-open":""}`,"aria-label":"Mobile navigation",children:[(0,b.jsxs)("div",{className:"rp-drawer-head",children:[(0,b.jsxs)("div",{className:"rp-drawer-brand",children:[(0,b.jsx)("div",{className:"rp-drawer-logo",children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery Ltd",width:40,height:40,priority:!0})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-drawer-title",children:"Ram Pottery Ltd"}),(0,b.jsx)("div",{className:"rp-drawer-sub",children:"Accounting & Stock"})]})]}),(0,b.jsx)("button",{type:"button",className:"rp-icon-btn",onClick:()=>w(!1),"aria-label":"Close menu",children:"âœ•"})]}),(0,b.jsxs)("nav",{className:"rp-nav",onClick:()=>w(!1),children:[(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/",children:"Dashboard"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/invoices",children:"Invoices"}),(0,b.jsx)(c.default,{className:"rp-nav-btn rp-nav-btn--active",href:"/credit-notes",children:"Credit Notes"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/products",children:"Stock & Categories"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/customers",children:"Customers"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/reports",children:"Reports & Statements"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/admin/users",children:"Users & Permissions"})]})]}),(0,b.jsx)("aside",{className:"rp-side",children:(0,b.jsxs)("div",{className:"rp-side-card rp-card-anim",children:[(0,b.jsxs)("div",{className:"rp-brand",children:[(0,b.jsx)("div",{className:"rp-brand-logo",children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery Ltd",width:44,height:44,priority:!0})}),(0,b.jsxs)("div",{className:"rp-brand-text",children:[(0,b.jsx)("div",{className:"rp-brand-title",children:"Ram Pottery Ltd"}),(0,b.jsx)("div",{className:"rp-brand-sub",children:"Online Accounting & Stock Manager"})]})]}),(0,b.jsxs)("nav",{className:"rp-nav",children:[(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/",children:"Dashboard"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/invoices",children:"Invoices"}),(0,b.jsx)(c.default,{className:"rp-nav-btn rp-nav-btn--active",href:"/credit-notes",children:"Credit Notes"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/products",children:"Stock & Categories"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/stock-movements",children:"Stock Movements"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/customers",children:"Customers"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/suppliers",children:"Suppliers"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/reports",children:"Reports & Statements"}),(0,b.jsx)(c.default,{className:"rp-nav-btn",href:"/admin/users",children:"Users & Permissions"})]}),(0,b.jsx)("div",{className:"rp-side-footer",children:(0,b.jsxs)("div",{className:"rp-role",children:[(0,b.jsx)("span",{children:"Doc"}),(0,b.jsx)("b",{children:"Credit Note"})]})})]})}),(0,b.jsxs)("main",{className:"rp-main",children:[(0,b.jsxs)("header",{className:"rp-top rp-top--saas rp-card-anim",style:{animationDelay:"60ms"},children:[(0,b.jsxs)("div",{className:"rp-top-left--actions",children:[(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn rp-ui-btn--brand",onClick:R,children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),t?"â˜€ Light":"ðŸŒ™ Dark"]}),(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn",onClick:()=>a.push("/credit-notes"),children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),"Back"]})]}),(0,b.jsx)("div",{className:"rp-top-center--logo",children:(0,b.jsx)("div",{className:"rp-top-logo",children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery",width:44,height:44,priority:!0})})}),(0,b.jsx)("div",{className:"rp-top-right--sync",children:(0,b.jsxs)("div",{className:"rp-sync",children:[(0,b.jsx)("div",{className:"rp-sync-label",children:"Last sync :"}),(0,b.jsx)("div",{className:"rp-sync-time",children:r})]})})]}),(0,b.jsxs)("section",{className:"rp-exec rp-card-anim",children:[(0,b.jsxs)("div",{className:"rp-exec__left",children:[(0,b.jsx)("div",{className:"rp-exec__title",children:"New Credit Note"}),(0,b.jsx)("div",{className:"rp-exec__sub",children:"Invoice-style BOX/PCS â€¢ Unit/Box auto â€¢ Total Qty auto â€¢ VAT 15%"})]}),(0,b.jsxs)("div",{className:"rp-exec__right",children:[(0,b.jsxs)("span",{className:`rp-live ${L?"is-dim":""}`,children:[(0,b.jsx)("span",{className:"rp-live-dot","aria-hidden":"true"}),L?"Saving":"Live"]}),(0,b.jsx)("span",{className:"rp-chip rp-chip--soft",children:"Reprint-ready"})]})]}),(0,b.jsx)("section",{className:"rp-card rp-card-anim",style:{animationDelay:"140ms"},children:(0,b.jsx)("div",{className:"rp-card-body",style:{padding:16},children:(0,b.jsxs)("div",{style:{background:"#fff",borderRadius:18,border:"1px solid rgba(148,163,184,.35)",boxShadow:"0 25px 80px rgba(0,0,0,.10)",overflow:"hidden"},children:[(0,b.jsx)("div",{style:{padding:16,borderBottom:"1px solid rgba(148,163,184,.22)"},children:(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:14,alignItems:"center"},children:[(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)(d.default,{src:"/images/logo/logo.png",alt:"Ram Pottery",width:96,height:96,priority:!0})}),(0,b.jsxs)("div",{style:{textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:32,fontWeight:1e3,letterSpacing:".06em",color:W},children:"RAM POTTERY LTD"}),(0,b.jsx)("div",{style:{fontSize:12,fontWeight:900,opacity:.82},children:"MANUFACTURER & IMPORTER OF QUALITY CLAY"}),(0,b.jsx)("div",{style:{fontSize:12,fontWeight:900,opacity:.82},children:"PRODUCTS AND OTHER RELIGIOUS ITEMS"}),(0,b.jsx)("div",{style:{marginTop:8,fontSize:13,fontWeight:850},children:"Robert Kennedy Street, Reunion Maurel, Petit Raffray - Mauritius"}),(0,b.jsxs)("div",{style:{marginTop:6,fontSize:12,fontWeight:850},children:[(0,b.jsx)("span",{style:{color:W,fontWeight:1e3},children:"Tel:"})," ","+230 57788884"," â€¢ ","+230 58060268"," â€¢ ","+230 52522844"]}),(0,b.jsxs)("div",{style:{marginTop:4,fontSize:12,fontWeight:850},children:[(0,b.jsx)("span",{style:{color:W,fontWeight:1e3},children:"Email:"})," ","info@rampottery.com"," â€¢"," ",(0,b.jsx)("span",{style:{color:W,fontWeight:1e3},children:"Web:"})," ","www.rampottery.com"]}),(0,b.jsx)("div",{style:{marginTop:10,fontSize:14,fontWeight:1e3,color:W,letterSpacing:".14em"},children:"CREDIT NOTE"})]})]})}),(0,b.jsxs)("div",{style:{padding:16},children:[(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:14},children:[(0,b.jsxs)("div",{className:"rp-card",style:{margin:0},children:[(0,b.jsxs)("div",{className:"rp-card-head rp-card-head--tight",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-card-title",children:"Customer"}),(0,b.jsx)("div",{className:"rp-card-sub",children:"Auto-fill from customer list"})]}),(0,b.jsx)("span",{className:"rp-chip rp-chip--soft",children:B?"Loadingâ€¦":"Ready"})]}),(0,b.jsx)("div",{className:"rp-card-body",style:{paddingTop:10},children:(0,b.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,b.jsxs)("label",{children:[(0,b.jsx)("div",{className:Y,children:"Customer *"}),(0,b.jsxs)("select",{ref:P,className:X,value:D,onChange:a=>E(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select customer"}),x.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.customer_code?`${a.customer_code} â€” `:"",a.name]},a.id))]})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:Y,children:"Customer Code"}),(0,b.jsx)("div",{style:{fontWeight:1e3,paddingTop:6},children:S?.customer_code||"â€”"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:Y,children:"Name"}),(0,b.jsx)("div",{style:{fontWeight:1e3,paddingTop:6},children:S?.name||"â€”"})]})]}),(0,b.jsxs)("label",{children:[(0,b.jsx)("div",{className:Y,children:"Reason"}),(0,b.jsx)("input",{ref:Q,className:X,value:J,onChange:a=>K(a.target.value),placeholder:"Returned goods / Damaged / Price adjustmentâ€¦"})]})]})})]}),(0,b.jsxs)("div",{className:"rp-card",style:{margin:0},children:[(0,b.jsxs)("div",{className:"rp-card-head rp-card-head--tight",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-card-title",children:"Document"}),(0,b.jsx)("div",{className:"rp-card-sub",children:"BRN â€¢ VAT â€¢ reference"})]}),(0,b.jsx)("span",{className:"rp-chip",children:"VAT 15%"})]}),(0,b.jsx)("div",{className:"rp-card-body",style:{paddingTop:10},children:(0,b.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:Y,children:"Date *"}),(0,b.jsx)("input",{type:"date",className:X,value:F,onChange:a=>G(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:Y,children:"Credit Note No"}),(0,b.jsx)("div",{style:{fontWeight:1e3,paddingTop:10},children:"AUTO"})]})]}),(0,b.jsxs)("label",{children:[(0,b.jsx)("div",{className:Y,children:"Related Invoice ID (optional)"}),(0,b.jsx)("input",{className:X,value:H,onChange:a=>I(a.target.value),placeholder:"e.g. 123"})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[(0,b.jsxs)("span",{className:"rp-chip rp-chip--soft",children:["BRN: ","C17144377"]}),(0,b.jsx)("span",{className:"rp-chip rp-chip--soft",children:"VAT:123456789"})]})]})})]})]}),(0,b.jsxs)("div",{className:"rp-card",style:{marginTop:14},children:[(0,b.jsxs)("div",{className:"rp-card-head rp-card-head--tight",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"rp-card-title",children:"Items"}),(0,b.jsx)("div",{className:"rp-card-sub",children:"Invoice-style: BOX/PCS + Qty â†’ Unit/Box + Total Qty auto"})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn",onClick:()=>{O(a=>[...a,m(a.length+1)])},children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),"Add row"]}),(0,b.jsxs)("button",{type:"button",className:"rp-ui-btn rp-ui-btn--brand",onClick:()=>void V(),disabled:L,title:"Ctrl/âŒ˜ + Enter",children:[(0,b.jsx)("span",{className:"rp-ui-btn__dot","aria-hidden":"true"}),L?"Savingâ€¦":"Save Credit Note"]})]})]}),(0,b.jsxs)("div",{className:"rp-card-body",children:[(0,b.jsx)("div",{className:"rp-table-scroll",children:(0,b.jsx)("div",{className:"rp-table-scroll__inner",children:(0,b.jsxs)("table",{className:"rp-table rp-table--premium",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{width:70},children:"SN"}),(0,b.jsx)("th",{style:{minWidth:280},children:"Product"}),(0,b.jsx)("th",{style:{width:220},children:"BOX / PCS"}),(0,b.jsx)("th",{className:"rp-right",style:{width:140},children:"Unit/Box"}),(0,b.jsx)("th",{className:"rp-right",style:{width:140},children:"Total Qty"}),(0,b.jsx)("th",{style:{minWidth:280},children:"Description"}),(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:150},children:"Unit Ex"}),(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:120},children:"VAT"}),(0,b.jsx)("th",{className:"rp-right rp-col-hide-sm",style:{width:150},children:"Unit Incl"}),(0,b.jsx)("th",{className:"rp-right",style:{width:170},children:"Total"}),(0,b.jsx)("th",{style:{width:90}})]})}),(0,b.jsx)("tbody",{children:N.map((a,c)=>(0,b.jsxs)("tr",{className:"rp-row-hover",children:[(0,b.jsx)("td",{className:"rp-strong",style:{textAlign:"center"},children:c+1}),(0,b.jsxs)("td",{children:[(0,b.jsxs)("select",{className:X,value:a.productId,onChange:b=>{var c,d;let e,f,g,i;return c=a.id,d=b.target.value,e=z.find(a=>a.id===Number(d)),f=Math.max(1,h(e?.units_per_box??e?.unit_per_box??1)),g=N.find(a=>a.id===c),i=g?.box_qty?h(g.box_qty):1,void(U(c,{productId:d,sku:e?.sku||"",description:e?.name||"",unitExcl:h(e?.selling_price||0),units_per_box:f,box_qty:i,uom:g?.productId?g.uom:"BOX"}),O(a=>a.findIndex(a=>a.id===c)!==a.length-1?a:[...a,m(a.length+1)]))},children:[(0,b.jsx)("option",{value:"",children:"Select product"}),z.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.sku," â€” ",a.name]},a.id))]}),(0,b.jsxs)("div",{className:"rp-muted",style:{marginTop:6,fontWeight:900},children:["SKU: ",(0,b.jsx)("b",{style:{fontWeight:1e3},children:a.sku||"â€”"})]})]}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"110px 1fr",gap:8},children:[(0,b.jsxs)("select",{className:"h-[42px] rounded-2xl border border-[rgba(148,163,184,.35)] bg-[rgba(255,255,255,.92)] px-3 font-extrabold outline-none",value:a.uom,onChange:b=>U(a.id,{uom:b.target.value}),children:[(0,b.jsx)("option",{value:"BOX",children:"BOX"}),(0,b.jsx)("option",{value:"PCS",children:"PCS"})]}),(0,b.jsx)("input",{className:Z,inputMode:"numeric",value:a.box_qty,onChange:b=>U(a.id,{box_qty:h(b.target.value)})})]})}),(0,b.jsx)("td",{className:"rp-right rp-strong",style:{fontVariantNumeric:"tabular-nums"},children:"BOX"===a.uom?a.units_per_box:"â€”"}),(0,b.jsx)("td",{className:"rp-right rp-strong",style:{fontVariantNumeric:"tabular-nums"},children:a.total_qty}),(0,b.jsx)("td",{style:{fontWeight:850},children:a.description||"â€”"}),(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm",children:(0,b.jsx)("input",{className:Z,inputMode:"decimal",value:a.unitExcl,onChange:b=>U(a.id,{unitExcl:h(b.target.value)})})}),(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm rp-strong",children:k(a.unitVat)}),(0,b.jsx)("td",{className:"rp-right rp-col-hide-sm rp-strong",children:k(a.unitIncl)}),(0,b.jsx)("td",{className:"rp-right rp-strong",children:k(a.lineTotal)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:N.length>1&&(0,b.jsx)("button",{type:"button",className:"rp-chip",onClick:()=>{var b;return b=a.id,void O(a=>a.filter(a=>a.id!==b))},children:"Remove"})})]},a.id))})]})})}),(0,b.jsxs)("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"1fr 340px",gap:12,alignItems:"start"},children:[(0,b.jsx)("div",{className:"rp-muted",style:{fontWeight:900},children:"Tip: Select product â†’ Unit Ex fills. Choose BOX/PCS â†’ Total Qty updates instantly."}),(0,b.jsx)("div",{className:"rp-card",style:{margin:0},children:(0,b.jsx)("div",{className:"rp-card-body",children:(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:950},children:[(0,b.jsx)("span",{children:"SUBTOTAL"}),(0,b.jsx)("span",{children:k(T.subtotal)})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:950},children:[(0,b.jsx)("span",{children:"VAT (15%)"}),(0,b.jsx)("span",{children:k(T.vat)})]}),(0,b.jsx)("div",{style:{height:1,background:"rgba(148,163,184,.35)"}}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:1e3,fontSize:16},children:[(0,b.jsx)("span",{children:"TOTAL"}),(0,b.jsx)("span",{children:k(T.total)})]}),(0,b.jsx)("button",{type:"button",onClick:()=>void V(),disabled:L,style:{marginTop:8,borderRadius:14,border:"none",background:`linear-gradient(135deg, ${W}, #b4000b)`,color:"white",fontWeight:1e3,letterSpacing:".02em",boxShadow:"0 18px 50px rgba(227,6,19,.25)",padding:"12px 14px",cursor:L?"not-allowed":"pointer",opacity:L?.75:1},title:"Ctrl/âŒ˜ + Enter",children:L?"Savingâ€¦":"Save Credit Note"})]})})})]}),(0,b.jsx)("div",{style:{marginTop:14,background:W,color:"white",padding:"10px 12px",borderRadius:12,fontWeight:900,textAlign:"center",letterSpacing:".03em"},children:"We thank you for your business and look forward to being of service to you again."})]})]})]})]})})}),(0,b.jsxs)("footer",{className:"rp-footer rp-card-anim",style:{animationDelay:"260ms"},children:["Â© ",new Date().getFullYear()," Ram Pottery Ltd â€¢ Built by ",(0,b.jsx)("span",{children:"MoBiz.mu"})]})]})]})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=app_credit-notes_new_CreditNoteNewClient_tsx_f6d40916._.js.map