{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/rampotteryhub/src/lib/rpFetch.ts"],"sourcesContent":["// lib/rpFetch.ts\r\n\r\nexport type RpFetchOptions = RequestInit & {\r\n  auth?: boolean; // default true: attach x-rp-user\r\n};\r\n\r\nfunction attachAuthHeader(headers: Headers, options: RpFetchOptions) {\r\n  if (options.auth === false) return;\r\n\r\n  if (typeof window !== \"undefined\") {\r\n    const session = window.localStorage.getItem(\"rp_user\");\r\n    if (session) headers.set(\"x-rp-user\", session);\r\n  }\r\n}\r\n\r\nfunction handleAuthRedirect(res: Response) {\r\n  if (typeof window === \"undefined\") return;\r\n\r\n  if (res.status === 401 || res.status === 403) {\r\n    const next = window.location.pathname + window.location.search;\r\n    window.location.href = `/login?next=${encodeURIComponent(next)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * rpFetch = fetch wrapper that injects x-rp-user and handles 401/403 redirect.\r\n * Returns the native Response (so you can do res.json(), res.text(), etc.)\r\n */\r\nexport async function rpFetch(url: string, options: RpFetchOptions = {}): Promise<Response> {\r\n  const headers = new Headers(options.headers || {});\r\n\r\n  // Default JSON header if body exists (and not FormData)\r\n  const bodyIsFormData =\r\n    typeof FormData !== \"undefined\" && options.body instanceof FormData;\r\n\r\n  if (options.body && !bodyIsFormData && !headers.has(\"Content-Type\")) {\r\n    headers.set(\"Content-Type\", \"application/json\");\r\n  }\r\n\r\n  attachAuthHeader(headers, options);\r\n\r\n  const res = await fetch(url, { ...options, headers });\r\n\r\n  // Redirect on auth issues (client-side)\r\n  handleAuthRedirect(res);\r\n\r\n  return res;\r\n}\r\n\r\n/**\r\n * Convenience helper: returns parsed JSON and throws on non-OK responses.\r\n * Useful for API routes returning { ok, ... } JSON.\r\n */\r\nexport async function rpFetchJson<T = any>(url: string, options: RpFetchOptions = {}): Promise<T> {\r\n  const res = await rpFetch(url, options);\r\n\r\n  let json: any = null;\r\n  try {\r\n    json = await res.json();\r\n  } catch {\r\n    json = null;\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const msg = json?.error || `Request failed (${res.status})`;\r\n    throw new Error(msg);\r\n  }\r\n\r\n  if (json?.ok === false) {\r\n    throw new Error(json?.error || \"Request failed\");\r\n  }\r\n\r\n  return (json ?? {}) as T;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;AAMjB,SAAS,iBAAiB,OAAgB,EAAE,OAAuB;IACjE,IAAI,QAAQ,IAAI,KAAK,OAAO;IAE5B;;AAIF;AAEA,SAAS,mBAAmB,GAAa;IACvC,wCAAmC;;;AAMrC;AAMO,eAAe,QAAQ,GAAW,EAAE,UAA0B,CAAC,CAAC;IACrE,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAEhD,wDAAwD;IACxD,MAAM,iBACJ,OAAO,aAAa,eAAe,QAAQ,IAAI,YAAY;IAE7D,IAAI,QAAQ,IAAI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,GAAG,CAAC,iBAAiB;QACnE,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IAEA,iBAAiB,SAAS;IAE1B,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IAEnD,wCAAwC;IACxC,mBAAmB;IAEnB,OAAO;AACT;AAMO,eAAe,YAAqB,GAAW,EAAE,UAA0B,CAAC,CAAC;IAClF,MAAM,MAAM,MAAM,QAAQ,KAAK;IAE/B,IAAI,OAAY;IAChB,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAM;QACN,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,SAAS,CAAC,gBAAgB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QAC3D,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,MAAM,OAAO,OAAO;QACtB,MAAM,IAAI,MAAM,MAAM,SAAS;IACjC;IAEA,OAAQ,QAAQ,CAAC;AACnB"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/rampotteryhub/app/customers/page.tsx"],"sourcesContent":["// app/customers/page.tsx\r\n\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { rpFetch } from \"@/lib/rpFetch\";\r\n\r\ntype Customer = {\r\n  id: number | string;\r\n  customer_code?: string | null;\r\n  name?: string | null; // customer_name\r\n  client?: string | null; // client_name\r\n  address?: string | null;\r\n  phone?: string | null; // phone_no\r\n  whatsapp?: string | null; // whatsapp_no\r\n  brn?: string | null;\r\n  vat_no?: string | null;\r\n  discount_percent?: number | null;\r\n  is_active?: boolean | null;\r\n  created_at?: string | null;\r\n};\r\n\r\ntype RpSession = {\r\n  id?: string;\r\n  username?: string;\r\n  name?: string;\r\n  role?: string;\r\n};\r\n\r\nfunction safeStr(v: unknown) {\r\n  return String(v ?? \"\").trim();\r\n}\r\n\r\nfunction n0(v: any) {\r\n  const x = Number(v);\r\n  return Number.isFinite(x) ? x : 0;\r\n}\r\n\r\nfunction fmtPct(v: any) {\r\n  const num = Math.min(Math.max(n0(v), 0), 100);\r\n  return `${num}%`;\r\n}\r\n\r\nfunction roleUpper(r?: string) {\r\n  return String(r || \"\").toUpperCase();\r\n}\r\nfunction isAdmin(r?: string) {\r\n  return roleUpper(r) === \"ADMIN\";\r\n}\r\nfunction isManager(r?: string) {\r\n  return roleUpper(r) === \"MANAGER\";\r\n}\r\nfunction isPrivileged(r?: string) {\r\n  return isAdmin(r) || isManager(r);\r\n}\r\n\r\nfunction fmtDateTime(d: Date) {\r\n  const pad = (x: number) => String(x).padStart(2, \"0\");\r\n  return `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}, ${pad(d.getHours())}:${pad(\r\n    d.getMinutes()\r\n  )}:${pad(d.getSeconds())}`;\r\n}\r\n\r\nexport default function CustomersPage() {\r\n  const router = useRouter();\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\r\n  const [lastSync, setLastSync] = useState<string>(\"\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n\r\n  const [mounted, setMounted] = useState(false);\r\n  const [session, setSession] = useState<RpSession | null>(null);\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [debouncedQ, setDebouncedQ] = useState(\"\");\r\n  const debounceRef = useRef<number | null>(null);\r\n\r\n  const [filter, setFilter] = useState<\"ALL\" | \"WITH_VAT\" | \"WITH_BRN\">(\"ALL\");\r\n  const [statusFilter, setStatusFilter] = useState<\"ACTIVE\" | \"ARCHIVED\" | \"ALL\">(\"ACTIVE\");\r\n\r\n  // ‚ãÆ menu state\r\n  const [openMenuId, setOpenMenuId] = useState<string | null>(null);\r\n  const openMenuRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n\r\n    const saved = localStorage.getItem(\"rp_theme\");\r\n    const initial = saved === \"dark\" ? \"dark\" : \"light\";\r\n    setTheme(initial);\r\n    document.documentElement.dataset.theme = initial;\r\n\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\");\r\n      if (!raw) {\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n      const s = JSON.parse(raw);\r\n      setSession(s);\r\n    } catch {\r\n      router.replace(\"/login\");\r\n      return;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function onDown(e: MouseEvent) {\r\n      if (!openMenuId) return;\r\n      const t = e.target as Node | null;\r\n      if (openMenuRef.current && t && openMenuRef.current.contains(t)) return;\r\n      setOpenMenuId(null);\r\n    }\r\n    function onKey(e: KeyboardEvent) {\r\n      if (!openMenuId) return;\r\n      if (e.key === \"Escape\") setOpenMenuId(null);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDown);\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", onDown);\r\n      document.removeEventListener(\"keydown\", onKey);\r\n    };\r\n  }, [openMenuId]);\r\n\r\n  const userLabel = useMemo(() => {\r\n    const name = (session?.name || session?.username || \"\").trim();\r\n    return name ? name : \"User\";\r\n  }, [session]);\r\n\r\n  const roleLabel = useMemo(() => roleUpper(session?.role) || \"STAFF\", [session]);\r\n\r\n  const canSeeAdminNav = mounted && isAdmin(session?.role);\r\n  const canBulkImport = mounted && isPrivileged(session?.role);\r\n\r\n  const navItems = useMemo(() => {\r\n    const base = [\r\n      { href: \"/\", label: \"Dashboard\" },\r\n      { href: \"/invoices\", label: \"Invoices\" },\r\n      { href: \"/credit-notes\", label: \"Credit Notes\" },\r\n      { href: \"/stock\", label: \"Stock & Categories\" },\r\n      { href: \"/stock-movements\", label: \"Stock Movements\" },\r\n      { href: \"/customers\", label: \"Customers\" },\r\n      { href: \"/reports\", label: \"Reports & Statements\" },\r\n    ];\r\n    if (canSeeAdminNav) base.push({ href: \"/admin/users\", label: \"Users & Permissions\" });\r\n    return base;\r\n  }, [canSeeAdminNav]);\r\n\r\n  useEffect(() => {\r\n    if (debounceRef.current) window.clearTimeout(debounceRef.current);\r\n    debounceRef.current = window.setTimeout(() => setDebouncedQ(q.trim()), 220);\r\n    return () => {\r\n      if (debounceRef.current) window.clearTimeout(debounceRef.current);\r\n    };\r\n  }, [q]);\r\n\r\n  function toggleTheme() {\r\n    const next = theme === \"dark\" ? \"light\" : \"dark\";\r\n    setTheme(next);\r\n    document.documentElement.dataset.theme = next;\r\n    localStorage.setItem(\"rp_theme\", next);\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n    } finally {\r\n      localStorage.removeItem(\"rp_user\");\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  async function load(nextStatus?: \"ACTIVE\" | \"ARCHIVED\" | \"ALL\") {\r\n    try {\r\n      setErr(null);\r\n      setLoading(true);\r\n\r\n      const st = nextStatus || statusFilter;\r\n      const showArchived = st === \"ARCHIVED\" || st === \"ALL\" ? \"1\" : \"0\";\r\n\r\n      const res = await rpFetch(`/api/customers/list?showArchived=${showArchived}`, { method: \"GET\", cache: \"no-store\" });\r\n      const json = await res.json().catch(() => ({}));\r\n\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed to load customers\");\r\n\r\n      const list: Customer[] = Array.isArray(json.customers) ? json.customers : [];\r\n      setCustomers(list);\r\n      setLastSync(fmtDateTime(new Date()));\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Failed to load customers\");\r\n      setCustomers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const filtered = useMemo(() => {\r\n    const s = debouncedQ.toLowerCase();\r\n    let list = customers;\r\n\r\n    // status filter (client-side for ALL mode)\r\n    if (statusFilter === \"ACTIVE\") list = list.filter((c) => c.is_active !== false);\r\n    if (statusFilter === \"ARCHIVED\") list = list.filter((c) => c.is_active === false);\r\n\r\n    if (filter === \"WITH_VAT\") list = list.filter((c) => safeStr(c.vat_no));\r\n    if (filter === \"WITH_BRN\") list = list.filter((c) => safeStr(c.brn));\r\n\r\n    if (!s) return list;\r\n\r\n    return list.filter((c) => {\r\n      const blob = [\r\n        c.customer_code,\r\n        c.name,\r\n        c.client,\r\n        c.address,\r\n        c.phone,\r\n        c.whatsapp,\r\n        c.brn,\r\n        c.vat_no,\r\n        String(c.discount_percent ?? \"\"),\r\n      ]\r\n        .map(safeStr)\r\n        .join(\" \")\r\n        .toLowerCase();\r\n\r\n      return blob.includes(s);\r\n    });\r\n  }, [customers, debouncedQ, filter, statusFilter]);\r\n\r\n  const kpis = useMemo(() => {\r\n    const total = filtered.length;\r\n    const withVat = filtered.filter((c) => safeStr(c.vat_no)).length;\r\n    const withBrn = filtered.filter((c) => safeStr(c.brn)).length;\r\n    const missingCode = filtered.filter((c) => !safeStr(c.customer_code)).length;\r\n    const avgDisc =\r\n      total === 0 ? 0 : Math.round((filtered.reduce((a, c) => a + n0(c.discount_percent), 0) / total) * 10) / 10;\r\n    return { total, withVat, withBrn, missingCode, avgDisc };\r\n  }, [filtered]);\r\n\r\n  function toggleRowMenu(id: string) {\r\n    setOpenMenuId((cur) => (cur === id ? null : id));\r\n  }\r\n\r\n  function goTo(path: string) {\r\n    setOpenMenuId(null);\r\n    router.push(path);\r\n  }\r\n\r\n  return (\r\n    <div className=\"rp-app\">\r\n      <div className=\"rp-bg\" aria-hidden=\"true\">\r\n        <div className=\"rp-bg-orb rp-bg-orb--1\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--2\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--3\" />\r\n        <div className=\"rp-bg-grid\" />\r\n      </div>\r\n\r\n      <div className=\"rp-shell rp-enter\">\r\n        {/* Mobile top bar */}\r\n        <div className=\"rp-mtop\">\r\n          <button type=\"button\" className=\"rp-icon-btn rp-burger\" onClick={() => setDrawerOpen(true)} aria-label=\"Open menu\">\r\n            <span aria-hidden=\"true\">\r\n              <i />\r\n              <i />\r\n              <i />\r\n            </span>\r\n          </button>\r\n\r\n          <div className=\"rp-mtop-brand\">\r\n            <div className=\"rp-mtop-title\">RampotteryHUB</div>\r\n            <div className=\"rp-mtop-sub\">Customers</div>\r\n          </div>\r\n\r\n          <button type=\"button\" className=\"rp-icon-btn\" onClick={toggleTheme} aria-label=\"Toggle theme\">\r\n            {theme === \"dark\" ? \"‚òÄ\" : \"üåô\"}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Overlay + Drawer */}\r\n        <button className={`rp-overlay ${drawerOpen ? \"is-open\" : \"\"}`} onClick={() => setDrawerOpen(false)} aria-label=\"Close menu\" />\r\n        <aside className={`rp-drawer ${drawerOpen ? \"is-open\" : \"\"}`}>\r\n          <div className=\"rp-drawer-head\">\r\n            <div className=\"rp-drawer-brand\">\r\n              <div className=\"rp-drawer-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={28} height={28} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-drawer-title\">RampotteryHUB</div>\r\n                <div className=\"rp-drawer-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"button\" className=\"rp-icon-btn\" onClick={() => setDrawerOpen(false)} aria-label=\"Close\">\r\n              ‚úï\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"rp-drawer-body\">\r\n            <nav className=\"rp-nav\">\r\n              {navItems.map((it) => (\r\n                <Link\r\n                  key={it.href}\r\n                  className={`rp-nav-btn ${it.href === \"/customers\" ? \"rp-nav-btn--active\" : \"\"}`}\r\n                  href={it.href}\r\n                  onClick={() => setDrawerOpen(false)}\r\n                >\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    ‚ñ∂\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{mounted ? userLabel : \"‚Äî\"}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{mounted ? roleLabel : \"‚Äî\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Desktop sidebar */}\r\n        <aside className=\"rp-side\">\r\n          <div className=\"rp-side-card rp-card-anim\">\r\n            <div className=\"rp-brand\">\r\n              <div className=\"rp-brand-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={30} height={30} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-brand-title\">RampotteryHUB</div>\r\n                <div className=\"rp-brand-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <nav className=\"rp-nav\">\r\n              {navItems.map((it) => (\r\n                <Link key={it.href} className={`rp-nav-btn ${it.href === \"/customers\" ? \"rp-nav-btn--active\" : \"\"}`} href={it.href}>\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    ‚ñ∂\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{mounted ? userLabel : \"‚Äî\"}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{mounted ? roleLabel : \"‚Äî\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main */}\r\n        <main className=\"rp-main\">\r\n          {/* Top bar */}\r\n          <header className=\"rp-top rp-top--saas rp-card-anim\" style={{ animationDelay: \"60ms\" }}>\r\n            <div className=\"rp-top-left--actions\">\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--brand\" onClick={toggleTheme}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                {theme === \"dark\" ? \"‚òÄ Light\" : \"üåô Dark\"}\r\n              </button>\r\n\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--danger\" onClick={handleLogout}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                Log Out\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-top-center--logo\">\r\n              <div className=\"rp-top-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery\" width={44} height={44} priority />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-top-right--sync\">\r\n              <div className=\"rp-sync\">\r\n                <div className=\"rp-sync-label\">Last sync :</div>\r\n                <div className=\"rp-sync-time\">{lastSync || \"‚Äî\"}</div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Executive header */}\r\n          <section className=\"rp-exec rp-card-anim\">\r\n            <div className=\"rp-exec__left\">\r\n              <div className=\"rp-exec__title\">Customers</div>\r\n              <div className=\"rp-exec__sub\">\r\n                Format: <b>Code ‚Ä¢ Customer ‚Ä¢ Client ‚Ä¢ Address ‚Ä¢ Phone ‚Ä¢ WhatsApp ‚Ä¢ BRN ‚Ä¢ VAT ‚Ä¢ Discount</b>\r\n              </div>\r\n            </div>\r\n            <div className=\"rp-exec__right\">\r\n              <span className={`rp-live ${loading ? \"is-dim\" : \"\"}`}>\r\n                <span className=\"rp-live-dot\" aria-hidden=\"true\" />\r\n                {loading ? \"Syncing\" : \"Live\"}\r\n              </span>\r\n              <span className={`rp-chip rp-chip--soft ${err ? \"rp-chip--warn\" : \"\"}`}>{err ? \"Attention needed\" : \"All systems normal\"}</span>\r\n            </div>\r\n          </section>\r\n\r\n          {/* KPI row */}\r\n          <section className=\"rp-kpi-pro rp-card-anim\">\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Customers</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.total}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Filtered</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">With VAT</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.withVat}</div>\r\n              <div className=\"rp-kpi-pro__sub\">VAT No present</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">With BRN</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.withBrn}</div>\r\n              <div className=\"rp-kpi-pro__sub\">BRN present</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Avg Discount</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.avgDisc}%</div>\r\n              <div className=\"rp-kpi-pro__sub\">Across results</div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Quick actions */}\r\n          <section className=\"rp-actions rp-card-anim\">\r\n            <div className=\"rp-seg rp-seg--pro\">\r\n              <button type=\"button\" className=\"rp-seg-item rp-seg-item--brand\" onClick={() => load()} disabled={loading}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  ‚ü≥\r\n                </span>\r\n                Refresh\r\n              </button>\r\n\r\n              <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/customers/new\">\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  üë§\r\n                </span>\r\n                New Customer\r\n              </Link>\r\n\r\n              {canBulkImport ? (\r\n                <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/customers/pricing-import\">\r\n                  <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                    ‚¨Ü\r\n                  </span>\r\n                  Bulk Import\r\n                </Link>\r\n              ) : (\r\n                <button type=\"button\" className=\"rp-seg-item\" disabled title=\"Admin/Manager only\">\r\n                  <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                    üîí\r\n                  </span>\r\n                  Bulk Import\r\n                </button>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Search + filters */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Search & Filters</div>\r\n                <div className=\"rp-card-sub\">Code ‚Ä¢ customer ‚Ä¢ client ‚Ä¢ phone ‚Ä¢ whatsapp ‚Ä¢ BRN ‚Ä¢ VAT ‚Ä¢ discount</div>\r\n              </div>\r\n              <span className={`rp-chip ${loading ? \"is-dim\" : \"\"}`}>{loading ? \"Loading‚Ä¶\" : \"Ready\"}</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body\">\r\n              <input className=\"rp-input rp-input--full\" placeholder=\"Search customers‚Ä¶\" value={q} onChange={(e) => setQ(e.target.value)} />\r\n\r\n              <div className=\"rp-chip-row\" style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", marginTop: 10 }}>\r\n                {[\r\n                  { key: \"ACTIVE\", label: \"Active\" },\r\n                  { key: \"ARCHIVED\", label: \"Archived\" },\r\n                  { key: \"ALL\", label: \"All\" },\r\n                ].map((x) => (\r\n                  <button\r\n                    key={x.key}\r\n                    className={`rp-filter-pill ${statusFilter === (x.key as any) ? \"rp-filter-pill--active\" : \"\"}`}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      const next = x.key as any;\r\n                      setStatusFilter(next);\r\n                      // fetch archived data when needed\r\n                      if (next === \"ARCHIVED\" || next === \"ALL\") load(next);\r\n                    }}\r\n                  >\r\n                    {x.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"rp-chip-row\">\r\n                {[\r\n                  { key: \"ALL\", label: \"All\" },\r\n                  { key: \"WITH_VAT\", label: \"With VAT\" },\r\n                  { key: \"WITH_BRN\", label: \"With BRN\" },\r\n                ].map((x) => (\r\n                  <button\r\n                    key={x.key}\r\n                    className={`rp-filter-pill ${filter === (x.key as any) ? \"rp-filter-pill--active\" : \"\"}`}\r\n                    onClick={() => setFilter(x.key as any)}\r\n                    type=\"button\"\r\n                  >\r\n                    {x.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              {err ? <div className=\"rp-note rp-note--warn\">{err}</div> : null}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Table */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Customer Register</div>\r\n                <div className=\"rp-card-sub\">Matches your import file format</div>\r\n              </div>\r\n              <span className=\"rp-chip rp-chip--soft\">{filtered.length} result(s)</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body rp-table-wrap\">\r\n              <table className=\"rp-table rp-table--premium\">\r\n                <thead>\r\n                  <tr>\r\n                    <th style={{ width: 120 }}>Code</th>\r\n                    <th style={{ width: 220 }}>Customer</th>\r\n                    <th style={{ width: 180 }}>Client</th>\r\n                    <th>Address</th>\r\n                    <th style={{ width: 130 }}>Phone</th>\r\n                    <th style={{ width: 140 }}>WhatsApp</th>\r\n                    <th style={{ width: 150 }}>BRN</th>\r\n                    <th style={{ width: 150 }}>VAT</th>\r\n                    <th style={{ width: 110, textAlign: \"right\" }}>Discount</th>\r\n                    <th style={{ width: 80, textAlign: \"right\" }}>‚ãÆ</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {loading ? (\r\n                    <tr>\r\n                      <td colSpan={10} className=\"rp-td-empty\">\r\n                        Loading customers‚Ä¶\r\n                      </td>\r\n                    </tr>\r\n                  ) : filtered.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan={10} className=\"rp-td-empty\">\r\n                        No customers found.\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    filtered.map((c) => {\r\n                      const id = String(c.id);\r\n                      const code = safeStr(c.customer_code) || \"‚Äî\";\r\n                      const customerName = safeStr(c.name) || \"‚Äî\";\r\n                      const clientName = safeStr(c.client) || \"‚Äî\";\r\n                      const addr = safeStr(c.address) || \"‚Äî\";\r\n\r\n                      const isOpen = openMenuId === id;\r\n                      const archived = c.is_active === false;\r\n\r\n                      return (\r\n                        <tr key={id} style={archived ? { opacity: 0.72 } : undefined}>\r\n                          <td className=\"rp-strong\">{code}</td>\r\n                          <td className=\"rp-strong\">{customerName}</td>\r\n                          <td>{clientName}</td>\r\n                          <td>{addr}</td>\r\n                          <td>{safeStr(c.phone) || \"‚Äî\"}</td>\r\n                          <td>{safeStr(c.whatsapp) || \"‚Äî\"}</td>\r\n                          <td>{safeStr(c.brn) || \"‚Äî\"}</td>\r\n                          <td>{safeStr(c.vat_no) || \"‚Äî\"}</td>\r\n                          <td style={{ textAlign: \"right\", fontWeight: 950 }}>{fmtPct(c.discount_percent)}</td>\r\n\r\n                          <td style={{ textAlign: \"right\" }}>\r\n                            <div\r\n                              className=\"rp-row-actions\"\r\n                              ref={isOpen ? openMenuRef : undefined}\r\n                              style={{ position: \"relative\", display: \"inline-block\" }}\r\n                            >\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"rp-icon-btn rp-icon-btn--kebab\"\r\n                                aria-haspopup=\"menu\"\r\n                                aria-expanded={isOpen ? \"true\" : \"false\"}\r\n                                onClick={() => setOpenMenuId((cur) => (cur === id ? null : id))}\r\n                                title=\"Actions\"\r\n                              >\r\n                                ‚ãÆ\r\n                              </button>\r\n\r\n                              {isOpen ? (\r\n                                <div\r\n                                  className=\"rp-menu rp-menu--right\"\r\n                                  role=\"menu\"\r\n                                  aria-label=\"Customer actions\"\r\n                                  style={{ position: \"absolute\", right: 0, top: \"calc(100% + 8px)\", minWidth: 180, zIndex: 50 }}\r\n                                >\r\n                                  <button type=\"button\" role=\"menuitem\" className=\"rp-menu-item\" onClick={() => goTo(`/customers/${id}/edit`)}>\r\n                                    ‚úèÔ∏è Edit\r\n                                  </button>\r\n                                  <button type=\"button\" role=\"menuitem\" className=\"rp-menu-item\" onClick={() => goTo(`/customers/${id}/pricing`)}>\r\n                                    üí∞ Pricing\r\n                                  </button>\r\n                                  <button type=\"button\" role=\"menuitem\" className=\"rp-menu-item\" onClick={() => goTo(`/customers/${id}/activity`)}>\r\n                                    üìå Activity\r\n                                  </button>\r\n                                </div>\r\n                              ) : null}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n\r\n              <div style={{ marginTop: 10 }} className=\"rp-muted\">\r\n                Tip: import file headers must be exactly:{\" \"}\r\n                <b>customer_code, customer_name, client_name, address, phone_no, whatsapp_no, brn, vat_no, discount</b>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <footer className=\"rp-footer\">¬© {new Date().getFullYear()} Ram Pottery Ltd ‚Ä¢ Built by Mobiz.mu</footer>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}