{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/rampotteryhub/src/lib/rpFetch.ts"],"sourcesContent":["// lib/rpFetch.ts\r\n\r\nexport type RpFetchOptions = RequestInit & {\r\n  auth?: boolean; // default true: attach x-rp-user\r\n};\r\n\r\nfunction attachAuthHeader(headers: Headers, options: RpFetchOptions) {\r\n  if (options.auth === false) return;\r\n\r\n  if (typeof window !== \"undefined\") {\r\n    const session = window.localStorage.getItem(\"rp_user\");\r\n    if (session) headers.set(\"x-rp-user\", session);\r\n  }\r\n}\r\n\r\nfunction handleAuthRedirect(res: Response) {\r\n  if (typeof window === \"undefined\") return;\r\n\r\n  if (res.status === 401 || res.status === 403) {\r\n    const next = window.location.pathname + window.location.search;\r\n    window.location.href = `/login?next=${encodeURIComponent(next)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * rpFetch = fetch wrapper that injects x-rp-user and handles 401/403 redirect.\r\n * Returns the native Response (so you can do res.json(), res.text(), etc.)\r\n */\r\nexport async function rpFetch(url: string, options: RpFetchOptions = {}): Promise<Response> {\r\n  const headers = new Headers(options.headers || {});\r\n\r\n  // Default JSON header if body exists (and not FormData)\r\n  const bodyIsFormData =\r\n    typeof FormData !== \"undefined\" && options.body instanceof FormData;\r\n\r\n  if (options.body && !bodyIsFormData && !headers.has(\"Content-Type\")) {\r\n    headers.set(\"Content-Type\", \"application/json\");\r\n  }\r\n\r\n  attachAuthHeader(headers, options);\r\n\r\n  const res = await fetch(url, { ...options, headers });\r\n\r\n  // Redirect on auth issues (client-side)\r\n  handleAuthRedirect(res);\r\n\r\n  return res;\r\n}\r\n\r\n/**\r\n * Convenience helper: returns parsed JSON and throws on non-OK responses.\r\n * Useful for API routes returning { ok, ... } JSON.\r\n */\r\nexport async function rpFetchJson<T = any>(url: string, options: RpFetchOptions = {}): Promise<T> {\r\n  const res = await rpFetch(url, options);\r\n\r\n  let json: any = null;\r\n  try {\r\n    json = await res.json();\r\n  } catch {\r\n    json = null;\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const msg = json?.error || `Request failed (${res.status})`;\r\n    throw new Error(msg);\r\n  }\r\n\r\n  if (json?.ok === false) {\r\n    throw new Error(json?.error || \"Request failed\");\r\n  }\r\n\r\n  return (json ?? {}) as T;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;AAMjB,SAAS,iBAAiB,OAAgB,EAAE,OAAuB;IACjE,IAAI,QAAQ,IAAI,KAAK,OAAO;IAE5B;;AAIF;AAEA,SAAS,mBAAmB,GAAa;IACvC,wCAAmC;;;AAMrC;AAMO,eAAe,QAAQ,GAAW,EAAE,UAA0B,CAAC,CAAC;IACrE,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAEhD,wDAAwD;IACxD,MAAM,iBACJ,OAAO,aAAa,eAAe,QAAQ,IAAI,YAAY;IAE7D,IAAI,QAAQ,IAAI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,GAAG,CAAC,iBAAiB;QACnE,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IAEA,iBAAiB,SAAS;IAE1B,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IAEnD,wCAAwC;IACxC,mBAAmB;IAEnB,OAAO;AACT;AAMO,eAAe,YAAqB,GAAW,EAAE,UAA0B,CAAC,CAAC;IAClF,MAAM,MAAM,MAAM,QAAQ,KAAK;IAE/B,IAAI,OAAY;IAChB,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAM;QACN,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,SAAS,CAAC,gBAAgB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QAC3D,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,MAAM,OAAO,OAAO;QACtB,MAAM,IAAI,MAAM,MAAM,SAAS;IACjC;IAEA,OAAQ,QAAQ,CAAC;AACnB"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/rampotteryhub/app/products/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { rpFetch } from \"@/lib/rpFetch\";\r\n\r\ntype Product = {\r\n  id: number;\r\n  item_code: string | null;\r\n  sku: string | null;\r\n  name: string | null;\r\n  description: string | null;\r\n  units_per_box: number | null;\r\n  selling_price: number | null;\r\n  is_active: boolean | null;\r\n  image_url: string | null;\r\n};\r\n\r\ntype RpSession = {\r\n  id?: string;\r\n  username?: string;\r\n  name?: string;\r\n  role?: string;\r\n};\r\n\r\nfunction roleUpper(r?: string) {\r\n  return String(r || \"\").toUpperCase();\r\n}\r\nfunction n0(v: any) {\r\n  const n = Number(v);\r\n  return Number.isFinite(n) ? n : 0;\r\n}\r\nfunction fmtRs(v: any) {\r\n  const n = Number(v);\r\n  if (!Number.isFinite(n)) return \"â€”\";\r\n  return `Rs ${n.toFixed(2)}`;\r\n}\r\nfunction fmtDateTime(d: Date) {\r\n  const pad = (x: number) => String(x).padStart(2, \"0\");\r\n  return `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}, ${pad(d.getHours())}:${pad(\r\n    d.getMinutes()\r\n  )}:${pad(d.getSeconds())}`;\r\n}\r\nasync function copyToClipboard(text: string) {\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    return true;\r\n  } catch {\r\n    try {\r\n      const ta = document.createElement(\"textarea\");\r\n      ta.value = text;\r\n      document.body.appendChild(ta);\r\n      ta.select();\r\n      document.execCommand(\"copy\");\r\n      ta.remove();\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default function ProductsPage() {\r\n  const [mounted, setMounted] = useState(false);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\r\n  const [lastSync, setLastSync] = useState<string>(\"â€”\");\r\n  const [session, setSession] = useState<RpSession | null>(null);\r\n\r\n  const [toast, setToast] = useState<string | null>(null);\r\n  function showToast(msg: string) {\r\n    setToast(msg);\r\n    window.setTimeout(() => setToast(null), 2400);\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [rows, setRows] = useState<Product[]>([]);\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [activeOnly, setActiveOnly] = useState(true);\r\n\r\n  // Invoice-style kebab\r\n  const [openMenu, setOpenMenu] = useState<number | null>(null);\r\n\r\n  // edit modal\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [editing, setEditing] = useState<Product | null>(null);\r\n  const [saving, setSaving] = useState(false);\r\n  const nameRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  useEffect(() => setMounted(true), []);\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"rp_theme\");\r\n    const initial = saved === \"dark\" ? \"dark\" : \"light\";\r\n    setTheme(initial);\r\n    document.documentElement.dataset.theme = initial;\r\n\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\");\r\n      if (raw) setSession(JSON.parse(raw));\r\n    } catch {}\r\n\r\n    setLastSync(fmtDateTime(new Date()));\r\n  }, []);\r\n\r\n  // close kebab on outside click\r\n  useEffect(() => {\r\n    const close = () => setOpenMenu(null);\r\n    window.addEventListener(\"click\", close);\r\n    return () => window.removeEventListener(\"click\", close);\r\n  }, []);\r\n\r\n  // ESC closes modal/drawer/menu; Enter saves in modal\r\n  useEffect(() => {\r\n    if (!mounted) return;\r\n\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        if (openMenu != null) {\r\n          e.preventDefault();\r\n          setOpenMenu(null);\r\n          return;\r\n        }\r\n        if (editOpen) {\r\n          e.preventDefault();\r\n          setEditOpen(false);\r\n          setEditing(null);\r\n          return;\r\n        }\r\n        if (drawerOpen) {\r\n          e.preventDefault();\r\n          setDrawerOpen(false);\r\n          return;\r\n        }\r\n      }\r\n      if (e.key === \"Enter\" && editOpen) {\r\n        e.preventDefault();\r\n        void saveEdit();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [mounted, openMenu, editOpen, drawerOpen, editing]);\r\n\r\n  // lock scroll when drawer open\r\n  useEffect(() => {\r\n    document.body.style.overflow = drawerOpen ? \"hidden\" : \"\";\r\n    return () => {\r\n      document.body.style.overflow = \"\";\r\n    };\r\n  }, [drawerOpen]);\r\n\r\n  function toggleTheme() {\r\n    const next = theme === \"dark\" ? \"light\" : \"dark\";\r\n    setTheme(next);\r\n    document.documentElement.dataset.theme = next;\r\n    localStorage.setItem(\"rp_theme\", next);\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n    } finally {\r\n      localStorage.removeItem(\"rp_user\");\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  const userLabel = useMemo(() => {\r\n    const name = (session?.name || session?.username || \"\").trim();\r\n    return name || \"User\";\r\n  }, [session]);\r\n\r\n  const canSeeAdminNav = mounted && roleUpper(session?.role) === \"ADMIN\";\r\n  const navItems = useMemo(() => {\r\n    const base = [\r\n      { href: \"/\", label: \"Dashboard\" },\r\n      { href: \"/invoices\", label: \"Invoices\" },\r\n      { href: \"/credit-notes\", label: \"Credit Notes\" },\r\n      { href: \"/products\", label: \"Stock & Categories\" },\r\n      { href: \"/stock-movements\", label: \"Stock Movements\" },\r\n      { href: \"/customers\", label: \"Customers\" },\r\n      { href: \"/suppliers\", label: \"Suppliers\" },\r\n      { href: \"/reports\", label: \"Reports & Statements\" },\r\n    ];\r\n    if (canSeeAdminNav) base.push({ href: \"/admin/users\", label: \"Users & Permissions\" });\r\n    return base;\r\n  }, [canSeeAdminNav]);\r\n\r\n  const roleLabel = useMemo(() => roleUpper(session?.role) || \"STAFF\", [session?.role]);\r\n\r\n  // âœ… FIX: use rpFetch so x-rp-user is attached -> no Unauthorized\r\n  async function load() {\r\n    setLoading(true);\r\n    setErr(null);\r\n    try {\r\n      const res = await rpFetch(`/api/products/list?activeOnly=${activeOnly ? \"1\" : \"0\"}&limit=5000`, {\r\n        cache: \"no-store\",\r\n      });\r\n      const json = await res.json().catch(() => null);\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed to load\");\r\n\r\n      setRows((json.products || []) as Product[]);\r\n      setLastSync(fmtDateTime(new Date()));\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Cannot load products\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    void load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeOnly]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const qq = q.trim().toLowerCase();\r\n    return rows.filter((p) => {\r\n      if (!qq) return true;\r\n      const hay = [p.item_code, p.sku, p.name, p.description].filter(Boolean).join(\" \").toLowerCase();\r\n      return hay.includes(qq);\r\n    });\r\n  }, [rows, q]);\r\n\r\n  const kpis = useMemo(() => {\r\n    const total = rows.length;\r\n    const active = rows.filter((p) => p.is_active).length;\r\n    const inactive = total - active;\r\n    return { total, active, inactive };\r\n  }, [rows]);\r\n\r\n  function openEdit(p: Product) {\r\n    setEditing({ ...p });\r\n    setEditOpen(true);\r\n    setOpenMenu(null);\r\n    window.setTimeout(() => nameRef.current?.focus(), 80);\r\n  }\r\n\r\n  // âœ… FIX: use rpFetch (auth header + redirect)\r\n  async function saveEdit() {\r\n    if (!editing) return;\r\n    try {\r\n      setSaving(true);\r\n\r\n      const payload = {\r\n        id: editing.id,\r\n        item_code: (editing.item_code || \"\").trim() || null,\r\n        sku: (editing.sku || \"\").trim() || null,\r\n        name: (editing.name || \"\").trim() || null,\r\n        description: (editing.description || \"\").trim() || null,\r\n        units_per_box: editing.units_per_box == null ? null : n0(editing.units_per_box),\r\n        selling_price: editing.selling_price == null ? null : Number(editing.selling_price),\r\n        image_url: (editing.image_url || \"\").trim() || null,\r\n        is_active: !!editing.is_active,\r\n      };\r\n\r\n      const res = await rpFetch(\"/api/products/update\", {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const json = await res.json().catch(() => null);\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed\");\r\n\r\n      setEditOpen(false);\r\n      setEditing(null);\r\n      showToast(\"Saved âœ…\");\r\n      await load();\r\n    } catch (e: any) {\r\n      alert(e?.message || \"Failed to save\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  // âœ… FIX: use rpFetch\r\n  async function archive(p: Product) {\r\n    const label = p.name || p.item_code || p.sku || `ID ${p.id}`;\r\n    const ok = window.confirm(`Archive product: ${label} ?\\n\\n(Archive = set inactive, safe for invoices.)`);\r\n    if (!ok) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await rpFetch(\"/api/products/archive\", {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify({ id: p.id }),\r\n      });\r\n      const json = await res.json().catch(() => null);\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed\");\r\n\r\n      showToast(\"Archived âœ…\");\r\n      await load();\r\n    } catch (e: any) {\r\n      alert(e?.message || \"Archive failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <div className=\"rp-app\">\r\n      <div className=\"rp-bg\" aria-hidden=\"true\">\r\n        <div className=\"rp-bg-orb rp-bg-orb--1\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--2\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--3\" />\r\n        <div className=\"rp-bg-grid\" />\r\n      </div>\r\n\r\n      {toast && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            right: 18,\r\n            top: 16,\r\n            zIndex: 9999,\r\n            padding: \"10px 14px\",\r\n            borderRadius: 14,\r\n            background: \"rgba(255,255,255,.92)\",\r\n            border: \"1px solid rgba(0,0,0,.12)\",\r\n            boxShadow: \"0 16px 50px rgba(0,0,0,.18)\",\r\n            fontWeight: 950,\r\n            backdropFilter: \"blur(10px)\",\r\n            maxWidth: 520,\r\n          }}\r\n        >\r\n          {toast}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"rp-shell rp-enter\">\r\n        {/* Mobile top bar */}\r\n        <div className=\"rp-mtop\">\r\n          <button type=\"button\" className=\"rp-icon-btn rp-burger\" onClick={() => setDrawerOpen(true)} aria-label=\"Open menu\">\r\n            <span aria-hidden=\"true\">\r\n              <i />\r\n              <i />\r\n              <i />\r\n            </span>\r\n          </button>\r\n\r\n          <div className=\"rp-mtop-brand\">\r\n            <div className=\"rp-mtop-title\">RampotteryHUB</div>\r\n            <div className=\"rp-mtop-sub\">Stock & Categories</div>\r\n          </div>\r\n\r\n          <button type=\"button\" className=\"rp-icon-btn\" onClick={() => void load()} aria-label=\"Refresh\">\r\n            âŸ³\r\n          </button>\r\n        </div>\r\n\r\n        {/* Overlay + Drawer */}\r\n        <button className={`rp-overlay ${drawerOpen ? \"is-open\" : \"\"}`} onClick={() => setDrawerOpen(false)} aria-label=\"Close menu\" />\r\n        <aside className={`rp-drawer ${drawerOpen ? \"is-open\" : \"\"}`}>\r\n          <div className=\"rp-drawer-head\">\r\n            <div className=\"rp-drawer-brand\">\r\n              <div className=\"rp-drawer-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={28} height={28} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-drawer-title\">RampotteryHUB</div>\r\n                <div className=\"rp-drawer-sub\">Catalog & stock</div>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"button\" className=\"rp-icon-btn\" onClick={() => setDrawerOpen(false)} aria-label=\"Close\">\r\n              âœ•\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"rp-drawer-body\">\r\n            <nav className=\"rp-nav\">\r\n              {navItems.map((it) => (\r\n                <Link\r\n                  key={it.href}\r\n                  className={`rp-nav-btn ${it.href === \"/products\" ? \"rp-nav-btn--active\" : \"\"}`}\r\n                  href={it.href}\r\n                  onClick={() => setDrawerOpen(false)}\r\n                  prefetch={false}\r\n                >\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    â–¶\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{userLabel}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{roleUpper(session?.role) || \"STAFF\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Desktop sidebar */}\r\n        <aside className=\"rp-side\">\r\n          <div className=\"rp-side-card rp-card-anim\" style={{ minHeight: \"calc(100vh - 28px)\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <div className=\"rp-brand\">\r\n              <div className=\"rp-brand-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={30} height={30} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-brand-title\">RampotteryHUB</div>\r\n                <div className=\"rp-brand-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <nav className=\"rp-nav\" style={{ flex: 1 }}>\r\n              {navItems.map((it) => (\r\n                <Link key={it.href} className={`rp-nav-btn ${it.href === \"/products\" ? \"rp-nav-btn--active\" : \"\"}`} href={it.href} prefetch={false}>\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    â–¶\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\" style={{ marginTop: \"auto\" }}>\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{userLabel}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{roleLabel}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main */}\r\n        <main className=\"rp-main\">\r\n          {/* Top bar */}\r\n          <header className=\"rp-top rp-top--saas rp-card-anim\" style={{ animationDelay: \"60ms\" }}>\r\n            <div className=\"rp-top-left--actions\">\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--brand\" onClick={toggleTheme}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                {theme === \"dark\" ? \"â˜€ Light\" : \"ðŸŒ™ Dark\"}\r\n              </button>\r\n\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--danger\" onClick={handleLogout}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                Log Out\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-top-center--logo\">\r\n              <div className=\"rp-top-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery\" width={44} height={44} priority />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-top-right--sync\">\r\n              <div className=\"rp-sync\">\r\n                <div className=\"rp-sync-label\">Last sync :</div>\r\n                <div className=\"rp-sync-time\">{lastSync || \"â€”\"}</div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Executive header */}\r\n          <section className=\"rp-exec rp-card-anim\">\r\n            <div className=\"rp-exec__left\">\r\n              <div className=\"rp-exec__title\">Stock & Categories</div>\r\n              <div className=\"rp-exec__sub\">Catalog â€¢ pricing â€¢ thumbnails â€¢ bulk import</div>\r\n            </div>\r\n            <div className=\"rp-exec__right\">\r\n              <span className={`rp-live ${loading ? \"is-dim\" : \"\"}`}>\r\n                <span className=\"rp-live-dot\" aria-hidden=\"true\" />\r\n                {loading ? \"Syncing\" : \"Live\"}\r\n              </span>\r\n              <span className={`rp-chip rp-chip--soft ${err ? \"rp-chip--warn\" : \"\"}`}>{err ? \"Attention needed\" : \"All systems normal\"}</span>\r\n            </div>\r\n          </section>\r\n\r\n          {/* KPI row */}\r\n          <section className=\"rp-kpi-pro rp-card-anim\">\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Total</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.total}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Products</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Active</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.active}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Sellable</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Inactive</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.inactive}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Archived</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">View</div>\r\n              <div className=\"rp-kpi-pro__value\">{activeOnly ? \"Active\" : \"All\"}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Filter</div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Controls */}\r\n          <section className=\"rp-actions rp-card-anim\">\r\n            <div className=\"rp-seg rp-seg--pro\">\r\n              <button className=\"rp-seg-item rp-seg-item--brand\" type=\"button\" onClick={() => void load()} disabled={loading}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  âŸ³\r\n                </span>\r\n                {loading ? \"Loadingâ€¦\" : \"Refresh\"}\r\n              </button>\r\n\r\n              {/* Import price list */}\r\n              <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/products/import\" prefetch={false}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  â¬†\r\n                </span>\r\n                Import price list\r\n              </Link>\r\n\r\n              <label className=\"rp-seg-item rp-seg-item--brand\" style={{ cursor: \"pointer\" }}>\r\n                <input type=\"checkbox\" checked={activeOnly} onChange={(e) => setActiveOnly(e.target.checked)} style={{ marginRight: 10 }} />\r\n                Active only\r\n              </label>\r\n\r\n              <div style={{ marginLeft: \"auto\", display: \"flex\", alignItems: \"center\", gap: 10, flexWrap: \"wrap\" }}>\r\n                <input className=\"rp-input\" placeholder=\"Search code / sku / nameâ€¦\" value={q} onChange={(e) => setQ(e.target.value)} style={{ minWidth: 260 }} />\r\n                <span className=\"rp-chip rp-chip--soft\">\r\n                  Showing <b style={{ marginLeft: 6 }}>{filtered.length}</b>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Register */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Products & Prices</div>\r\n                <div className=\"rp-card-sub\">Mobile scroll â€¢ pinned first column â€¢ pinned actions</div>\r\n              </div>\r\n              <span className={`rp-chip ${loading ? \"is-dim\" : \"\"}`}>{loading ? \"Loadingâ€¦\" : \"Ready\"}</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body\">\r\n              {err && (\r\n                <div className=\"rp-note rp-note--warn\" style={{ marginBottom: 12, whiteSpace: \"pre-wrap\" }}>\r\n                  <b>Cannot load products:</b> {err}\r\n                </div>\r\n              )}\r\n\r\n              {/* âœ… Pinned-table wrapper */}\r\n              <div className=\"rp-table-wrap\">\r\n                <div className=\"rp-table-scroll\">\r\n                  <div className=\"rp-table-scroll__inner\">\r\n                    <table className=\"rp-table rp-table--premium\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th style={{ width: 70 }}>SN</th>\r\n\r\n                          {/* âœ… pinned first column */}\r\n                          <th className=\"rp-pin\" style={{ width: 190 }}>\r\n                            Product Ref\r\n                          </th>\r\n\r\n                          <th style={{ width: 110 }}>Photo</th>\r\n                          <th style={{ minWidth: 260 }}>Description</th>\r\n                          <th className=\"rp-right rp-col-hide-sm\" style={{ width: 130 }}>\r\n                            Units/Box\r\n                          </th>\r\n                          <th className=\"rp-right rp-col-hide-sm\" style={{ width: 160 }}>\r\n                            Price/Pcs\r\n                          </th>\r\n                          <th style={{ width: 120 }}>Status</th>\r\n\r\n                          {/* âœ… pinned right actions */}\r\n                          <th className=\"rp-pin-right\" style={{ width: 64 }} />\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        {!filtered.length ? (\r\n                          <tr>\r\n                            <td colSpan={8} className=\"rp-td-empty\">\r\n                              {loading ? \"Loading productsâ€¦\" : \"No products found.\"}\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          filtered.map((p, idx) => {\r\n                            const img = p.image_url || null;\r\n                            const code = (p.item_code || p.sku || \"â€”\").trim() || \"â€”\";\r\n                            const displayName = p.name || \"â€”\";\r\n\r\n                            return (\r\n                              <tr key={p.id} className=\"rp-row-hover\">\r\n                                <td className=\"rp-strong\" style={{ textAlign: \"center\" }}>\r\n                                  {idx + 1}\r\n                                </td>\r\n\r\n                                {/* âœ… pinned first cell */}\r\n                                <td className=\"rp-pin rp-strong\" style={{ fontVariantNumeric: \"tabular-nums\" }}>\r\n                                  {code}\r\n                                </td>\r\n\r\n                                <td>\r\n                                  {img ? (\r\n                                    <a className=\"rp-thumb\" href={img} target=\"_blank\" rel=\"noreferrer\" title=\"Open image\">\r\n                                      <Image src={img} alt={displayName} fill className=\"rp-thumb-img\" sizes=\"60px\" />\r\n                                    </a>\r\n                                  ) : (\r\n                                    <div className=\"rp-thumb rp-thumb--empty\" title=\"No image\">\r\n                                      <span>â€”</span>\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td>\r\n                                  <div style={{ fontWeight: 950 }}>{displayName}</div>\r\n                                  {p.description ? (\r\n                                    <div className=\"rp-muted\" style={{ marginTop: 6 }}>\r\n                                      {p.description}\r\n                                    </div>\r\n                                  ) : null}\r\n\r\n                                  {/* Mobile compact values */}\r\n                                  <div className=\"rp-only-sm\">\r\n                                    <div className=\"rp-mini-row\">\r\n                                      <span>Units/Box</span>\r\n                                      <b>{p.units_per_box == null ? \"â€”\" : String(p.units_per_box)}</b>\r\n                                    </div>\r\n                                    <div className=\"rp-mini-row\">\r\n                                      <span>Price</span>\r\n                                      <b>{fmtRs(p.selling_price)}</b>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n\r\n                                <td className=\"rp-right rp-col-hide-sm rp-strong\">{p.units_per_box == null ? \"â€”\" : String(p.units_per_box)}</td>\r\n                                <td className=\"rp-right rp-col-hide-sm rp-strong\">{fmtRs(p.selling_price)}</td>\r\n\r\n                                <td>\r\n                                  {p.is_active ? (\r\n                                    <span className=\"rp-pill rp-pill--in\">ACTIVE</span>\r\n                                  ) : (\r\n                                    <span className=\"rp-pill rp-pill--out\">INACTIVE</span>\r\n                                  )}\r\n                                </td>\r\n\r\n                                {/* âœ… pinned right â‹® */}\r\n                                <td className=\"rp-pin-right\" style={{ textAlign: \"right\" }}>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"rp-row-actions-btn\"\r\n                                    aria-label=\"Product actions\"\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation();\r\n                                      setOpenMenu(openMenu === p.id ? null : p.id);\r\n                                    }}\r\n                                  >\r\n                                    â‹®\r\n                                  </button>\r\n\r\n                                  {openMenu === p.id && (\r\n                                    <div className=\"rp-row-actions-menu\" onClick={(e) => e.stopPropagation()}>\r\n                                      <button onClick={() => openEdit(p)}>Edit</button>\r\n\r\n                                      <button\r\n                                        onClick={async () => {\r\n                                          const ok = await copyToClipboard(code);\r\n                                          showToast(ok ? \"Copied âœ…\" : \"Copy failed\");\r\n                                          setOpenMenu(null);\r\n                                        }}\r\n                                      >\r\n                                        Copy code\r\n                                      </button>\r\n\r\n                                      <button\r\n                                        disabled={!img}\r\n                                        onClick={() => {\r\n                                          setOpenMenu(null);\r\n                                          if (img) window.open(img, \"_blank\", \"noopener,noreferrer\");\r\n                                        }}\r\n                                      >\r\n                                        Open image\r\n                                      </button>\r\n\r\n                                      <div className=\"rp-row-actions-sep\" />\r\n\r\n                                      <button\r\n                                        className=\"danger\"\r\n                                        onClick={() => {\r\n                                          setOpenMenu(null);\r\n                                          void archive(p);\r\n                                        }}\r\n                                      >\r\n                                        Archive\r\n                                      </button>\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <p className=\"rp-help\" style={{ marginTop: 10 }}>\r\n                Tip: Use <b>Import price list</b> to update product prices in bulk (CSV/XLSX).\r\n              </p>\r\n            </div>\r\n          </section>\r\n\r\n          <footer className=\"rp-footer\">Â© {new Date().getFullYear()} Ram Pottery Ltd â€¢ Built by Mobiz.mu</footer>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Edit modal */}\r\n      {editOpen && editing && (\r\n        <>\r\n          <button\r\n            className=\"rp-modal-overlay\"\r\n            onClick={() => {\r\n              if (saving) return;\r\n              setEditOpen(false);\r\n              setEditing(null);\r\n            }}\r\n          />\r\n\r\n          <div\r\n            className=\"rp-modal\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            onClick={(e) => e.stopPropagation()}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Escape\" && !saving) {\r\n                setEditOpen(false);\r\n                setEditing(null);\r\n              }\r\n              if (e.key === \"Enter\" && !saving) void saveEdit();\r\n            }}\r\n          >\r\n            <div className=\"rp-modal-head\">\r\n              <div>\r\n                <div className=\"rp-modal-title\">Edit Product</div>\r\n                <div className=\"rp-modal-sub\">Enter = Save â€¢ Esc = Cancel</div>\r\n              </div>\r\n              <button\r\n                className=\"rp-icon-btn\"\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  if (saving) return;\r\n                  setEditOpen(false);\r\n                  setEditing(null);\r\n                }}\r\n                aria-label=\"Close\"\r\n              >\r\n                âœ•\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-modal-body\">\r\n              <div className=\"rp-form-grid\">\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Name</span>\r\n                  <input ref={nameRef} className=\"rp-input\" value={editing.name ?? \"\"} onChange={(e) => setEditing({ ...editing, name: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Item Code</span>\r\n                  <input className=\"rp-input\" value={editing.item_code ?? \"\"} onChange={(e) => setEditing({ ...editing, item_code: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">SKU</span>\r\n                  <input className=\"rp-input\" value={editing.sku ?? \"\"} onChange={(e) => setEditing({ ...editing, sku: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Units / Box</span>\r\n                  <input className=\"rp-input\" value={editing.units_per_box ?? \"\"} onChange={(e) => setEditing({ ...editing, units_per_box: e.target.value as any })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\">\r\n                  <span className=\"rp-label\">Price / Pcs</span>\r\n                  <input className=\"rp-input\" value={editing.selling_price ?? \"\"} onChange={(e) => setEditing({ ...editing, selling_price: e.target.value as any })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\" style={{ gridColumn: \"1 / -1\" }}>\r\n                  <span className=\"rp-label\">Description</span>\r\n                  <textarea className=\"rp-input\" rows={3} value={editing.description ?? \"\"} onChange={(e) => setEditing({ ...editing, description: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\" style={{ gridColumn: \"1 / -1\" }}>\r\n                  <span className=\"rp-label\">Image URL</span>\r\n                  <input className=\"rp-input\" value={editing.image_url ?? \"\"} onChange={(e) => setEditing({ ...editing, image_url: e.target.value })} />\r\n                </label>\r\n\r\n                <label className=\"rp-field\" style={{ gridColumn: \"1 / -1\", display: \"flex\", alignItems: \"center\", gap: 10 }}>\r\n                  <input type=\"checkbox\" checked={!!editing.is_active} onChange={(e) => setEditing({ ...editing, is_active: e.target.checked })} />\r\n                  <span className=\"rp-label\" style={{ margin: 0 }}>\r\n                    Active (sellable)\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-modal-actions\">\r\n              <button\r\n                className=\"rp-ui-btn\"\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  if (saving) return;\r\n                  setEditOpen(false);\r\n                  setEditing(null);\r\n                }}\r\n                disabled={saving}\r\n              >\r\n                Cancel\r\n              </button>\r\n\r\n              <button className=\"rp-ui-btn rp-ui-btn--brand\" type=\"button\" onClick={() => void saveEdit()} disabled={saving}>\r\n                {saving ? \"Savingâ€¦\" : \"Save\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}