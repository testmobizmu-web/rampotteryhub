{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/rampotteryhub/src/lib/rpFetch.ts"],"sourcesContent":["// lib/rpFetch.ts\r\n\r\nexport type RpFetchOptions = RequestInit & {\r\n  auth?: boolean; // default true: attach x-rp-user\r\n};\r\n\r\nfunction attachAuthHeader(headers: Headers, options: RpFetchOptions) {\r\n  if (options.auth === false) return;\r\n\r\n  if (typeof window !== \"undefined\") {\r\n    const session = window.localStorage.getItem(\"rp_user\");\r\n    if (session) headers.set(\"x-rp-user\", session);\r\n  }\r\n}\r\n\r\nfunction handleAuthRedirect(res: Response) {\r\n  if (typeof window === \"undefined\") return;\r\n\r\n  if (res.status === 401 || res.status === 403) {\r\n    const next = window.location.pathname + window.location.search;\r\n    window.location.href = `/login?next=${encodeURIComponent(next)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * rpFetch = fetch wrapper that injects x-rp-user and handles 401/403 redirect.\r\n * Returns the native Response (so you can do res.json(), res.text(), etc.)\r\n */\r\nexport async function rpFetch(url: string, options: RpFetchOptions = {}): Promise<Response> {\r\n  const headers = new Headers(options.headers || {});\r\n\r\n  // Default JSON header if body exists (and not FormData)\r\n  const bodyIsFormData =\r\n    typeof FormData !== \"undefined\" && options.body instanceof FormData;\r\n\r\n  if (options.body && !bodyIsFormData && !headers.has(\"Content-Type\")) {\r\n    headers.set(\"Content-Type\", \"application/json\");\r\n  }\r\n\r\n  attachAuthHeader(headers, options);\r\n\r\n  const res = await fetch(url, { ...options, headers });\r\n\r\n  // Redirect on auth issues (client-side)\r\n  handleAuthRedirect(res);\r\n\r\n  return res;\r\n}\r\n\r\n/**\r\n * Convenience helper: returns parsed JSON and throws on non-OK responses.\r\n * Useful for API routes returning { ok, ... } JSON.\r\n */\r\nexport async function rpFetchJson<T = any>(url: string, options: RpFetchOptions = {}): Promise<T> {\r\n  const res = await rpFetch(url, options);\r\n\r\n  let json: any = null;\r\n  try {\r\n    json = await res.json();\r\n  } catch {\r\n    json = null;\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const msg = json?.error || `Request failed (${res.status})`;\r\n    throw new Error(msg);\r\n  }\r\n\r\n  if (json?.ok === false) {\r\n    throw new Error(json?.error || \"Request failed\");\r\n  }\r\n\r\n  return (json ?? {}) as T;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;AAMjB,SAAS,iBAAiB,OAAgB,EAAE,OAAuB;IACjE,IAAI,QAAQ,IAAI,KAAK,OAAO;IAE5B,wCAAmC;QACjC,MAAM,UAAU,OAAO,YAAY,CAAC,OAAO,CAAC;QAC5C,IAAI,SAAS,QAAQ,GAAG,CAAC,aAAa;IACxC;AACF;AAEA,SAAS,mBAAmB,GAAa;IACvC;;IAEA,IAAI,IAAI,MAAM,KAAK,OAAO,IAAI,MAAM,KAAK,KAAK;QAC5C,MAAM,OAAO,OAAO,QAAQ,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,MAAM;QAC9D,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,YAAY,EAAE,mBAAmB,OAAO;IAClE;AACF;AAMO,eAAe,QAAQ,GAAW,EAAE,UAA0B,CAAC,CAAC;IACrE,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAEhD,wDAAwD;IACxD,MAAM,iBACJ,OAAO,aAAa,eAAe,QAAQ,IAAI,YAAY;IAE7D,IAAI,QAAQ,IAAI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,GAAG,CAAC,iBAAiB;QACnE,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IAEA,iBAAiB,SAAS;IAE1B,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IAEnD,wCAAwC;IACxC,mBAAmB;IAEnB,OAAO;AACT;AAMO,eAAe,YAAqB,GAAW,EAAE,UAA0B,CAAC,CAAC;IAClF,MAAM,MAAM,MAAM,QAAQ,KAAK;IAE/B,IAAI,OAAY;IAChB,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAM;QACN,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,SAAS,CAAC,gBAAgB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QAC3D,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,MAAM,OAAO,OAAO;QACtB,MAAM,IAAI,MAAM,MAAM,SAAS;IACjC;IAEA,OAAQ,QAAQ,CAAC;AACnB"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["C:/Dev/rampotteryhub/app/customers/page.tsx"],"sourcesContent":["// app/customers/page.tsx\r\n\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { rpFetch } from \"@/lib/rpFetch\";\r\n\r\ntype Customer = {\r\n  id: number | string;\r\n  customer_code?: string | null;\r\n  name?: string | null; // customer_name\r\n  client?: string | null; // client_name\r\n  address?: string | null;\r\n  phone?: string | null; // phone_no\r\n  whatsapp?: string | null; // whatsapp_no\r\n  brn?: string | null;\r\n  vat_no?: string | null;\r\n  discount_percent?: number | null;\r\n  is_active?: boolean | null;\r\n  created_at?: string | null;\r\n};\r\n\r\ntype RpSession = {\r\n  id?: string;\r\n  username?: string;\r\n  name?: string;\r\n  role?: string;\r\n};\r\n\r\nfunction safeStr(v: unknown) {\r\n  return String(v ?? \"\").trim();\r\n}\r\n\r\nfunction n0(v: any) {\r\n  const x = Number(v);\r\n  return Number.isFinite(x) ? x : 0;\r\n}\r\n\r\nfunction fmtPct(v: any) {\r\n  const num = Math.min(Math.max(n0(v), 0), 100);\r\n  return `${num}%`;\r\n}\r\n\r\nfunction roleUpper(r?: string) {\r\n  return String(r || \"\").toUpperCase();\r\n}\r\nfunction isAdmin(r?: string) {\r\n  return roleUpper(r) === \"ADMIN\";\r\n}\r\nfunction isManager(r?: string) {\r\n  return roleUpper(r) === \"MANAGER\";\r\n}\r\nfunction isPrivileged(r?: string) {\r\n  return isAdmin(r) || isManager(r);\r\n}\r\n\r\nfunction fmtDateTime(d: Date) {\r\n  const pad = (x: number) => String(x).padStart(2, \"0\");\r\n  return `${pad(d.getDate())}/${pad(d.getMonth() + 1)}/${d.getFullYear()}, ${pad(d.getHours())}:${pad(\r\n    d.getMinutes()\r\n  )}:${pad(d.getSeconds())}`;\r\n}\r\n\r\nexport default function CustomersPage() {\r\n  const router = useRouter();\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\r\n  const [lastSync, setLastSync] = useState<string>(\"\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n\r\n  const [mounted, setMounted] = useState(false);\r\n  const [session, setSession] = useState<RpSession | null>(null);\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [debouncedQ, setDebouncedQ] = useState(\"\");\r\n  const debounceRef = useRef<number | null>(null);\r\n\r\n  const [filter, setFilter] = useState<\"ALL\" | \"WITH_VAT\" | \"WITH_BRN\">(\"ALL\");\r\n  const [statusFilter, setStatusFilter] = useState<\"ACTIVE\" | \"ARCHIVED\" | \"ALL\">(\"ACTIVE\");\r\n\r\n  // ‚ãÆ menu state\r\n  const [openMenuId, setOpenMenuId] = useState<string | null>(null);\r\n  const openMenuRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n\r\n    const saved = localStorage.getItem(\"rp_theme\");\r\n    const initial = saved === \"dark\" ? \"dark\" : \"light\";\r\n    setTheme(initial);\r\n    document.documentElement.dataset.theme = initial;\r\n\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\");\r\n      if (!raw) {\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n      const s = JSON.parse(raw);\r\n      setSession(s);\r\n    } catch {\r\n      router.replace(\"/login\");\r\n      return;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function onDown(e: MouseEvent) {\r\n      if (!openMenuId) return;\r\n      const t = e.target as Node | null;\r\n      if (openMenuRef.current && t && openMenuRef.current.contains(t)) return;\r\n      setOpenMenuId(null);\r\n    }\r\n    function onKey(e: KeyboardEvent) {\r\n      if (!openMenuId) return;\r\n      if (e.key === \"Escape\") setOpenMenuId(null);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDown);\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", onDown);\r\n      document.removeEventListener(\"keydown\", onKey);\r\n    };\r\n  }, [openMenuId]);\r\n\r\n  const userLabel = useMemo(() => {\r\n    const name = (session?.name || session?.username || \"\").trim();\r\n    return name ? name : \"User\";\r\n  }, [session]);\r\n\r\n  const roleLabel = useMemo(() => roleUpper(session?.role) || \"STAFF\", [session]);\r\n\r\n  const canSeeAdminNav = mounted && isAdmin(session?.role);\r\n  const canBulkImport = mounted && isPrivileged(session?.role);\r\n\r\n  const navItems = useMemo(() => {\r\n    const base = [\r\n      { href: \"/\", label: \"Dashboard\" },\r\n      { href: \"/invoices\", label: \"Invoices\" },\r\n      { href: \"/credit-notes\", label: \"Credit Notes\" },\r\n      { href: \"/stock\", label: \"Stock & Categories\" },\r\n      { href: \"/stock-movements\", label: \"Stock Movements\" },\r\n      { href: \"/customers\", label: \"Customers\" },\r\n      { href: \"/reports\", label: \"Reports & Statements\" },\r\n    ];\r\n    if (canSeeAdminNav) base.push({ href: \"/admin/users\", label: \"Users & Permissions\" });\r\n    return base;\r\n  }, [canSeeAdminNav]);\r\n\r\n  useEffect(() => {\r\n    if (debounceRef.current) window.clearTimeout(debounceRef.current);\r\n    debounceRef.current = window.setTimeout(() => setDebouncedQ(q.trim()), 220);\r\n    return () => {\r\n      if (debounceRef.current) window.clearTimeout(debounceRef.current);\r\n    };\r\n  }, [q]);\r\n\r\n  function toggleTheme() {\r\n    const next = theme === \"dark\" ? \"light\" : \"dark\";\r\n    setTheme(next);\r\n    document.documentElement.dataset.theme = next;\r\n    localStorage.setItem(\"rp_theme\", next);\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n    } finally {\r\n      localStorage.removeItem(\"rp_user\");\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  async function load(nextStatus?: \"ACTIVE\" | \"ARCHIVED\" | \"ALL\") {\r\n    try {\r\n      setErr(null);\r\n      setLoading(true);\r\n\r\n      const st = nextStatus || statusFilter;\r\n      const showArchived = st === \"ARCHIVED\" || st === \"ALL\" ? \"1\" : \"0\";\r\n\r\n      const res = await rpFetch(`/api/customers/list?showArchived=${showArchived}`, { method: \"GET\", cache: \"no-store\" });\r\n      const json = await res.json().catch(() => ({}));\r\n\r\n      if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed to load customers\");\r\n\r\n      const list: Customer[] = Array.isArray(json.customers) ? json.customers : [];\r\n      setCustomers(list);\r\n      setLastSync(fmtDateTime(new Date()));\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Failed to load customers\");\r\n      setCustomers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const filtered = useMemo(() => {\r\n    const s = debouncedQ.toLowerCase();\r\n    let list = customers;\r\n\r\n    // status filter (client-side for ALL mode)\r\n    if (statusFilter === \"ACTIVE\") list = list.filter((c) => c.is_active !== false);\r\n    if (statusFilter === \"ARCHIVED\") list = list.filter((c) => c.is_active === false);\r\n\r\n    if (filter === \"WITH_VAT\") list = list.filter((c) => safeStr(c.vat_no));\r\n    if (filter === \"WITH_BRN\") list = list.filter((c) => safeStr(c.brn));\r\n\r\n    if (!s) return list;\r\n\r\n    return list.filter((c) => {\r\n      const blob = [\r\n        c.customer_code,\r\n        c.name,\r\n        c.client,\r\n        c.address,\r\n        c.phone,\r\n        c.whatsapp,\r\n        c.brn,\r\n        c.vat_no,\r\n        String(c.discount_percent ?? \"\"),\r\n      ]\r\n        .map(safeStr)\r\n        .join(\" \")\r\n        .toLowerCase();\r\n\r\n      return blob.includes(s);\r\n    });\r\n  }, [customers, debouncedQ, filter, statusFilter]);\r\n\r\n  const kpis = useMemo(() => {\r\n    const total = filtered.length;\r\n    const withVat = filtered.filter((c) => safeStr(c.vat_no)).length;\r\n    const withBrn = filtered.filter((c) => safeStr(c.brn)).length;\r\n    const missingCode = filtered.filter((c) => !safeStr(c.customer_code)).length;\r\n    const avgDisc =\r\n      total === 0 ? 0 : Math.round((filtered.reduce((a, c) => a + n0(c.discount_percent), 0) / total) * 10) / 10;\r\n    return { total, withVat, withBrn, missingCode, avgDisc };\r\n  }, [filtered]);\r\n\r\n  function toggleRowMenu(id: string) {\r\n    setOpenMenuId((cur) => (cur === id ? null : id));\r\n  }\r\n\r\n  function goTo(path: string) {\r\n    setOpenMenuId(null);\r\n    router.push(path);\r\n  }\r\n\r\n  return (\r\n    <div className=\"rp-app\">\r\n      <div className=\"rp-bg\" aria-hidden=\"true\">\r\n        <div className=\"rp-bg-orb rp-bg-orb--1\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--2\" />\r\n        <div className=\"rp-bg-orb rp-bg-orb--3\" />\r\n        <div className=\"rp-bg-grid\" />\r\n      </div>\r\n\r\n      <div className=\"rp-shell rp-enter\">\r\n        {/* Mobile top bar */}\r\n        <div className=\"rp-mtop\">\r\n          <button type=\"button\" className=\"rp-icon-btn rp-burger\" onClick={() => setDrawerOpen(true)} aria-label=\"Open menu\">\r\n            <span aria-hidden=\"true\">\r\n              <i />\r\n              <i />\r\n              <i />\r\n            </span>\r\n          </button>\r\n\r\n          <div className=\"rp-mtop-brand\">\r\n            <div className=\"rp-mtop-title\">RampotteryHUB</div>\r\n            <div className=\"rp-mtop-sub\">Customers</div>\r\n          </div>\r\n\r\n          <button type=\"button\" className=\"rp-icon-btn\" onClick={toggleTheme} aria-label=\"Toggle theme\">\r\n            {theme === \"dark\" ? \"‚òÄ\" : \"üåô\"}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Overlay + Drawer */}\r\n        <button className={`rp-overlay ${drawerOpen ? \"is-open\" : \"\"}`} onClick={() => setDrawerOpen(false)} aria-label=\"Close menu\" />\r\n        <aside className={`rp-drawer ${drawerOpen ? \"is-open\" : \"\"}`}>\r\n          <div className=\"rp-drawer-head\">\r\n            <div className=\"rp-drawer-brand\">\r\n              <div className=\"rp-drawer-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={28} height={28} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-drawer-title\">RampotteryHUB</div>\r\n                <div className=\"rp-drawer-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"button\" className=\"rp-icon-btn\" onClick={() => setDrawerOpen(false)} aria-label=\"Close\">\r\n              ‚úï\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"rp-drawer-body\">\r\n            <nav className=\"rp-nav\">\r\n              {navItems.map((it) => (\r\n                <Link\r\n                  key={it.href}\r\n                  className={`rp-nav-btn ${it.href === \"/customers\" ? \"rp-nav-btn--active\" : \"\"}`}\r\n                  href={it.href}\r\n                  onClick={() => setDrawerOpen(false)}\r\n                >\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    ‚ñ∂\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{mounted ? userLabel : \"‚Äî\"}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{mounted ? roleLabel : \"‚Äî\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Desktop sidebar */}\r\n        <aside className=\"rp-side\">\r\n          <div className=\"rp-side-card rp-card-anim\">\r\n            <div className=\"rp-brand\">\r\n              <div className=\"rp-brand-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery Ltd\" width={30} height={30} priority />\r\n              </div>\r\n              <div>\r\n                <div className=\"rp-brand-title\">RampotteryHUB</div>\r\n                <div className=\"rp-brand-sub\">Accounting & Stock System</div>\r\n              </div>\r\n            </div>\r\n\r\n            <nav className=\"rp-nav\">\r\n              {navItems.map((it) => (\r\n                <Link key={it.href} className={`rp-nav-btn ${it.href === \"/customers\" ? \"rp-nav-btn--active\" : \"\"}`} href={it.href}>\r\n                  <span className=\"rp-ic3d\" aria-hidden=\"true\">\r\n                    ‚ñ∂\r\n                  </span>\r\n                  {it.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            <div className=\"rp-side-footer rp-side-footer--in\">\r\n              <div className=\"rp-role\">\r\n                <span>Signed in</span>\r\n                <b title={userLabel}>{mounted ? userLabel : \"‚Äî\"}</b>\r\n              </div>\r\n              <div className=\"rp-role\" style={{ marginTop: 10 }}>\r\n                <span>Role</span>\r\n                <b>{mounted ? roleLabel : \"‚Äî\"}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main */}\r\n        <main className=\"rp-main\">\r\n          {/* Top bar */}\r\n          <header className=\"rp-top rp-top--saas rp-card-anim\" style={{ animationDelay: \"60ms\" }}>\r\n            <div className=\"rp-top-left--actions\">\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--brand\" onClick={toggleTheme}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                {theme === \"dark\" ? \"‚òÄ Light\" : \"üåô Dark\"}\r\n              </button>\r\n\r\n              <button type=\"button\" className=\"rp-ui-btn rp-ui-btn--danger\" onClick={handleLogout}>\r\n                <span className=\"rp-ui-btn__dot\" aria-hidden=\"true\" />\r\n                Log Out\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rp-top-center--logo\">\r\n              <div className=\"rp-top-logo\">\r\n                <Image src=\"/images/logo/logo.png\" alt=\"Ram Pottery\" width={44} height={44} priority />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rp-top-right--sync\">\r\n              <div className=\"rp-sync\">\r\n                <div className=\"rp-sync-label\">Last sync :</div>\r\n                <div className=\"rp-sync-time\">{lastSync || \"‚Äî\"}</div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Executive header */}\r\n          <section className=\"rp-exec rp-card-anim\">\r\n            <div className=\"rp-exec__left\">\r\n              <div className=\"rp-exec__title\">Customers</div>\r\n              <div className=\"rp-exec__sub\">\r\n                Format: <b>Code ‚Ä¢ Customer ‚Ä¢ Client ‚Ä¢ Address ‚Ä¢ Phone ‚Ä¢ WhatsApp ‚Ä¢ BRN ‚Ä¢ VAT ‚Ä¢ Discount</b>\r\n              </div>\r\n            </div>\r\n            <div className=\"rp-exec__right\">\r\n              <span className={`rp-live ${loading ? \"is-dim\" : \"\"}`}>\r\n                <span className=\"rp-live-dot\" aria-hidden=\"true\" />\r\n                {loading ? \"Syncing\" : \"Live\"}\r\n              </span>\r\n              <span className={`rp-chip rp-chip--soft ${err ? \"rp-chip--warn\" : \"\"}`}>{err ? \"Attention needed\" : \"All systems normal\"}</span>\r\n            </div>\r\n          </section>\r\n\r\n          {/* KPI row */}\r\n          <section className=\"rp-kpi-pro rp-card-anim\">\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Customers</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.total}</div>\r\n              <div className=\"rp-kpi-pro__sub\">Filtered</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">With VAT</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.withVat}</div>\r\n              <div className=\"rp-kpi-pro__sub\">VAT No present</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">With BRN</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.withBrn}</div>\r\n              <div className=\"rp-kpi-pro__sub\">BRN present</div>\r\n            </div>\r\n            <div className=\"rp-kpi-pro__cell\">\r\n              <div className=\"rp-kpi-pro__title\">Avg Discount</div>\r\n              <div className=\"rp-kpi-pro__value\">{kpis.avgDisc}%</div>\r\n              <div className=\"rp-kpi-pro__sub\">Across results</div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Quick actions */}\r\n          <section className=\"rp-actions rp-card-anim\">\r\n            <div className=\"rp-seg rp-seg--pro\">\r\n              <button type=\"button\" className=\"rp-seg-item rp-seg-item--brand\" onClick={() => load()} disabled={loading}>\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  ‚ü≥\r\n                </span>\r\n                Refresh\r\n              </button>\r\n\r\n              <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/customers/new\">\r\n                <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                  üë§\r\n                </span>\r\n                New Customer\r\n              </Link>\r\n\r\n              {canBulkImport ? (\r\n                <Link className=\"rp-seg-item rp-seg-item--brand\" href=\"/customers/pricing-import\">\r\n                  <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                    ‚¨Ü\r\n                  </span>\r\n                  Bulk Import\r\n                </Link>\r\n              ) : (\r\n                <button type=\"button\" className=\"rp-seg-item\" disabled title=\"Admin/Manager only\">\r\n                  <span className=\"rp-icbtn\" aria-hidden=\"true\">\r\n                    üîí\r\n                  </span>\r\n                  Bulk Import\r\n                </button>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Search + filters */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Search & Filters</div>\r\n                <div className=\"rp-card-sub\">Code ‚Ä¢ customer ‚Ä¢ client ‚Ä¢ phone ‚Ä¢ whatsapp ‚Ä¢ BRN ‚Ä¢ VAT ‚Ä¢ discount</div>\r\n              </div>\r\n              <span className={`rp-chip ${loading ? \"is-dim\" : \"\"}`}>{loading ? \"Loading‚Ä¶\" : \"Ready\"}</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body\">\r\n              <input className=\"rp-input rp-input--full\" placeholder=\"Search customers‚Ä¶\" value={q} onChange={(e) => setQ(e.target.value)} />\r\n\r\n              <div className=\"rp-chip-row\" style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", marginTop: 10 }}>\r\n                {[\r\n                  { key: \"ACTIVE\", label: \"Active\" },\r\n                  { key: \"ARCHIVED\", label: \"Archived\" },\r\n                  { key: \"ALL\", label: \"All\" },\r\n                ].map((x) => (\r\n                  <button\r\n                    key={x.key}\r\n                    className={`rp-filter-pill ${statusFilter === (x.key as any) ? \"rp-filter-pill--active\" : \"\"}`}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      const next = x.key as any;\r\n                      setStatusFilter(next);\r\n                      // fetch archived data when needed\r\n                      if (next === \"ARCHIVED\" || next === \"ALL\") load(next);\r\n                    }}\r\n                  >\r\n                    {x.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"rp-chip-row\">\r\n                {[\r\n                  { key: \"ALL\", label: \"All\" },\r\n                  { key: \"WITH_VAT\", label: \"With VAT\" },\r\n                  { key: \"WITH_BRN\", label: \"With BRN\" },\r\n                ].map((x) => (\r\n                  <button\r\n                    key={x.key}\r\n                    className={`rp-filter-pill ${filter === (x.key as any) ? \"rp-filter-pill--active\" : \"\"}`}\r\n                    onClick={() => setFilter(x.key as any)}\r\n                    type=\"button\"\r\n                  >\r\n                    {x.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              {err ? <div className=\"rp-note rp-note--warn\">{err}</div> : null}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Table */}\r\n          <section className=\"rp-card rp-card-anim\">\r\n            <div className=\"rp-card-head rp-card-head--tight\">\r\n              <div>\r\n                <div className=\"rp-card-title\">Customer Register</div>\r\n                <div className=\"rp-card-sub\">Matches your import file format</div>\r\n              </div>\r\n              <span className=\"rp-chip rp-chip--soft\">{filtered.length} result(s)</span>\r\n            </div>\r\n\r\n            <div className=\"rp-card-body rp-table-wrap\">\r\n              <table className=\"rp-table rp-table--premium\">\r\n                <thead>\r\n                  <tr>\r\n                    <th style={{ width: 120 }}>Code</th>\r\n                    <th style={{ width: 220 }}>Customer</th>\r\n                    <th style={{ width: 180 }}>Client</th>\r\n                    <th>Address</th>\r\n                    <th style={{ width: 130 }}>Phone</th>\r\n                    <th style={{ width: 140 }}>WhatsApp</th>\r\n                    <th style={{ width: 150 }}>BRN</th>\r\n                    <th style={{ width: 150 }}>VAT</th>\r\n                    <th style={{ width: 110, textAlign: \"right\" }}>Discount</th>\r\n                    <th style={{ width: 80, textAlign: \"right\" }}>‚ãÆ</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {loading ? (\r\n                    <tr>\r\n                      <td colSpan={10} className=\"rp-td-empty\">\r\n                        Loading customers‚Ä¶\r\n                      </td>\r\n                    </tr>\r\n                  ) : filtered.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan={10} className=\"rp-td-empty\">\r\n                        No customers found.\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    filtered.map((c) => {\r\n                      const id = String(c.id);\r\n                      const code = safeStr(c.customer_code) || \"‚Äî\";\r\n                      const customerName = safeStr(c.name) || \"‚Äî\";\r\n                      const clientName = safeStr(c.client) || \"‚Äî\";\r\n                      const addr = safeStr(c.address) || \"‚Äî\";\r\n\r\n                      const isOpen = openMenuId === id;\r\n                      const archived = c.is_active === false;\r\n\r\n                      return (\r\n                        <tr key={id} style={archived ? { opacity: 0.72 } : undefined}>\r\n                          <td className=\"rp-strong\">{code}</td>\r\n                          <td className=\"rp-strong\">{customerName}</td>\r\n                          <td>{clientName}</td>\r\n                          <td>{addr}</td>\r\n                          <td>{safeStr(c.phone) || \"‚Äî\"}</td>\r\n                          <td>{safeStr(c.whatsapp) || \"‚Äî\"}</td>\r\n                          <td>{safeStr(c.brn) || \"‚Äî\"}</td>\r\n                          <td>{safeStr(c.vat_no) || \"‚Äî\"}</td>\r\n                          <td style={{ textAlign: \"right\", fontWeight: 950 }}>{fmtPct(c.discount_percent)}</td>\r\n\r\n                          <td style={{ textAlign: \"right\" }}>\r\n                            <div\r\n                              className=\"rp-row-actions\"\r\n                              ref={isOpen ? openMenuRef : undefined}\r\n                              style={{ position: \"relative\", display: \"inline-block\" }}\r\n                            >\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"rp-icon-btn rp-icon-btn--kebab\"\r\n                                aria-haspopup=\"menu\"\r\n                                aria-expanded={isOpen ? \"true\" : \"false\"}\r\n                                onClick={() => setOpenMenuId((cur) => (cur === id ? null : id))}\r\n                                title=\"Actions\"\r\n                              >\r\n                                ‚ãÆ\r\n                              </button>\r\n\r\n                              {isOpen ? (\r\n                                <div\r\n                                  className=\"rp-menu rp-menu--right\"\r\n                                  role=\"menu\"\r\n                                  aria-label=\"Customer actions\"\r\n                                  style={{ position: \"absolute\", right: 0, top: \"calc(100% + 8px)\", minWidth: 180, zIndex: 50 }}\r\n                                >\r\n                                  <button type=\"button\" role=\"menuitem\" className=\"rp-menu-item\" onClick={() => goTo(`/customers/${id}/edit`)}>\r\n                                    ‚úèÔ∏è Edit\r\n                                  </button>\r\n                                  <button type=\"button\" role=\"menuitem\" className=\"rp-menu-item\" onClick={() => goTo(`/customers/${id}/pricing`)}>\r\n                                    üí∞ Pricing\r\n                                  </button>\r\n                                  <button type=\"button\" role=\"menuitem\" className=\"rp-menu-item\" onClick={() => goTo(`/customers/${id}/activity`)}>\r\n                                    üìå Activity\r\n                                  </button>\r\n                                </div>\r\n                              ) : null}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n\r\n              <div style={{ marginTop: 10 }} className=\"rp-muted\">\r\n                Tip: import file headers must be exactly:{\" \"}\r\n                <b>customer_code, customer_name, client_name, address, phone_no, whatsapp_no, brn, vat_no, discount</b>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <footer className=\"rp-footer\">¬© {new Date().getFullYear()} Ram Pottery Ltd ‚Ä¢ Built by Mobiz.mu</footer>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Link","Image","useEffect","useMemo","useRef","useState","useRouter","rpFetch","Customer","id","customer_code","name","client","address","phone","whatsapp","brn","vat_no","discount_percent","is_active","created_at","RpSession","username","role","safeStr","v","String","trim","n0","x","Number","isFinite","fmtPct","num","Math","min","max","roleUpper","r","toUpperCase","isAdmin","isManager","isPrivileged","fmtDateTime","d","Date","pad","padStart","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","CustomersPage","router","drawerOpen","setDrawerOpen","theme","setTheme","lastSync","setLastSync","loading","setLoading","err","setErr","customers","setCustomers","mounted","setMounted","session","setSession","q","setQ","debouncedQ","setDebouncedQ","debounceRef","filter","setFilter","statusFilter","setStatusFilter","openMenuId","setOpenMenuId","openMenuRef","HTMLDivElement","saved","localStorage","getItem","initial","document","documentElement","dataset","raw","replace","s","JSON","parse","onDown","e","MouseEvent","t","target","Node","current","contains","onKey","KeyboardEvent","key","addEventListener","removeEventListener","userLabel","roleLabel","canSeeAdminNav","canBulkImport","navItems","base","href","label","push","window","clearTimeout","setTimeout","toggleTheme","next","setItem","handleLogout","fetch","method","removeItem","location","load","nextStatus","st","showArchived","res","cache","json","catch","ok","Error","error","list","Array","isArray","message","filtered","toLowerCase","c","blob","map","join","includes","kpis","total","length","withVat","withBrn","missingCode","avgDisc","round","reduce","a","toggleRowMenu","cur","goTo","path","it","marginTop","animationDelay","value","display","gap","flexWrap","width","textAlign","code","customerName","clientName","addr","isOpen","archived","opacity","undefined","fontWeight","position","right","top","minWidth","zIndex"],"mappings":";;;;;AAGA,OAAOA,IAAI,MAAM,WAAW;AAC5B,OAAOC,KAAK,MAAM,YAAY;AAC9B,SAASC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,OAAO,QAAQ,eAAe;;;AAPvC,yBAAA;AACA,YAAY;;;;;;AA8BZ,SAASiB,OAAOA,CAACC,CAAC,AAAS,EAAP,AAAS;IAC3B,OAAOC,MAAM,CAACD,CAAC,IAAI,EAAE,CAAC,CAACE,IAAI,CAAC,CAAC;AAC/B;AAEA,SAASC,EAAEA,CAACH,CAAC,AAAK,EAAH,AAAK;IAClB,MAAMI,CAAC,GAAGC,MAAM,CAACL,CAAC,CAAC;IACnB,OAAOK,MAAM,CAACC,QAAQ,CAACF,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC;AACnC;AAEA,SAASG,MAAMA,CAACP,CAAM,AAAL,EAAE,AAAK;IACtB,MAAMQ,GAAG,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACR,EAAE,CAACH,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;IAC7C,OAAO,GAAGQ,GAAG,CAAA,CAAA,CAAG;AAClB;AAEA,SAASI,SAASA,CAACC,CAAU,CAAR,CAAU,CAAR;IACrB,OAAOZ,MAAM,CAACY,CAAC,IAAI,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC;AACtC;AACA,SAASC,OAAOA,CAACF,CAAU,CAAR,CAAU,CAAR;IACnB,OAAOD,SAAS,CAACC,CAAC,CAAC,KAAK,OAAO;AACjC;AACA,SAASG,SAASA,CAACH,CAAU,CAAR,CAAU,CAAR;IACrB,OAAOD,SAAS,CAACC,CAAC,CAAC,KAAK,SAAS;AACnC;AACA,SAASI,YAAYA,CAACJ,CAAU,CAAR,CAAU,CAAR;IACxB,OAAOE,OAAO,CAACF,CAAC,CAAC,IAAIG,SAAS,CAACH,CAAC,CAAC;AACnC;AAEA,SAASK,WAAWA,CAACC,CAAC,AAAM,EAAE,AAANC;IACtB,MAAMC,GAAG,GAAGA,CAACjB,CAAC,EAAE,CAAWH,KAAL,CAAW,CAACG,CAAC,CAAC,CAACkB,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IACrD,OAAO,GAAGD,GAAG,CAACF,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAAA,CAAA,EAAIF,GAAG,CAACF,CAAC,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA,CAAA,EAAIL,CAAC,CAACM,WAAW,CAAC,CAAC,CAAA,EAAA,EAAKJ,GAAG,CAACF,CAAC,CAACO,QAAQ,CAAC,CAAC,CAAC,CAAA,CAAA,EAAIL,GAAG,CACjGF,CAAC,CAACQ,UAAU,CAAC,CACf,CAAC,CAAA,CAAA,EAAIN,GAAG,CAACF,CAAC,CAACS,UAAU,CAAC,CAAC,CAAC,EAAE;AAC5B;AAEe;;IACb,MAAME,MAAM;IAEZ,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGpD,6KAAQ,EAAC,KAAK,CAAC;IACnD,MAAM,CAACqD,KAAK,EAAEC,QAAQ,CAAC,OAAGtD,yKAAQ,CAAC,CAAkB,MAAX,CAAkB,CAAC,CAAhB,MAAM,CAAC;IACpD,MAAM,CAACuD,QAAQ,EAAEC,WAAW,CAAC,OAAGxD,yKAAQ,CAAC,CAAQ,EAAE,CAAC,EAAL,CAAC;IAEhD,MAAM,CAACyD,OAAO,EAAEC,UAAU,CAAC,OAAG1D,yKAAQ,EAAC,IAAI,CAAC;IAC5C,MAAM,CAAC2D,GAAG,EAAEC,MAAM,CAAC,OAAG5D,yKAAQ,CAAC,CAAe,IAAI,CAAC,AAAd,GAAG,IAAI,CAAC;IAC7C,MAAM,CAAC6D,SAAS,EAAEC,YAAY,CAAC,OAAG9D,yKAAQ,CAACG,CAAY,EAAE,CAAC,IAAP,EAAE,CAAC;IAEtD,MAAM,CAAC4D,OAAO,EAAEC,UAAU,CAAC,OAAGhE,yKAAQ,EAAC,KAAK,CAAC;IAC7C,MAAM,CAACiE,OAAO,EAAEC,UAAU,CAAC,OAAGlE,yKAAQ,CAACgB,CAAkB,IAAI,CAAC,GAAd,GAAG,IAAI,CAAC;IAExD,MAAM,CAACmD,CAAC,EAAEC,IAAI,CAAC,OAAGpE,yKAAQ,EAAC,EAAE,CAAC;IAC9B,MAAM,CAACqE,UAAU,EAAEC,aAAa,CAAC,OAAGtE,yKAAQ,EAAC,EAAE,CAAC;IAChD,MAAMuE,WAAW,GAAGxE,2KAAM,CAAC,CAAe,IAAI,CAAC,AAAd,GAAG,IAAI,CAAC;IAEzC,MAAM,CAACyE,MAAM,EAAEC,SAAS,CAAC,OAAGzE,yKAAQ,CAAC,CAAiC,IAA5B,CAAiC,CAAC,CAA/B,UAAU,GAAG,UAAU,CAAC;IACrE,MAAM,CAAC0E,YAAY,EAAEC,eAAe,CAAC,OAAG3E,yKAAQ,CAAC,CAA+B,OAAvB,CAA+B,CAAC,CAA7B,UAAU,GAAG,KAAK,CAAC;IAE/E,eAAA;IACA,MAAM,CAAC4E,UAAU,EAAEC,aAAa,CAAC,OAAG7E,yKAAQ,CAAC,CAAe,IAAI,CAAC,AAAd,GAAG,IAAI,CAAC;IAC3D,MAAM8E,WAAW,OAAG/E,uKAAM,CAACgF,CAAuB,IAAI,CAAC,QAAd,GAAG,IAAI,CAAC;QAEjDlF,0KAAS;mCAAC,MAAM;YACdmE,UAAU,CAAC,IAAI,CAAC;YAEhB,MAAMgB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;YAC9C,MAAMC,OAAO,GAAGH,KAAK,KAAK,MAAM,GAAG,MAAM,GAAG,OAAO;YACnD1B,QAAQ,CAAC6B,OAAO,CAAC;YACjBC,QAAQ,CAACC,eAAe,CAACC,OAAO,CAACjC,KAAK,GAAG8B,OAAO;YAEhD,IAAI;gBACF,MAAMI,GAAG,GAAGN,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;gBAC3C,IAAI,CAACK,GAAG,EAAE;oBACRrC,MAAM,CAACsC,OAAO,CAAC,QAAQ,CAAC;oBACxB;gBACF;gBACA,MAAMC,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC;gBACzBrB,UAAU,CAACuB,CAAC,CAAC;YACf,CAAC,CAAC,OAAM;gBACNvC,MAAM,CAACsC,OAAO,CAAC,QAAQ,CAAC;gBACxB;YACF;QACA,uDAAA;QACF,CAAC;kCAAE,EAAE,CAAC;QAEN3F,0KAAS;mCAAC,MAAM;YACd,SAAS+F,MAAMA,CAACC,CAAC,AAAY,EAAE,AAAZC;gBACjB,IAAI,CAAClB,UAAU,EAAE;gBACjB,MAAMmB,CAAC,GAAGF,CAAC,CAACG,MAAM,IAAIC,IAAI,GAAG,IAAI;gBACjC,IAAInB,WAAW,CAACoB,OAAO,IAAIH,CAAC,IAAIjB,WAAW,CAACoB,OAAO,CAACC,QAAQ,CAACJ,CAAC,CAAC,EAAE;gBACjElB,aAAa,CAAC,IAAI,CAAC;YACrB;YACA,SAASuB,KAAKA,CAACP,CAAC,AAAe,EAAbQ,AAAe;gBAC/B,IAAI,CAACzB,UAAU,EAAE;gBACjB,IAAIiB,CAAC,CAACS,GAAG,KAAK,QAAQ,EAAEzB,aAAa,CAAC,IAAI,CAAC;YAC7C;YACAO,QAAQ,CAACmB,gBAAgB,CAAC,WAAW,EAAEX,MAAM,CAAC;YAC9CR,QAAQ,CAACmB,gBAAgB,CAAC,SAAS,EAAEH,KAAK,CAAC;YAC3C;2CAAO,MAAM;oBACXhB,QAAQ,CAACoB,mBAAmB,CAAC,WAAW,EAAEZ,MAAM,CAAC;oBACjDR,QAAQ,CAACoB,mBAAmB,CAAC,SAAS,EAAEJ,KAAK,CAAC;gBAChD,CAAC;;QACH,CAAC;kCAAE;QAACxB,UAAU;KAAC,CAAC;IAEhB,MAAM6B,SAAS,OAAG3G,wKAAO;4CAAC,MAAM;YAC9B,MAAMQ,IAAI,GAAG,CAAC2D,OAAO,EAAE3D,IAAI,IAAI2D,OAAO,EAAEhD,QAAQ,IAAI,EAAE,EAAEK,IAAI,CAAC,CAAC;YAC9D,OAAOhB,IAAI,GAAGA,IAAI,GAAG,MAAM;QAC7B,CAAC;2CAAE;QAAC2D,OAAO;KAAC,CAAC;IAEb,MAAMyC,SAAS,OAAG5G,wKAAO;4CAAC,IAAMkC,SAAS,CAACiC,OAAO,EAAE/C,IAAI,CAAC,IAAI,OAAO;2CAAE;QAAC+C,OAAO;KAAC,CAAC;IAE/E,MAAM0C,cAAc,GAAG5C,OAAO,IAAI5B,OAAO,CAAC8B,OAAO,EAAE/C,IAAI,CAAC;IACxD,MAAM0F,aAAa,GAAG7C,OAAO,IAAI1B,YAAY,CAAC4B,OAAO,EAAE/C,IAAI,CAAC;IAE5D,MAAM2F,QAAQ,OAAG/G,wKAAO;2CAAC,MAAM;YAC7B,MAAMgH,IAAI,GAAG;gBACX;oBAAEC,IAAI,EAAE,GAAG;oBAAEC,KAAK,EAAE;gBAAY,CAAC;gBACjC;oBAAED,IAAI,EAAE,WAAW;oBAAEC,KAAK,EAAE;gBAAW,CAAC;gBACxC;oBAAED,IAAI,EAAE,eAAe;oBAAEC,KAAK,EAAE;gBAAe,CAAC;gBAChD;oBAAED,IAAI,EAAE,QAAQ;oBAAEC,KAAK,EAAE;gBAAqB,CAAC;gBAC/C;oBAAED,IAAI,EAAE,kBAAkB;oBAAEC,KAAK,EAAE;gBAAkB,CAAC;gBACtD;oBAAED,IAAI,EAAE,YAAY;oBAAEC,KAAK,EAAE;gBAAY,CAAC;gBAC1C;oBAAED,IAAI,EAAE,UAAU;oBAAEC,KAAK,EAAE;gBAAuB,CAAC;aACpD;YACD,IAAIL,cAAc,EAAEG,IAAI,CAACG,IAAI,CAAC;gBAAEF,IAAI,EAAE,cAAc;gBAAEC,KAAK,EAAE;YAAsB,CAAC,CAAC;YACrF,OAAOF,IAAI;QACb,CAAC;0CAAE;QAACH,cAAc;KAAC,CAAC;QAEpB9G,0KAAS;mCAAC,MAAM;YACd,IAAI0E,WAAW,CAAC2B,OAAO,EAAEgB,MAAM,CAACC,YAAY,CAAC5C,WAAW,CAAC2B,OAAO,CAAC;YACjE3B,WAAW,CAAC2B,OAAO,GAAGgB,MAAM,CAACE,UAAU;2CAAC,IAAM9C,aAAa,CAACH,CAAC,CAAC7C,IAAI,CAAC,CAAC,CAAC;0CAAE,GAAG,CAAC;YAC3E;2CAAO,MAAM;oBACX,IAAIiD,WAAW,CAAC2B,OAAO,EAAEgB,MAAM,CAACC,YAAY,CAAC5C,WAAW,CAAC2B,OAAO,CAAC;gBACnE,CAAC;;QACH,CAAC;kCAAE;QAAC/B,CAAC;KAAC,CAAC;IAEP,SAASkD,WAAWA,CAAA,EAAG;QACrB,MAAMC,IAAI,GAAGjE,KAAK,KAAK,MAAM,GAAG,OAAO,GAAG,MAAM;QAChDC,QAAQ,CAACgE,IAAI,CAAC;QACdlC,QAAQ,CAACC,eAAe,CAACC,OAAO,CAACjC,KAAK,GAAGiE,IAAI;QAC7CrC,YAAY,CAACsC,OAAO,CAAC,UAAU,EAAED,IAAI,CAAC;IACxC;IAEA,eAAeE,YAAYA,CAAA,EAAG;QAC5B,IAAI;YACF,MAAMC,KAAK,CAAC,kBAAkB,EAAE;gBAAEC,MAAM,EAAE;YAAO,CAAC,CAAC;QACrD,CAAC,QAAS;YACRzC,YAAY,CAAC0C,UAAU,CAAC,SAAS,CAAC;YAClCT,MAAM,CAACU,QAAQ,CAACb,IAAI,GAAG,QAAQ;QACjC;IACF;IAEA,eAAec,IAAIA,CAACC,UAA0C,CAA/B,CAAiC,CAA/B,QAAQ,GAAG,UAAU,GAAG;QACvD,IAAI;YACFlE,MAAM,CAAC,IAAI,CAAC;YACZF,UAAU,CAAC,IAAI,CAAC;YAEhB,MAAMqE,EAAE,GAAGD,UAAU,IAAIpD,YAAY;YACrC,MAAMsD,YAAY,GAAGD,EAAE,KAAK,UAAU,IAAIA,EAAE,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG;YAElE,MAAME,GAAG,GAAG,UAAM/H,mIAAO,EAAC,CAAA,iCAAA,EAAoC8H,YAAY,EAAE,EAAE;gBAAEN,MAAM,EAAE,KAAK;gBAAEQ,KAAK,EAAE;YAAW,CAAC,CAAC;YACnH,MAAMC,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,IAAA,CAAO,CAAC,CAAC,CAAC,CAAC;YAE/C,IAAI,CAACH,GAAG,CAACI,EAAE,IAAI,CAACF,IAAI,EAAEE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACH,IAAI,EAAEI,KAAK,IAAI,0BAA0B,CAAC;YAEpF,MAAMC,IAAI,EAAErI,CAAasI,KAAK,CAACC,CAAX,EAAE,IAAgB,CAACP,IAAI,CAACtE,SAAS,CAAC,GAAGsE,IAAI,CAACtE,SAAS,GAAG,EAAE;YAC5EC,YAAY,CAAC0E,IAAI,CAAC;YAClBhF,WAAW,CAAClB,WAAW,CAAC,IAAIE,IAAI,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,OAAOqD,CAAC,EAAE,AAAK,GAAF;YACbjC,MAAM,CAACiC,CAAC,EAAE8C,OAAO,IAAI,0BAA0B,CAAC;YAChD7E,YAAY,CAAC,EAAE,CAAC;QAClB,CAAC,QAAS;YACRJ,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;QAEA7D,0KAAS;mCAAC,MAAM;YACdgI,IAAI,CAAC,CAAC;QACN,uDAAA;QACF,CAAC;kCAAE,EAAE,CAAC;IAEN,MAAMe,QAAQ,OAAG9I,wKAAO;2CAAC,MAAM;YAC7B,MAAM2F,CAAC,GAAGpB,UAAU,CAACwE,WAAW,CAAC,CAAC;YAClC,IAAIL,IAAI,GAAG3E,SAAS;YAEpB,2CAAA;YACA,IAAIa,YAAY,KAAK,QAAQ,EAAE8D,IAAI,GAAGA,IAAI,CAAChE,MAAM;oDAAEsE,CAAC,GAAKA,CAAC,CAAChI,SAAS,KAAK,KAAK,CAAC;;YAC/E,IAAI4D,YAAY,KAAK,UAAU,EAAE8D,IAAI,GAAGA,IAAI,CAAChE,MAAM;mDAAEsE,CAAC,IAAKA,CAAC,CAAChI,SAAS,KAAK,KAAK,CAAC;;YAEjF,IAAI0D,MAAM,KAAK,UAAU,EAAEgE,IAAI,GAAGA,IAAI,CAAChE,MAAM;oDAAEsE,CAAC,GAAK3H,OAAO,CAAC2H,CAAC,CAAClI,MAAM,CAAC,CAAC;;YACvE,IAAI4D,MAAM,KAAK,UAAU,EAAEgE,IAAI,GAAGA,IAAI,CAAChE,MAAM;oDAAEsE,CAAC,GAAK3H,OAAO,CAAC2H,CAAC,CAACnI,GAAG,CAAC,CAAC;;YAEpE,IAAI,CAAC8E,CAAC,EAAE,OAAO+C,IAAI;YAEnB,OAAOA,IAAI,CAAChE,MAAM;oDAAEsE,CAAC,IAAK;oBACxB,MAAMC,IAAI,GAAG;wBACXD,CAAC,CAACzI,aAAa;wBACfyI,CAAC,CAACxI,IAAI;wBACNwI,CAAC,CAACvI,MAAM;wBACRuI,CAAC,CAACtI,OAAO;wBACTsI,CAAC,CAACrI,KAAK;wBACPqI,CAAC,CAACpI,QAAQ;wBACVoI,CAAC,CAACnI,GAAG;wBACLmI,CAAC,CAAClI,MAAM;wBACRS,MAAM,CAACyH,CAAC,CAACjI,gBAAgB,IAAI,EAAE,CAAC;qBACjC,CACEmI,GAAG,CAAC7H,OAAO,CAAC,CACZ8H,IAAI,CAAC,GAAG,CAAC,CACTJ,WAAW,CAAC,CAAC;oBAEhB,OAAOE,IAAI,CAACG,QAAQ,CAACzD,CAAC,CAAC;gBACzB,CAAC,CAAC;;QACJ,CAAC;0CAAE;QAAC5B,SAAS;QAAEQ,UAAU;QAAEG,MAAM;QAAEE,YAAY;KAAC,CAAC;IAEjD,MAAMyE,IAAI,OAAGrJ,wKAAO;uCAAC,MAAM;YACzB,MAAMsJ,KAAK,GAAGR,QAAQ,CAACS,MAAM;YAC7B,MAAMC,OAAO,GAAGV,QAAQ,CAACpE,MAAM;gDAAEsE,CAAC,GAAK3H,OAAO,CAAC2H,CAAC,CAAClI,MAAM,CAAC,CAAC;8CAACyI,MAAM;YAChE,MAAME,OAAO,GAAGX,QAAQ,CAACpE,MAAM;gDAAEsE,CAAC,GAAK3H,OAAO,CAAC2H,CAAC,CAACnI,GAAG,CAAC,CAAC;8CAAC0I,MAAM;YAC7D,MAAMG,WAAW,GAAGZ,QAAQ,CAACpE,MAAM;gDAAEsE,CAAC,GAAK,CAAC3H,OAAO,CAAC2H,CAAC,CAACzI,aAAa,CAAC,CAAC;8CAACgJ,MAAM;YAC5E,MAAMI,OAAO,GACXL,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGvH,IAAI,CAAC6H,KAAK,CAAEd,QAAQ,CAACe,MAAM;+CAAC,CAACC,CAAC,EAAEd,CAAC,GAAKc,CAAC,GAAGrI,EAAE,CAACuH,CAAC,CAACjI,gBAAgB,CAAC;8CAAE,CAAC,CAAC,GAAGuI,KAAK,GAAI,EAAE,CAAC,GAAG,EAAE;YAC5G,OAAO;gBAAEA,KAAK;gBAAEE,OAAO;gBAAEC,OAAO;gBAAEC,WAAW;gBAAEC;YAAQ,CAAC;QAC1D,CAAC;sCAAE;QAACb,QAAQ;KAAC,CAAC;IAEd,SAASiB,aAAaA,CAACzJ,EAAE,AAAQ,EAAN,AAAQ;QACjCyE,aAAa,EAAEiF,GAAG,GAAMA,GAAG,KAAK1J,EAAE,GAAG,IAAI,GAAGA,EAAG,CAAC;IAClD;IAEA,SAAS2J,IAAIA,CAACC,IAAI,AAAQ,EAAE,AAAR;QAClBnF,aAAa,CAAC,IAAI,CAAC;QACnB3B,MAAM,CAAC+D,IAAI,CAAC+C,IAAI,CAAC;IACnB;IAEA,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,QAAQ,CAAC;;0BACtB,6LAAC,GAAG;gBAAC,SAAS,EAAC,OAAO;gBAAC,WAAW,IAAC,MAAM,CAAC;;kCACxC,6LAAC,GAAG;wBAAC,SAAS,EAAC,wBAAwB,GAAG;;;;;;kCAC1C,6LAAC,GAAG;wBAAC,SAAS,EAAC,wBAAwB,GAAG;;;;;;kCAC1C,6LAAC,GAAG;wBAAC,SAAS,EAAC,wBAAwB,GAAG;;;;;;kCAC1C,6LAAC,GAAG;wBAAC,SAAS,EAAC,YAAY,GAAG;;;;;;;;;;;;0BAGhC,6LAAC,GAAG;gBAAC,SAAS,EAAC,mBAAmB,CAAC;;kCAEjC,6LAAC,GAAG;wBAAC,SAAS,EAAC,SAAS,CAAC;;0CACvB,6LAAC,MAAM;gCAAC,IAAI,EAAC,QAAQ;gCAAC,SAAS,EAAC,uBAAuB;gCAAC,OAAO,CAAC,CAAC,IAAM5G,aAAa,CAAC,IAAI,CAAC,CAAC;gCAAC,UAAU,IAAC,WAAW,CAAC;wDACjH,6LAAC,IAAI;oCAAC,WAAW,IAAC,MAAM,CAAC;;sDACvB,6LAAC,CAAC,GAAG;;;;;sDACL,6LAAC,CAAC,GAAG;;;;;sDACL,6LAAC,CAAC,GAAG;;;;;;;;;;;;;;;;0CAIT,6LAAC,GAAG;gCAAC,SAAS,EAAC,eAAe,CAAC;;kDAC7B,6LAAC,GAAG;wCAAC,SAAS,EAAC,eAAe;kDAAC,aAAa,EAAE,GAAG,CAAC;;;;;;kDAClD,6LAAC,GAAG;wCAAC,SAAS,EAAC,aAAa;kDAAC,SAAS,EAAE,GAAG,CAAC;;;;;;;;;;;;0CAG9C,6LAAC,MAAM;gCAAC,IAAI,EAAC,QAAQ;gCAAC,SAAS,EAAC,aAAa;gCAAC,OAAO,CAAC,CAACiE,WAAW,CAAC;gCAAC,UAAU,IAAC,cAAc,CAAC;0CAC3FhE,KAAK,KAAK,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC;;;;;;;;;;;;kCAKnC,6LAAC,MAAM;wBAAC,SAAS,CAAC,CAAC,CAAA,WAAA,EAAcF,UAAU,GAAG,SAAS,GAAG,EAAE,EAAE,CAAC;wBAAC,OAAO,CAAC,CAAC,IAAMC,aAAa,CAAC,KAAK,CAAC,CAAC;wBAAC,UAAU,IAAC,YAAY,GAAG;;;;;;kCAC/H,6LAAC,KAAK;wBAAC,SAAS,CAAC,CAAC,CAAA,UAAA,EAAaD,UAAU,GAAG,SAAS,GAAG,EAAE,EAAE,CAAC,CAAC;;0CAC5D,6LAAC,GAAG;gCAAC,SAAS,EAAC,gBAAgB,CAAC;;kDAC9B,6LAAC,GAAG;wCAAC,SAAS,EAAC,iBAAiB,CAAC;;0DAC/B,6LAAC,GAAG;gDAAC,SAAS,EAAC,gBAAgB,CAAC;wEAC9B,6LAAC,2IAAK;oDAAC,GAAG,EAAC,uBAAuB;oDAAC,GAAG,EAAC,iBAAiB;oDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;oDAAC,MAAM,CAAC,CAAC,EAAE,CAAC;oDAAC,QAAQ,GAAG;;;;;;;;;;;0DAE7F,6LAAC,GAAG,CAAC;;kEACH,6LAAC,GAAG;wDAAC,SAAS,EAAC,iBAAiB;kEAAC,aAAa,EAAE,GAAG,CAAC;;;;;;kEACpD,6LAAC,GAAG;wDAAC,SAAS,EAAC,eAAe;kEAAC,yBAAyB,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;kDAIlE,6LAAC,MAAM;wCAAC,IAAI,EAAC,QAAQ;wCAAC,SAAS,EAAC,aAAa;wCAAC,OAAO,CAAC,CAAC,IAAMC,aAAa,CAAC,KAAK,CAAC,CAAC;wCAAC,UAAU,IAAC,OAAO;kDAAC;;;;;;;;;;;;0CAKxG,6LAAC,GAAG;gCAAC,SAAS,EAAC,gBAAgB,CAAC;;kDAC9B,6LAAC,GAAG;wCAAC,SAAS,EAAC,QAAQ,CAAC;kDACrByD,QAAQ,CAACmC,GAAG,EAAEiB,EAAE,iBACf,6LAAC,0KAAI,CACH,GAAG,CAAC;gDACJ,SAAS,CAAC,CAAC,CAAA,WAAA,EAAcA,EAAE,CAAClD,IAAI,KAAK,YAAY,GAAG,oBAAoB,GAAG,EAAE,EAAE,CAAC;gDAChF,IAAI,CAAC,CAACkD,EAAE,CAAClD,IAAI,CAAC;gDACd,OAAO,CAAC,CAAC,IAAM3D,aAAa,CAAC,KAAK,CAAC,CAAC,CACrC;;kEACC,6LAAC,IAAI;wDAAC,SAAS,EAAC,SAAS;wDAAC,WAAW,IAAC,MAAM;kEAAC;;;;;;oDAG5C6G,EAAE,CAACjD,KAAK,CAAC;;+CARLiD,EAAE,CAAClD,IAAI,CAAC;;;;;;;;;;kDAanB,6LAAC,GAAG;wCAAC,SAAS,EAAC,mCAAmC,CAAC;;0DACjD,6LAAC,GAAG;gDAAC,SAAS,EAAC,SAAS,CAAC;;kEACvB,6LAAC,IAAI;kEAAC,SAAS,EAAE,IAAI,CAAC;;;;;;kEACtB,6LAAC,CAAC;wDAAC,KAAK,CAAC,CAACN,SAAS,CAAC,CAAC;kEAAC1C,OAAO,GAAG0C,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;0DAEtD,6LAAC,GAAG;gDAAC,SAAS,EAAC,SAAS;gDAAC,KAAK,CAAC,CAAC;oDAAEyD,SAAS,EAAE;gDAAG,CAAC,CAAC,CAAC;;kEACjD,6LAAC,IAAI;kEAAC,IAAI,EAAE,IAAI,CAAC;;;;;;kEACjB,6LAAC,CAAC,CAAC;kEAACnG,OAAO,GAAG2C,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAO1C,6LAAC,KAAK;wBAAC,SAAS,EAAC,SAAS,CAAC;gDACzB,6LAAC,GAAG;4BAAC,SAAS,EAAC,2BAA2B,CAAC;;8CACzC,6LAAC,GAAG;oCAAC,SAAS,EAAC,UAAU,CAAC;;sDACxB,6LAAC,GAAG;4CAAC,SAAS,EAAC,eAAe,CAAC;sDAC7B,2MAAC,2IAAK;gDAAC,GAAG,EAAC,uBAAuB;gDAAC,GAAG,EAAC,iBAAiB;gDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gDAAC,MAAM,CAAC,CAAC,EAAE,CAAC;gDAAC,QAAQ,GAAG;;;;;;;;;;;sDAE7F,6LAAC,GAAG,CAAC;;8DACH,6LAAC,GAAG;oDAAC,SAAS,EAAC,gBAAgB;8DAAC,aAAa,EAAE,GAAG,CAAC;;;;;;8DACnD,6LAAC,GAAG;oDAAC,SAAS,EAAC,cAAc;8DAAC,yBAAyB,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;8CAIjE,6LAAC,GAAG;oCAAC,SAAS,EAAC,QAAQ,CAAC;8CACrBG,QAAQ,CAACmC,GAAG,EAAEiB,EAAE,iBACf,6LAAC,0KAAI,CAAC,GAAG,CAAC;4CAAU,SAAS,CAAC,CAAC,CAAA,WAAA,EAAcA,EAAE,CAAClD,IAAI,KAAK,YAAY,GAAG,oBAAoB,GAAG,EAAE,EAAE,CAAC;4CAAC,IAAI,CAAC,CAACkD,EAAE,CAAClD,IAAI,CAAC,CAAC;;8DAClH,6LAAC,IAAI;oDAAC,SAAS,EAAC,SAAS;oDAAC,WAAW,IAAC,MAAM;8DAAC;;;;;;gDAG5CkD,EAAE,CAACjD,KAAK,CAAC;;2CAJDiD,EAAE,CAAClD,IAAI,CAAC;;;;;;;;;;8CASvB,6LAAC,GAAG;oCAAC,SAAS,EAAC,mCAAmC,CAAC;;sDACjD,6LAAC,GAAG;4CAAC,SAAS,EAAC,SAAS,CAAC;;8DACvB,6LAAC,IAAI;8DAAC,SAAS,EAAE,IAAI,CAAC;;;;;;8DACtB,6LAAC,CAAC;oDAAC,KAAK,CAAC,CAACN,SAAS,CAAC,CAAC;8DAAC1C,OAAO,GAAG0C,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;sDAEtD,6LAAC,GAAG;4CAAC,SAAS,EAAC,SAAS;4CAAC,KAAK,CAAC,CAAC;gDAAEyD,SAAS,EAAE;4CAAG,CAAC,CAAC,CAAC;;8DACjD,6LAAC,IAAI;8DAAC,IAAI,EAAE,IAAI,CAAC;;;;;;8DACjB,6LAAC,CAAC,CAAC;8DAACnG,OAAO,GAAG2C,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAO1C,6LAAC,IAAI;wBAAC,SAAS,EAAC,SAAS,CAAC;;0CAExB,6LAAC,MAAM;gCAAC,SAAS,EAAC,kCAAkC;gCAAC,KAAK,CAAC,CAAC;oCAAEyD,cAAc,EAAE;gCAAO,CAAC,CAAC,CAAC;;kDACtF,6LAAC,GAAG;wCAAC,SAAS,EAAC,sBAAsB,CAAC;;0DACpC,6LAAC,MAAM;gDAAC,IAAI,EAAC,QAAQ;gDAAC,SAAS,EAAC,4BAA4B;gDAAC,OAAO,CAAC,CAAC9C,WAAW,CAAC,CAAC;;kEACjF,6LAAC,IAAI;wDAAC,SAAS,EAAC,gBAAgB;wDAAC,WAAW,IAAC,MAAM,GAAG;;;;;;oDACrDhE,KAAK,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS,CAAC;;;;;;;0DAG5C,6LAAC,MAAM;gDAAC,IAAI,EAAC,QAAQ;gDAAC,SAAS,EAAC,6BAA6B;gDAAC,OAAO,CAAC,CAACmE,YAAY,CAAC,CAAC;;kEACnF,6LAAC,IAAI;wDAAC,SAAS,EAAC,gBAAgB;wDAAC,WAAW,IAAC,MAAM;;;;;;oDAAG;;;;;;;;;;;;;kDAK1D,6LAAC,GAAG;wCAAC,SAAS,EAAC,qBAAqB,CAAC;gEACnC,6LAAC,GAAG;4CAAC,SAAS,EAAC,aAAa,CAAC;sDAC3B,2MAAC,2IAAK;gDAAC,GAAG,EAAC,uBAAuB;gDAAC,GAAG,EAAC,aAAa;gDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gDAAC,MAAM,CAAC,CAAC,EAAE,CAAC;gDAAC,QAAQ,GAAG;;;;;;;;;;;;;;;;kDAI3F,6LAAC,GAAG;wCAAC,SAAS,EAAC,oBAAoB,CAAC;gEAClC,6LAAC,GAAG;4CAAC,SAAS,EAAC,SAAS,CAAC;;8DACvB,6LAAC,GAAG;oDAAC,SAAS,EAAC,eAAe;8DAAC,WAAW,EAAE,GAAG,CAAC;;;;;;8DAChD,6LAAC,GAAG;oDAAC,SAAS,EAAC,cAAc,CAAC;8DAACjE,QAAQ,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;0CAM3D,6LAAC,OAAO;gCAAC,SAAS,EAAC,sBAAsB,CAAC;;kDACxC,6LAAC,GAAG;wCAAC,SAAS,EAAC,eAAe,CAAC;;0DAC7B,6LAAC,GAAG;gDAAC,SAAS,EAAC,gBAAgB;0DAAC,SAAS,EAAE,GAAG,CAAC;;;;;;0DAC/C,6LAAC,GAAG;gDAAC,SAAS,EAAC,cAAc;;oDAAC;kEACpB,6LAAC,CAAC;kEAAC,4EAA4E,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;kDAG/F,6LAAC,GAAG;wCAAC,SAAS,EAAC,gBAAgB,CAAC;;0DAC9B,6LAAC,IAAI;gDAAC,SAAS,CAAC,CAAC,CAAA,QAAA,EAAWE,OAAO,GAAG,QAAQ,GAAG,EAAE,EAAE,CAAC,CAAC;;kEACrD,6LAAC,IAAI;wDAAC,SAAS,EAAC,aAAa;wDAAC,WAAW,IAAC,MAAM,GAAG;;;;;;oDAClDA,OAAO,GAAG,SAAS,GAAG,MAAM,CAAC;;;;;;;0DAEhC,6LAAC,IAAI;gDAAC,SAAS,CAAC,CAAC,CAAA,sBAAA,EAAyBE,GAAG,GAAG,eAAe,GAAG,EAAE,EAAE,CAAC,CAAC;0DAACA,GAAG,GAAG,kBAAkB,GAAG,oBAAoB,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;;;;;;;0CAKpI,6LAAC,OAAO;gCAAC,SAAS,EAAC,yBAAyB,CAAC;;kDAC3C,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;;0DAChC,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB;0DAAC,SAAS,EAAE,GAAG,CAAC;;;;;;0DAClD,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB,CAAC;0DAACwF,IAAI,CAACC,KAAK,CAAC,EAAE,GAAG,CAAC;;;;;;0DACrD,6LAAC,GAAG;gDAAC,SAAS,EAAC,iBAAiB;0DAAC,QAAQ,EAAE,GAAG,CAAC;;;;;;;;;;;;kDAEjD,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;;0DAChC,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB;0DAAC,QAAQ,EAAE,GAAG,CAAC;;;;;;0DACjD,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB,CAAC;0DAACD,IAAI,CAACG,OAAO,CAAC,EAAE,GAAG,CAAC;;;;;;0DACvD,6LAAC,GAAG;gDAAC,SAAS,EAAC,iBAAiB;0DAAC,cAAc,EAAE,GAAG,CAAC;;;;;;;;;;;;kDAEvD,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;;0DAChC,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB;0DAAC,QAAQ,EAAE,GAAG,CAAC;;;;;;0DACjD,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB,CAAC;0DAACH,IAAI,CAACI,OAAO,CAAC,EAAE,GAAG,CAAC;;;;;;0DACvD,6LAAC,GAAG;gDAAC,SAAS,EAAC,iBAAiB;0DAAC,WAAW,EAAE,GAAG,CAAC;;;;;;;;;;;;kDAEpD,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;;0DAChC,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB;0DAAC,YAAY,EAAE,GAAG,CAAC;;;;;;0DACrD,6LAAC,GAAG;gDAAC,SAAS,EAAC,mBAAmB,CAAC;;oDAACJ,IAAI,CAACM,OAAO;oDAAC,CAAC,EAAE,GAAG,CAAC;;;;;;;0DACxD,6LAAC,GAAG;gDAAC,SAAS,EAAC,iBAAiB;0DAAC,cAAc,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;0CAKzD,6LAAC,OAAO;gCAAC,SAAS,EAAC,yBAAyB,CAAC;wDAC3C,6LAAC,GAAG;oCAAC,SAAS,EAAC,oBAAoB,CAAC;;sDAClC,6LAAC,MAAM;4CAAC,IAAI,EAAC,QAAQ;4CAAC,SAAS,EAAC,gCAAgC;4CAAC,OAAO,CAAC,CAAC,IAAM5B,IAAI,CAAC,CAAC,CAAC;4CAAC,QAAQ,CAAC,CAACpE,OAAO,CAAC,CAAC;;8DACzG,6LAAC,IAAI;oDAAC,SAAS,EAAC,UAAU;oDAAC,WAAW,IAAC,MAAM;8DAAC;;;;;;gDAEvC;;;;;;;sDAIT,6LAAC,0KAAI;4CAAC,SAAS,EAAC,gCAAgC;4CAAC,IAAI,EAAC,gBAAgB,CAAC;;8DACrE,6LAAC,IAAI;oDAAC,SAAS,EAAC,UAAU;oDAAC,WAAW,IAAC,MAAM;8DAAC;;;;;;gDAEvC;;;;;;;wCAIRmD,aAAa,iBACZ,6LAAC,0KAAI;4CAAC,SAAS,EAAC,gCAAgC;4CAAC,IAAI,EAAC,2BAA2B,CAAC;;8DAChF,6LAAC,IAAI;oDAAC,SAAS,EAAC,UAAU;oDAAC,WAAW,IAAC,MAAM;8DAAC;;;;;;gDAEvC;;;;;;iEAIT,6LAAC,MAAM;4CAAC,IAAI,EAAC,QAAQ;4CAAC,SAAS,EAAC,aAAa;4CAAC,QAAQ;4CAAC,KAAK,EAAC,oBAAoB,CAAC;;8DAChF,6LAAC,IAAI;oDAAC,SAAS,EAAC,UAAU;oDAAC,WAAW,IAAC,MAAM;8DAAC;;;;;;gDAEvC;;;;;;;;;;;;;;;;;;0CAQf,6LAAC,OAAO;gCAAC,SAAS,EAAC,sBAAsB,CAAC;;kDACxC,6LAAC,GAAG;wCAAC,SAAS,EAAC,kCAAkC,CAAC;;0DAChD,6LAAC,GAAG,CAAC;;kEACH,6LAAC,GAAG;wDAAC,SAAS,EAAC,eAAe;kEAAC,gBAAgB,EAAE,GAAG,CAAC;;;;;;kEACrD,6LAAC,GAAG;wDAAC,SAAS,EAAC,aAAa;kEAAC,kEAAkE,EAAE,GAAG,CAAC;;;;;;;;;;;;0DAEvG,6LAAC,IAAI;gDAAC,SAAS,CAAC,CAAC,CAAA,QAAA,EAAWnD,OAAO,GAAG,QAAQ,GAAG,EAAE,EAAE,CAAC,CAAC;0DAACA,OAAO,GAAG,UAAU,GAAG,OAAO,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;kDAGhG,6LAAC,GAAG;wCAAC,SAAS,EAAC,cAAc,CAAC;;0DAC5B,6LAAC,KAAK;gDAAC,SAAS,EAAC,yBAAyB;gDAAC,WAAW,EAAC,mBAAmB;gDAAC,KAAK,CAAC,CAACU,CAAC,CAAC;gDAAC,QAAQ,CAAC,EAAE0B,CAAC,GAAKzB,IAAI,CAACyB,CAAC,CAACG,MAAM,CAACoE,KAAK,CAAC,CAAC,GAAG;;;;;;0DAE9H,6LAAC,GAAG;gDAAC,SAAS,EAAC,aAAa;gDAAC,KAAK,CAAC,CAAC;oDAAEC,OAAO,EAAE,MAAM;oDAAEC,GAAG,EAAE,EAAE;oDAAEC,QAAQ,EAAE,MAAM;oDAAEL,SAAS,EAAE;gDAAG,CAAC,CAAC,CAAC;0DAChG;oDACC;wDAAE5D,GAAG,EAAE,QAAQ;wDAAEU,KAAK,EAAE;oDAAS,CAAC;oDAClC;wDAAEV,GAAG,EAAE,UAAU;wDAAEU,KAAK,EAAE;oDAAW,CAAC;oDACtC;wDAAEV,GAAG,EAAE,KAAK;wDAAEU,KAAK,EAAE;oDAAM,CAAC;iDAC7B,CAACgC,GAAG,CAAExH,CAAC,kBACN,6LAAC,MAAM,CACL,GAAG,CAAC;wDACJ,SAAS,CAAC,CAAC,CAAA,eAAA,EAAkBkD,YAAY,KAAMlD,CAAC,CAAC8E,GAAG,GAAW,CAAP,GAAI,oBAA2B,GAAG,EAAE,EAAE,CAAC;wDAC/F,IAAI,EAAC,QAAQ;wDACb,OAAO,CAAC,CAAC,MAAM;4DACb,MAAMgB,IAAI,GAAG9F,CAAC,CAAC8E,GAAG,IAAI,GAAG;4DACzB3B,eAAe,CAAC2C,IAAI,CAAC;4DACrB,kCAAA;4DACA,IAAIA,IAAI,KAAK,UAAU,IAAIA,IAAI,KAAK,KAAK,EAAEO,IAAI,CAACP,IAAI,CAAC;wDACvD,CAAC,CAAC,CACH;kEACE9F,CAAC,CAACwF,KAAK,CAAC;uDAVJxF,CAAC,CAAC8E,GAAG,CAAC;;;;;;;;;;0DAejB,6LAAC,GAAG;gDAAC,SAAS,EAAC,aAAa,CAAC;0DAC1B;oDACC;wDAAEA,GAAG,EAAE,KAAK;wDAAEU,KAAK,EAAE;oDAAM,CAAC;oDAC5B;wDAAEV,GAAG,EAAE,UAAU;wDAAEU,KAAK,EAAE;oDAAW,CAAC;oDACtC;wDAAEV,GAAG,EAAE,UAAU;wDAAEU,KAAK,EAAE;oDAAW,CAAC;iDACvC,CAACgC,GAAG,EAAExH,CAAC,iBACN,6LAAC,MAAM,CACL,GAAG,CAAC;wDACJ,SAAS,CAAC,CAAC,CAAA,eAAA,EAAkBgD,MAAM,KAAMhD,CAAC,CAAC8E,GAAG,GAAW,CAAP,GAAI,oBAA2B,GAAG,EAAE,EAAE,CAAC;wDACzF,OAAO,CAAC,CAAC,IAAM7B,SAAS,CAACjD,CAAC,CAAC8E,GAAG,IAAI,GAAG,CAAC,CAAC;wDACvC,IAAI,EAAC,QAAQ,CACd;kEACE9E,CAAC,CAACwF,KAAK,CAAC;uDALJxF,CAAC,CAAC8E,GAAG,CAAC;;;;;;;;;;4CAUhB3C,GAAG,iBAAG,6LAAC,GAAG;gDAAC,SAAS,EAAC,uBAAuB,CAAC;0DAACA,GAAG,CAAC,EAAE,GAAG,CAAC;;;;;uDAAG,IAAI,CAAC;;;;;;;;;;;;;0CAKrE,6LAAC,OAAO;gCAAC,SAAS,EAAC,sBAAsB,CAAC;;kDACxC,6LAAC,GAAG;wCAAC,SAAS,EAAC,kCAAkC,CAAC;;0DAChD,6LAAC,GAAG,CAAC;;kEACH,6LAAC,GAAG;wDAAC,SAAS,EAAC,eAAe;kEAAC,iBAAiB,EAAE,GAAG,CAAC;;;;;;kEACtD,6LAAC,GAAG;wDAAC,SAAS,EAAC,aAAa;kEAAC,+BAA+B,EAAE,GAAG,CAAC;;;;;;;;;;;;0DAEpE,6LAAC,IAAI;gDAAC,SAAS,EAAC,uBAAuB,CAAC;;oDAACiF,QAAQ,CAACS,MAAM;oDAAC,UAAU,EAAE,IAAI,CAAC;;;;;;;;;;;;;kDAG5E,6LAAC,GAAG;wCAAC,SAAS,EAAC,4BAA4B,CAAC;;0DAC1C,6LAAC,KAAK;gDAAC,SAAS,EAAC,4BAA4B,CAAC;;kEAC5C,6LAAC,KAAK,CAAC;gFACL,6LAAC,EAAE,CAAC;;8EACF,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEmB,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,IAAI,EAAE,EAAE,CAAC;;;;;;8EACpC,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,QAAQ,EAAE,EAAE,CAAC;;;;;;8EACxC,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,MAAM,EAAE,EAAE,CAAC;;;;;;8EACtC,6LAAC,EAAE;8EAAC,OAAO,EAAE,EAAE,CAAC;;;;;;8EAChB,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,KAAK,EAAE,EAAE,CAAC;;;;;;8EACrC,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,QAAQ,EAAE,EAAE,CAAC;;;;;;8EACxC,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,GAAG,EAAE,EAAE,CAAC;;;;;;8EACnC,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE;oEAAI,CAAC,CAAC;8EAAC,GAAG,EAAE,EAAE,CAAC;;;;;;8EACnC,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAEA,KAAK,EAAE,GAAG;wEAAEC,SAAS,EAAE;oEAAQ,CAAC,CAAC;8EAAC,QAAQ,EAAE,EAAE,CAAC;;;;;;8EAC5D,6LAAC,EAAE;oEAAC,KAAK,CAAC,CAAC;wEAAED,KAAK,EAAE,EAAE;wEAAEC,SAAS,EAAE;oEAAQ,CAAC,CAAC;8EAAC,CAAC,EAAE,EAAE,CAAC;;;;;;;;;;;;;;;;;kEAIxD,6LAAC,KAAK,CAAC;kEACJhH,OAAO,iBACN,6LAAC,EAAE,CAAC;oFACF,6LAAC,EAAE;gEAAC,OAAO,CAAC,CAAC,EAAE,CAAC;gEAAC,SAAS,EAAC,aAAa;0EAAC;;;;;;;;;;mEAIzCmF,QAAQ,CAACS,MAAM,KAAK,CAAC,iBACvB,6LAAC,EAAE,CAAC;oFACF,6LAAC,EAAE;gEAAC,OAAO,CAAC,CAAC,EAAE,CAAC;gEAAC,SAAS,EAAC,aAAa;0EAAC;;;;;;;;;;mEAK3CT,QAAQ,CAACI,GAAG,EAAEF,CAAC,IAAK;4DAClB,MAAM1I,EAAE,GAAGiB,MAAM,CAACyH,CAAC,CAAC1I,EAAE,CAAC;4DACvB,MAAMsK,IAAI,GAAGvJ,OAAO,CAAC2H,CAAC,CAACzI,aAAa,CAAC,IAAI,GAAG;4DAC5C,MAAMsK,YAAY,GAAGxJ,OAAO,CAAC2H,CAAC,CAACxI,IAAI,CAAC,IAAI,GAAG;4DAC3C,MAAMsK,UAAU,GAAGzJ,OAAO,CAAC2H,CAAC,CAACvI,MAAM,CAAC,IAAI,GAAG;4DAC3C,MAAMsK,IAAI,GAAG1J,OAAO,CAAC2H,CAAC,CAACtI,OAAO,CAAC,IAAI,GAAG;4DAEtC,MAAMsK,MAAM,GAAGlG,UAAU,KAAKxE,EAAE;4DAChC,MAAM2K,QAAQ,GAAGjC,CAAC,CAAChI,SAAS,KAAK,KAAK;4DAEtC,qBACE,6LAAC,EAAE,CAAC,GAAG,CAAC;gEAAK,KAAK,CAAC,CAACiK,QAAQ,GAAG;oEAAEC,OAAO,EAAE;gEAAK,CAAC,GAAGC,SAAS,CAAC,CAAC;;kFAC5D,6LAAC,EAAE;wEAAC,SAAS,EAAC,WAAW,CAAC;kFAACP,IAAI,CAAC,EAAE,EAAE,CAAC;;;;;;kFACrC,6LAAC,EAAE;wEAAC,SAAS,EAAC,WAAW,CAAC;kFAACC,YAAY,CAAC,EAAE,EAAE,CAAC;;;;;;kFAC7C,6LAAC,EAAE,CAAC;kFAACC,UAAU,CAAC,EAAE,EAAE,CAAC;;;;;;kFACrB,6LAAC,EAAE,CAAC;kFAACC,IAAI,CAAC,EAAE,EAAE,CAAC;;;;;;kFACf,6LAAC,EAAE,CAAC;kFAAC1J,OAAO,CAAC2H,CAAC,CAACrI,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC;;;;;;kFAClC,6LAAC,EAAE,CAAC;kFAACU,OAAO,CAAC2H,CAAC,CAACpI,QAAQ,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC;;;;;;kFACrC,6LAAC,EAAE,CAAC;kFAACS,OAAO,CAAC2H,CAAC,CAACnI,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC;;;;;;kFAChC,6LAAC,EAAE,CAAC;kFAACQ,OAAO,CAAC2H,CAAC,CAAClI,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC;;;;;;kFACnC,6LAAC,EAAE;wEAAC,KAAK,CAAC,CAAC;4EAAE6J,SAAS,EAAE,OAAO;4EAAES,UAAU,EAAE;wEAAI,CAAC,CAAC,CAAC;kFAACvJ,MAAM,CAACmH,CAAC,CAACjI,gBAAgB,CAAC,CAAC,EAAE,EAAE,CAAC;;;;;;kFAErF,6LAAC,EAAE;wEAAC,KAAK,CAAC,CAAC;4EAAE4J,SAAS,EAAE;wEAAQ,CAAC,CAAC,CAAC;gGACjC,6LAAC,GAAG;4EACF,SAAS,EAAC,gBAAgB;4EAC1B,GAAG,CAAC,CAACK,MAAM,GAAGhG,WAAW,GAAGmG,SAAS,CAAC;4EACtC,KAAK,CAAC,CAAC;gFAAEE,QAAQ,EAAE,UAAU;gFAAEd,OAAO,EAAE;4EAAe,CAAC,CAAC,CAC1D;;8FACC,6LAAC,MAAM;oFACL,IAAI,EAAC,QAAQ;oFACb,SAAS,EAAC,gCAAgC;oFAC1C,aAAa,IAAC,MAAM;oFACpB,aAAa,CAAC,GAACS,MAAM,GAAG,MAAM,GAAG,OAAO,CAAC;oFACzC,OAAO,CAAC,CAAC,IAAMjG,aAAa,EAAEiF,GAAG,GAAMA,GAAG,KAAK1J,EAAE,GAAG,IAAI,GAAGA,EAAG,CAAC,CAAC;oFAChE,KAAK,EAAC,SAAS;8FAChB;;;;;;gFAIA0K,MAAM,iBACL,6LAAC,GAAG;oFACF,SAAS,EAAC,wBAAwB;oFAClC,IAAI,EAAC,MAAM;oFACX,UAAU,IAAC,kBAAkB;oFAC7B,KAAK,CAAC,CAAC;wFAAEK,QAAQ,EAAE,UAAU;wFAAEC,KAAK,EAAE,CAAC;wFAAEC,GAAG,EAAE,kBAAkB;wFAAEC,QAAQ,EAAE,GAAG;wFAAEC,MAAM,EAAE;oFAAG,CAAC,CAAC,CAC/F;;sGACC,6LAAC,MAAM;4FAAC,IAAI,EAAC,QAAQ;4FAAC,IAAI,EAAC,UAAU;4FAAC,SAAS,EAAC,cAAc;4FAAC,OAAO,CAAC,CAAC,IAAMxB,IAAI,CAAC,CAAA,WAAA,EAAc3J,EAAE,CAAA,KAAA,CAAO,CAAC,CAAC;sGAAC;;;;;;sGAG7G,6LAAC,MAAM;4FAAC,IAAI,EAAC,QAAQ;4FAAC,IAAI,EAAC,UAAU;4FAAC,SAAS,EAAC,cAAc;4FAAC,OAAO,CAAC,CAAC,IAAM2J,IAAI,CAAC,CAAA,WAAA,EAAc3J,EAAE,CAAA,QAAA,CAAU,CAAC,CAAC;sGAAC;;;;;;sGAGhH,6LAAC,MAAM;4FAAC,IAAI,EAAC,QAAQ;4FAAC,IAAI,EAAC,UAAU;4FAAC,SAAS,EAAC,cAAc;4FAAC,OAAO,CAAC,CAAC,IAAM2J,IAAI,CAAC,CAAA,WAAA,EAAc3J,EAAE,CAAA,SAAA,CAAW,CAAC,CAAC;sGAAC;;;;;;;;;;;2FAIjH,IAAI,CAAC;;;;;;;;;;;;;+DA7CNA,EAAE,CAAC;;;;;wDAkDhB,CAAC,CACF,CAAC;;;;;;;;;;;;0DAIN,6LAAC,GAAG;gDAAC,KAAK,CAAC,CAAC;oDAAE8J,SAAS,EAAE;gDAAG,CAAC,CAAC;gDAAC,SAAS,EAAC,UAAU;;oDAAC;oDACR,GAAG,CAAC;kEAC9C,6LAAC,CAAC;kEAAC,gGAAgG,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;0CAK7G,6LAAC,MAAM;gCAAC,SAAS,EAAC,WAAW;;oCAAC,EAAE;oCAAC,IAAI1H,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC,CAAC;oCAAC,oCAAoC,EAAE,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAKjH;GAjlBwBI,aAAaA,CAAA,EAAG;;QACvBhD,kJAAS,CAAC,CAAC","ignoreList":[]}}]
}