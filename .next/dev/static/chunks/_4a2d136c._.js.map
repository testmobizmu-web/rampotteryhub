{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/rampotteryhub/src/lib/rpFetch.ts"],"sourcesContent":["// lib/rpFetch.ts\r\n\r\nexport type RpFetchOptions = RequestInit & {\r\n  auth?: boolean; // default true: attach x-rp-user\r\n};\r\n\r\nfunction attachAuthHeader(headers: Headers, options: RpFetchOptions) {\r\n  if (options.auth === false) return;\r\n\r\n  if (typeof window !== \"undefined\") {\r\n    const session = window.localStorage.getItem(\"rp_user\");\r\n    if (session) headers.set(\"x-rp-user\", session);\r\n  }\r\n}\r\n\r\nfunction handleAuthRedirect(res: Response) {\r\n  if (typeof window === \"undefined\") return;\r\n\r\n  if (res.status === 401 || res.status === 403) {\r\n    const next = window.location.pathname + window.location.search;\r\n    window.location.href = `/login?next=${encodeURIComponent(next)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * rpFetch = fetch wrapper that injects x-rp-user and handles 401/403 redirect.\r\n * Returns the native Response (so you can do res.json(), res.text(), etc.)\r\n */\r\nexport async function rpFetch(url: string, options: RpFetchOptions = {}): Promise<Response> {\r\n  const headers = new Headers(options.headers || {});\r\n\r\n  // Default JSON header if body exists (and not FormData)\r\n  const bodyIsFormData =\r\n    typeof FormData !== \"undefined\" && options.body instanceof FormData;\r\n\r\n  if (options.body && !bodyIsFormData && !headers.has(\"Content-Type\")) {\r\n    headers.set(\"Content-Type\", \"application/json\");\r\n  }\r\n\r\n  attachAuthHeader(headers, options);\r\n\r\n  const res = await fetch(url, { ...options, headers });\r\n\r\n  // Redirect on auth issues (client-side)\r\n  handleAuthRedirect(res);\r\n\r\n  return res;\r\n}\r\n\r\n/**\r\n * Convenience helper: returns parsed JSON and throws on non-OK responses.\r\n * Useful for API routes returning { ok, ... } JSON.\r\n */\r\nexport async function rpFetchJson<T = any>(url: string, options: RpFetchOptions = {}): Promise<T> {\r\n  const res = await rpFetch(url, options);\r\n\r\n  let json: any = null;\r\n  try {\r\n    json = await res.json();\r\n  } catch {\r\n    json = null;\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const msg = json?.error || `Request failed (${res.status})`;\r\n    throw new Error(msg);\r\n  }\r\n\r\n  if (json?.ok === false) {\r\n    throw new Error(json?.error || \"Request failed\");\r\n  }\r\n\r\n  return (json ?? {}) as T;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;AAMjB,SAAS,iBAAiB,OAAgB,EAAE,OAAuB;IACjE,IAAI,QAAQ,IAAI,KAAK,OAAO;IAE5B,wCAAmC;QACjC,MAAM,UAAU,OAAO,YAAY,CAAC,OAAO,CAAC;QAC5C,IAAI,SAAS,QAAQ,GAAG,CAAC,aAAa;IACxC;AACF;AAEA,SAAS,mBAAmB,GAAa;IACvC;;IAEA,IAAI,IAAI,MAAM,KAAK,OAAO,IAAI,MAAM,KAAK,KAAK;QAC5C,MAAM,OAAO,OAAO,QAAQ,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,MAAM;QAC9D,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,YAAY,EAAE,mBAAmB,OAAO;IAClE;AACF;AAMO,eAAe,QAAQ,GAAW,EAAE,UAA0B,CAAC,CAAC;IACrE,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAEhD,wDAAwD;IACxD,MAAM,iBACJ,OAAO,aAAa,eAAe,QAAQ,IAAI,YAAY;IAE7D,IAAI,QAAQ,IAAI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,GAAG,CAAC,iBAAiB;QACnE,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IAEA,iBAAiB,SAAS;IAE1B,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IAEnD,wCAAwC;IACxC,mBAAmB;IAEnB,OAAO;AACT;AAMO,eAAe,YAAqB,GAAW,EAAE,UAA0B,CAAC,CAAC;IAClF,MAAM,MAAM,MAAM,QAAQ,KAAK;IAE/B,IAAI,OAAY;IAChB,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAM;QACN,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,SAAS,CAAC,gBAAgB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QAC3D,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,MAAM,OAAO,OAAO;QACtB,MAAM,IAAI,MAAM,MAAM,SAAS;IACjC;IAEA,OAAQ,QAAQ,CAAC;AACnB"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["C:/Dev/rampotteryhub/src/components/print/RamPotteryDoc.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport React from \"react\";\r\n\r\ntype Party = {\r\n  name?: string | null;\r\n  address?: string | null;\r\n  phone?: string | null;\r\n  brn?: string | null;\r\n  vat_no?: string | null;\r\n  customer_code?: string | null;\r\n};\r\n\r\ntype DocCompany = {\r\n  brn?: string | null;\r\n  vat_no?: string | null;\r\n};\r\n\r\ntype Totals = {\r\n  subtotal?: number | null;\r\n  vatPercentLabel?: string;\r\n  vat_amount?: number | null;\r\n  total_amount?: number | null;\r\n  previous_balance?: number | null;\r\n  amount_paid?: number | null;\r\n  balance_remaining?: number | null;\r\n\r\n  discount_percent?: number | null;\r\n  discount_amount?: number | null;\r\n};\r\n\r\nexport type RamPotteryDocItem = {\r\n  sn: number;\r\n  item_code?: string;\r\n  uom?: string; // BOX / PCS\r\n  box_qty?: number; // box qty or pcs qty\r\n  units_per_box?: number; // unit per box\r\n  total_qty?: number; // total qty\r\n  description?: string;\r\n  unit_price_excl_vat?: number;\r\n  unit_vat?: number;\r\n  unit_price_incl_vat?: number;\r\n  line_total?: number;\r\n};\r\n\r\nexport type RamPotteryDocProps = {\r\n  variant: \"INVOICE\" | \"CREDIT_NOTE\";\r\n\r\n  docNoLabel: string;\r\n  docNoValue: string;\r\n\r\n  dateLabel: string;\r\n  dateValue: string;\r\n\r\n  purchaseOrderLabel?: string;\r\n  purchaseOrderValue?: string;\r\n\r\n  salesRepName?: string;\r\n  salesRepPhone?: string;\r\n\r\n  customer: Party;\r\n  company: DocCompany;\r\n\r\n  items: RamPotteryDocItem[];\r\n\r\n  totals: Totals;\r\n\r\n  preparedBy?: string;\r\n  deliveredBy?: string;\r\n};\r\n\r\nfunction n2(v: any) {\r\n  const x = Number(v ?? 0);\r\n  return Number.isFinite(x) ? x : 0;\r\n}\r\n\r\nfunction fmtMoney(v: any) {\r\n  const x = n2(v);\r\n  // Always 2dp like your screenshot\r\n  return x.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n}\r\n\r\nexport default function RamPotteryDoc(props: RamPotteryDocProps) {\r\n  const {\r\n    variant,\r\n    docNoLabel,\r\n    docNoValue,\r\n    dateLabel,\r\n    dateValue,\r\n    purchaseOrderLabel,\r\n    purchaseOrderValue,\r\n    salesRepName,\r\n    salesRepPhone,\r\n    customer,\r\n    company,\r\n    items,\r\n    totals,\r\n    preparedBy,\r\n    deliveredBy,\r\n  } = props;\r\n\r\n  const docTitle = variant === \"CREDIT_NOTE\" ? \"VAT CREDIT NOTE\" : \"VAT INVOICE\";\r\n\r\n  const showPO = Boolean(purchaseOrderLabel);\r\n  const poVal = purchaseOrderValue || \"\";\r\n\r\n  const brn = company?.brn || \"\";\r\n  const vat = company?.vat_no || \"\";\r\n\r\n  return (\r\n    <div className=\"rpdoc-page\">\r\n      {/* ===== HEADER (logo left, title center) ===== */}\r\n      <div className=\"rpdoc-headerTop\">\r\n        <div className=\"rpdoc-headerTop-left\">\r\n          <Image\r\n            className=\"rpdoc-logoTop\"\r\n            src=\"/images/logo/logo.png\"\r\n            alt=\"Ram Pottery Logo\"\r\n            width={800}\r\n            height={300}\r\n            priority\r\n          />\r\n        </div>\r\n\r\n        <div className=\"rpdoc-headerTop-center\">\r\n          <h1 className=\"rpdoc-titleOneRow\">RAM POTTERY LTD</h1>\r\n\r\n          <div className=\"rpdoc-subTwoRows\">\r\n            <div>MANUFACTURER &amp; IMPORTER OF QUALITY CLAY</div>\r\n            <div>PRODUCTS AND OTHER RELIGIOUS ITEMS</div>\r\n          </div>\r\n\r\n          <div className=\"rpdoc-addrTwoRows\">\r\n            <div>Robert Kennedy Street, Reunion Maurel,</div>\r\n            <div>Petit Raffray - Mauritius</div>\r\n          </div>\r\n\r\n          <div className=\"rpdoc-phonesOneRow\">\r\n            <span>Tel: +230 57788884 +230 58060268 +230 52522844</span>\r\n          </div>\r\n\r\n          <div className=\"rpdoc-mailWebOneRow\">\r\n            <span>Email: info@rampottery.com</span>\r\n            <span className=\"rpdoc-gap\" />\r\n            <span>Web: www.rampottery.com</span>\r\n          </div>\r\n\r\n          <div className=\"rpdoc-docOneRow\">{docTitle}</div>\r\n        </div>\r\n\r\n        <div className=\"rpdoc-headerTop-right\" />\r\n      </div>\r\n\r\n      {/* ===== TOP BOXES ===== */}\r\n      <div className=\"rpdoc-topgrid\">\r\n        {/* CUSTOMER DETAILS */}\r\n        <div className=\"rpdoc-box\">\r\n          <div className=\"rpdoc-box-title\">CUSTOMER DETAILS</div>\r\n          <div className=\"rpdoc-box-body\">\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">Name:</div>\r\n              <div className=\"v\">{customer?.name || \"\"}</div>\r\n            </div>\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">ADDRESS:</div>\r\n              <div className=\"v\">{customer?.address || \"\"}</div>\r\n            </div>\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">Tel:</div>\r\n              <div className=\"v\">{customer?.phone || \"\"}</div>\r\n            </div>\r\n\r\n            <div className=\"rpdoc-row-split\">\r\n              <div className=\"rpdoc-pair\">\r\n                <div className=\"k\">BRN:</div>\r\n                <div className=\"v\">{customer?.brn || \"\"}</div>\r\n              </div>\r\n              <div className=\"rpdoc-pair\">\r\n                <div className=\"k\">VAT No:</div>\r\n                <div className=\"v\">{customer?.vat_no || \"\"}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">CUSTOMER CODE:</div>\r\n              <div className=\"v\">{customer?.customer_code || \"\"}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* BRN/VAT + INVOICE DETAILS */}\r\n        <div className=\"rpdoc-box\">\r\n          <div className=\"rpdoc-box-title\">\r\n            BRN:&nbsp;{brn}&nbsp;|&nbsp;VAT:{vat}\r\n          </div>\r\n          <div className=\"rpdoc-box-body\">\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">{docNoLabel}</div>\r\n              <div className=\"v\">{docNoValue}</div>\r\n            </div>\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">{dateLabel}</div>\r\n              <div className=\"v\">{dateValue}</div>\r\n            </div>\r\n\r\n            {showPO ? (\r\n              <div className=\"rpdoc-row\">\r\n                <div className=\"k\">{purchaseOrderLabel}</div>\r\n                <div className=\"v\">{poVal}</div>\r\n              </div>\r\n            ) : null}\r\n\r\n            <div className=\"rpdoc-row\">\r\n              <div className=\"k\">SALES REP:</div>\r\n              <div className=\"v\">\r\n                {salesRepName || \"\"}\r\n                {salesRepPhone ? (\r\n                  <>\r\n                    <span className=\"rpdoc-gap\" />\r\n                    <span className=\"rpdoc-red\">Tel: {salesRepPhone}</span>\r\n                  </>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ===== ITEMS TABLE ===== */}\r\n      <table className=\"rpdoc-table2\">\r\n        <colgroup>\r\n          <col style={{ width: \"4%\" }} />\r\n          <col style={{ width: \"10%\" }} />\r\n          <col style={{ width: \"6%\" }} />\r\n          <col style={{ width: \"8%\" }} />\r\n          <col style={{ width: \"9%\" }} />\r\n          <col style={{ width: \"29%\" }} />\r\n          <col style={{ width: \"10%\" }} />\r\n          <col style={{ width: \"6%\" }} />\r\n          <col style={{ width: \"10%\" }} />\r\n          <col style={{ width: \"8%\" }} />\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th>SN</th>\r\n            <th>ITEM CODE</th>\r\n            <th>BOX</th>\r\n            <th>UNIT PER BOX</th>\r\n            <th>TOTAL QTY</th>\r\n            <th>DESCRIPTION</th>\r\n            <th>UNIT PRICE<br />(EXCL VAT)</th>\r\n            <th>VAT</th>\r\n            <th>UNIT PRICE<br />(INCL VAT)</th>\r\n            <th>TOTAL AMOUNT<br />(INCL VAT)</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {(items?.length ? items : []).map((it) => {\r\n            const uom = (it.uom || \"BOX\").toUpperCase();\r\n            const boxQty = n2(it.box_qty);\r\n            const upb = n2(it.units_per_box);\r\n            const totalQty = n2(it.total_qty);\r\n\r\n            return (\r\n              <tr key={it.sn}>\r\n                <td className=\"c\">{it.sn}</td>\r\n                <td className=\"c\">{it.item_code || \"\"}</td>\r\n                <td className=\"c\">{uom}</td>\r\n                <td className=\"c\">{upb ? String(upb) : \"\"}</td>\r\n                <td className=\"c\">{totalQty ? String(totalQty) : String(boxQty || 0)}</td>\r\n                <td className=\"l desc\">{it.description || \"\"}</td>\r\n                <td className=\"r\">{fmtMoney(it.unit_price_excl_vat)}</td>\r\n                <td className=\"r\">{fmtMoney(it.unit_vat)}</td>\r\n                <td className=\"r\">{fmtMoney(it.unit_price_incl_vat)}</td>\r\n                <td className=\"r\">{fmtMoney(it.line_total)}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n\r\n          {/* If you want fixed height like the screenshot even with few lines */}\r\n          {items.length < 6\r\n            ? Array.from({ length: 6 - items.length }).map((_, i) => (\r\n                <tr key={`blank-${i}`}>\r\n                  <td className=\"c\">&nbsp;</td>\r\n                  <td className=\"c\">&nbsp;</td>\r\n                  <td className=\"c\">&nbsp;</td>\r\n                  <td className=\"c\">&nbsp;</td>\r\n                  <td className=\"c\">&nbsp;</td>\r\n                  <td className=\"l desc\">&nbsp;</td>\r\n                  <td className=\"r\">&nbsp;</td>\r\n                  <td className=\"r\">&nbsp;</td>\r\n                  <td className=\"r\">&nbsp;</td>\r\n                  <td className=\"r\">&nbsp;</td>\r\n                </tr>\r\n              ))\r\n            : null}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* ===== NOTES + TOTALS ===== */}\r\n      <div className=\"rpdoc-bottomgrid\">\r\n        <div className=\"rpdoc-notes\">\r\n          <div className=\"rpdoc-notes-title\">Note:</div>\r\n          <ul>\r\n            <li>Goods once sold cannot be returned or exchanged.</li>\r\n            <li>For any other manufacturing defects, must provide this invoice for a refund or exchange.</li>\r\n            <li>\r\n              Customer must verify that the quantity of goods conforms with their invoice; otherwise, we will not be\r\n              responsible after delivery\r\n            </li>\r\n            <li>\r\n              Interest of <span className=\"redStrong\">1%</span> above the bank rate will be charged on sum due if not\r\n              settled within <span className=\"redStrong\">30 days</span>.\r\n            </li>\r\n            <li>All cheques to be issued on RAM POTTERY LTD.</li>\r\n            <li>Bank transfer to: 000 44 570 46 59 MCB Bank</li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div className=\"rpdoc-totals\">\r\n          <div className=\"trow\">\r\n            <div>SUB TOTAL</div>\r\n            <div className=\"money\">{fmtMoney(totals?.subtotal)}</div>\r\n          </div>\r\n          <div className=\"trow\">\r\n            <div>{(totals?.vatPercentLabel || \"VAT\").toUpperCase()}</div>\r\n            <div className=\"money\">{fmtMoney(totals?.vat_amount)}</div>\r\n          </div>\r\n          <div className=\"trow\">\r\n            <div>TOTAL AMOUNT</div>\r\n            <div className=\"money\">{fmtMoney(totals?.total_amount)}</div>\r\n          </div>\r\n          <div className=\"trow\">\r\n            <div>PREVIOUS BALANCE</div>\r\n            <div className=\"money\">{fmtMoney(totals?.previous_balance)}</div>\r\n          </div>\r\n          <div className=\"trow\">\r\n            <div>GROSS TOTAL</div>\r\n            <div className=\"money\">{fmtMoney(totals?.balance_remaining ?? totals?.total_amount)}</div>\r\n          </div>\r\n          <div className=\"trow\">\r\n            <div>AMOUNT PAID</div>\r\n            <div className=\"money\">{fmtMoney(totals?.amount_paid)}</div>\r\n          </div>\r\n          <div className=\"trow\">\r\n            <div>BALANCE REMAINING</div>\r\n            <div className=\"money\">{fmtMoney(totals?.balance_remaining)}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ===== SIGNATURES ===== */}\r\n      <div className=\"rpdoc-sign\">\r\n        <div className=\"signcol\">\r\n          <div className=\"line\" />\r\n          <div className=\"label\">Signature</div>\r\n          <div className=\"meta\">Prepared by: {preparedBy || \"\"}</div>\r\n        </div>\r\n\r\n        <div className=\"signcol\">\r\n          <div className=\"line\" />\r\n          <div className=\"label\">Signature</div>\r\n          <div className=\"meta\">Delivered by: {deliveredBy || \"\"}</div>\r\n        </div>\r\n\r\n        <div className=\"signcol\">\r\n          <div className=\"line\" />\r\n          <div className=\"label\">Customer Signature</div>\r\n          <div className=\"meta\">\r\n            Customer Name: __________________\r\n            <br />\r\n            <i>Please verify before sign</i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* âœ… IMPORTANT: keep the same bottom spacing as screenshot, but NO red thank-you bar */}\r\n      <div className=\"rpdoc-footerSpace\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","Image","React","Party","name","address","phone","brn","vat_no","customer_code","DocCompany","Totals","subtotal","vatPercentLabel","vat_amount","total_amount","previous_balance","amount_paid","balance_remaining","discount_percent","discount_amount","RamPotteryDocItem","sn","item_code","uom","box_qty","units_per_box","total_qty","description","unit_price_excl_vat","unit_vat","unit_price_incl_vat","line_total","RamPotteryDocProps","variant","docNoLabel","docNoValue","dateLabel","dateValue","purchaseOrderLabel","purchaseOrderValue","salesRepName","salesRepPhone","customer","company","items","totals","preparedBy","deliveredBy","n2","v","x","Number","isFinite","fmtMoney","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","RamPotteryDoc","props","$","$i","Symbol","for","docTitle","showPO","Boolean","poVal","vat","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","t38","t39","t40","t41","t42","t43","t44","t45","t46","t47","t48","t49","t50","t51","width","t52","t53","t54","t55","t56","length","t57","map","_RamPotteryDocAnonymous","t58","Array","from","_RamPotteryDocAnonymous2","t59","t60","t61","t62","t63","t64","t65","t66","t67","t68","t69","t70","t71","toUpperCase","t72","t73","t74","t75","t76","t77","t78","t79","t80","t81","t82","t83","t84","t85","t86","t87","t88","t89","t90","t91","t92","t93","t94","t95","t96","t97","t98","t99","t100","t101","t102","t103","t104","t105","t106","t107","t108","t109","t110","t111","_","i","it","boxQty","upb","totalQty","String"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2159, "column": 0}, "map": {"version":3,"sources":["C:/Dev/rampotteryhub/app/invoices/new/NewInvoiceClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { rpFetch } from \"@/lib/rpFetch\";\r\nimport RamPotteryDoc from \"@/components/print/RamPotteryDoc\";\r\n\r\ntype CustomerRow = {\r\n  id: number;\r\n  name: string;\r\n  address: string;\r\n  phone: string;\r\n  whatsapp?: string;\r\n  brn?: string;\r\n  vat_no?: string;\r\n  customer_code: string;\r\n  opening_balance?: number | null;\r\n  discount_percent?: number | null;\r\n};\r\n\r\ntype ProductRow = {\r\n  id: number;\r\n  item_code: string;\r\n  sku: string;\r\n  name: string;\r\n  description: string;\r\n  units_per_box: number | null;\r\n\r\n  // âœ… MUST MATCH API\r\n  price_excl_vat: number;\r\n  vat_rate: number;\r\n};\r\n\r\ntype Uom = \"BOX\" | \"PCS\";\r\n\r\ntype InvoiceLine = {\r\n  id: string;\r\n  product_id: number | null;\r\n\r\n  item_code: string;\r\n  description: string;\r\n\r\n  uom: Uom;\r\n  box_qty: number; // qty input (box qty or pcs qty depending on uom)\r\n  units_per_box: number;\r\n  total_qty: number;\r\n\r\n  vat_rate: number; // 0 or 15\r\n  unit_price_excl_vat: number;\r\n  unit_vat: number;\r\n  unit_price_incl_vat: number;\r\n  line_total: number;\r\n};\r\n\r\n/* ===========================\r\n   âœ… Sales reps (premium picker)\r\n   =========================== */\r\nconst SALES_REPS = [\r\n  { name: \"Mr Koushal\", phone: \"59193239\" },\r\n  { name: \"Mr Akash\", phone: \"57788884\" },\r\n  { name: \"Mr Manish\", phone: \"57788884\" },\r\n  { name: \"Mr Adesh\", phone: \"58060268\" },\r\n] as const;\r\n\r\ntype SalesRepName = (typeof SALES_REPS)[number][\"name\"];\r\n\r\nfunction repPhoneByName(name: string) {\r\n  const r = SALES_REPS.find((x) => x.name === name);\r\n  return r?.phone || \"\";\r\n}\r\n\r\nfunction n2(v: any) {\r\n  const x = Number(v ?? 0);\r\n  return Number.isFinite(x) ? x : 0;\r\n}\r\n\r\n/** âœ… Commas + decimals only when needed (or force2 for money) */\r\nfunction fmtNumber(v: any, force2 = false) {\r\n  const x = n2(v);\r\n  const hasDecimals = Math.abs(x % 1) > 0.000001;\r\n  const minFrac = force2 ? 2 : hasDecimals ? 2 : 0;\r\n  const maxFrac = 2;\r\n  return new Intl.NumberFormat(\"en-US\", {\r\n    minimumFractionDigits: minFrac,\r\n    maximumFractionDigits: maxFrac,\r\n  }).format(x);\r\n}\r\n\r\nfunction money(v: any) {\r\n  // money values always show .00\r\n  return fmtNumber(v, true);\r\n}\r\n\r\nfunction intFmt(v: any) {\r\n  return new Intl.NumberFormat(\"en-US\", { maximumFractionDigits: 0 }).format(\r\n    Math.trunc(n2(v))\r\n  );\r\n}\r\n\r\nfunction uid() {\r\n  try {\r\n    return crypto.randomUUID();\r\n  } catch {\r\n    return String(Date.now()) + \"-\" + Math.random().toString(16).slice(2);\r\n  }\r\n}\r\n\r\nfunction clampPct(v: any) {\r\n  const x = n2(v);\r\n  return Math.max(0, Math.min(100, x));\r\n}\r\n\r\nfunction recalc(row: InvoiceLine): InvoiceLine {\r\n  const qtyInput = Math.max(0, n2(row.box_qty));\r\n  const uom: Uom = row.uom === \"PCS\" ? \"PCS\" : \"BOX\";\r\n  const upb = uom === \"PCS\" ? 1 : Math.max(1, Math.trunc(n2(row.units_per_box) || 1));\r\n\r\n  const totalQty = uom === \"PCS\" ? Math.trunc(qtyInput) : Math.trunc(qtyInput * upb);\r\n\r\n  const unitEx = Math.max(0, n2(row.unit_price_excl_vat)); // âœ… already discounted if needed\r\n  const rate = row.vat_rate === 0 ? 0 : 15;\r\n\r\n  const unitVat = unitEx * (rate / 100);\r\n  const unitInc = unitEx + unitVat;\r\n\r\n  return {\r\n    ...row,\r\n    uom,\r\n    units_per_box: upb,\r\n    total_qty: totalQty,\r\n    vat_rate: rate,\r\n    unit_vat: unitVat,\r\n    unit_price_incl_vat: unitInc,\r\n    line_total: totalQty * unitInc,\r\n  };\r\n}\r\n\r\nfunction blankLine(): InvoiceLine {\r\n  return recalc({\r\n    id: uid(),\r\n    product_id: null,\r\n    item_code: \"\",\r\n    description: \"\",\r\n    uom: \"BOX\",\r\n    box_qty: 0,\r\n    units_per_box: 1,\r\n    total_qty: 0,\r\n    vat_rate: 15,\r\n    unit_price_excl_vat: 0,\r\n    unit_vat: 0,\r\n    unit_price_incl_vat: 0,\r\n    line_total: 0,\r\n  });\r\n}\r\n\r\nfunction roleUpper(r?: string) {\r\n  return String(r || \"\").toUpperCase();\r\n}\r\nfunction canDuplicate(role?: string) {\r\n  const r = roleUpper(role);\r\n  return r === \"ADMIN\" || r === \"MANAGER\";\r\n}\r\n\r\nfunction formatDDMMYYYY(v: any) {\r\n  const s = String(v || \"\").trim();\r\n  const m = s.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\r\n  if (m) return `${m[3]}/${m[2]}/${m[1]}`;\r\n  return s;\r\n}\r\n\r\n/* ===========================\r\n   âœ… Company vs Client selector\r\n   =========================== */\r\nfunction guessPartyType(name: string) {\r\n  const s = String(name || \"\").toUpperCase();\r\n  return /LTD|LIMITED|CO\\.|COMPANY|TRADING|ENTERPRISE|INC|LLC/.test(s) ? \"COMPANY\" : \"CLIENT\";\r\n}\r\n\r\nfunction normalizeMuPhone(phone: string) {\r\n  // returns digits only (Mauritius default +230)\r\n  const digits = String(phone || \"\").replace(/[^\\d]/g, \"\");\r\n  if (!digits) return \"\";\r\n  // already has country code\r\n  if (digits.startsWith(\"230\") && digits.length >= 11) return digits;\r\n  // local 8-digit number\r\n  if (digits.length === 8) return \"230\" + digits;\r\n  return digits;\r\n}\r\n\r\nexport default function NewInvoiceClient() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const duplicateId = searchParams.get(\"duplicate\");\r\n\r\n  const [saving, setSaving] = useState(false);\r\n  const [printing, setPrinting] = useState(false);\r\n\r\n  const [customers, setCustomers] = useState<CustomerRow[]>([]);\r\n  const [products, setProducts] = useState<ProductRow[]>([]);\r\n\r\n  const [customerId, setCustomerId] = useState<number | null>(null);\r\n  const [invoiceDate, setInvoiceDate] = useState<string>(\"\");\r\n  const [purchaseOrderNo, setPurchaseOrderNo] = useState(\"\");\r\n\r\n  const [removingIds, setRemovingIds] = useState<Set<string>>(new Set());\r\n\r\n  // âœ… reps picker\r\n  const [repOpen, setRepOpen] = useState(false);\r\n  const [salesReps, setSalesReps] = useState<SalesRepName[]>([]);\r\n  const [salesRepPhones, setSalesRepPhones] = useState<string>(\"\");\r\n\r\n  const [previousBalance, setPreviousBalance] = useState<number>(0);\r\n  const [amountPaid, setAmountPaid] = useState<number>(0);\r\n\r\n  const [prevTouched, setPrevTouched] = useState(false);\r\n  const [paidTouched, setPaidTouched] = useState(false);\r\n\r\n  // âœ… party-wise discount MUST be automatic\r\n  const [discountPercent, setDiscountPercent] = useState<number>(0);\r\n\r\n  const [vatPercent, setVatPercent] = useState<number>(15);\r\n\r\n  const [invoiceNumber, setInvoiceNumber] = useState<string>(\"(Auto when saved)\");\r\n  const [lines, setLines] = useState<InvoiceLine[]>([]);\r\n\r\n  useEffect(() => {\r\n  setLines((prev) =>\r\n    prev.map((r) => {\r\n      if (!r.product_id) return r;\r\n      const p = products.find((x) => x.id === r.product_id);\r\n      if (!p) return r;\r\n\r\n      const baseEx = Number(p.price_excl_vat || 0);\r\n      const disc = Math.max(0, Math.min(100, n2(discountPercent)));\r\n      const discountedEx = baseEx * (1 - disc / 100);\r\n\r\n      return recalc({ ...r, unit_price_excl_vat: discountedEx } as InvoiceLine);\r\n    })\r\n  );\r\n}, [discountPercent, products]);\r\n\r\n\r\n  const [dupFromNo, setDupFromNo] = useState<string | null>(null);\r\n  const [role, setRole] = useState<string>(\"\");\r\n\r\n  // Product search modal\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [searchRowId, setSearchRowId] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  // Customer search modal\r\n  const [custSearchOpen, setCustSearchOpen] = useState(false);\r\n  const [custSearchTerm, setCustSearchTerm] = useState(\"\");\r\n\r\n  // âœ… Customer Name Type (Company / Client)\r\n  const [customerNameType, setCustomerNameType] = useState<\"COMPANY\" | \"CLIENT\">(\"COMPANY\");\r\n  const [customerNameTypeTouched, setCustomerNameTypeTouched] = useState(false);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(\"rp_user\");\r\n      if (raw) {\r\n        const u = JSON.parse(raw);\r\n        setRole(String(u?.role || \"\"));\r\n      }\r\n    } catch {}\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setInvoiceDate(new Date().toISOString().slice(0, 10));\r\n    setLines([blankLine()]);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let alive = true;\r\n    (async () => {\r\n      try {\r\n        const [cRes, pRes] = await Promise.all([\r\n          rpFetch(\"/api/customers/list\", { cache: \"no-store\" }),\r\n          rpFetch(\"/api/products/list\", { cache: \"no-store\" }),\r\n        ]);\r\n\r\n        const cJson = cRes.ok ? await cRes.json() : {};\r\n        const pJson = pRes.ok ? await pRes.json() : {};\r\n\r\n        if (!alive) return;\r\n        setCustomers(cJson.customers || []);\r\n        setProducts(pJson.products || []);\r\n      } catch {}\r\n    })();\r\n    return () => {\r\n      alive = false;\r\n    };\r\n  }, []);\r\n\r\n \r\nconst customer = useMemo(\r\n  () => customers.find((c) => c.id === customerId) || null,\r\n  [customers, customerId]\r\n);\r\n\r\nconst hasWhatsApp = useMemo(() => {\r\n  const raw = customer?.whatsapp || customer?.phone || \"\";\r\n  const d = String(raw).replace(/[^\\d]/g, \"\");\r\n  return d.length > 0;\r\n}, [customer?.whatsapp, customer?.phone]);\r\n\r\n\r\n{hasWhatsApp ? (\r\n  <button\r\n    type=\"button\"\r\n    className=\"rp-btn rp-btn--ghost\"\r\n    disabled={!customerId}\r\n    title=\"Send payment update on WhatsApp\"\r\n    onClick={() => {\r\n      if (n2(amountPaid) <= 0) {\r\n        alert(\"Enter an amount paid to send payment update.\");\r\n        return;\r\n      }\r\n      openWhatsAppPaymentUpdate(n2(amountPaid));\r\n    }}\r\n  >\r\n    WhatsApp\r\n  </button>\r\n) : null}\r\n\r\n\r\n \r\n  // customer-wise auto-fill (discount is always automatic)\r\n  useEffect(() => {\r\n    if (!customerId) return;\r\n\r\n    if (!prevTouched) setPreviousBalance(n2(customer?.opening_balance ?? 0));\r\n    if (!paidTouched) setAmountPaid(0);\r\n\r\n    // âœ… ALWAYS auto party discount\r\n    setDiscountPercent(n2(customer?.discount_percent ?? 0));\r\n\r\n    // âœ… auto company/client from customer name (if user didnâ€™t touch selector)\r\n    if (!customerNameTypeTouched && customer?.name) {\r\n\r\n      setCustomerNameType(guessPartyType(customer.name));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    customerId,\r\n    customer?.opening_balance,\r\n    customer?.discount_percent,\r\n    customer?.name,\r\n    prevTouched,\r\n    paidTouched,\r\n    customerNameTypeTouched,\r\n  ]);\r\n\r\n  // Close rep popup on outside click\r\n  useEffect(() => {\r\n    function close() {\r\n      setRepOpen(false);\r\n    }\r\n    if (!repOpen) return;\r\n    window.addEventListener(\"mousedown\", close);\r\n    return () => window.removeEventListener(\"mousedown\", close);\r\n  }, [repOpen]);\r\n\r\n  // DUPLICATE PREFILL\r\n  useEffect(() => {\r\n    if (!duplicateId) return;\r\n\r\n    if (!canDuplicate(role)) {\r\n      alert(\"Only Admin / Manager can duplicate invoices.\");\r\n      router.replace(\"/invoices\");\r\n      return;\r\n    }\r\n\r\n    let alive = true;\r\n\r\n    (async () => {\r\n      try {\r\n        // âœ… IMPORTANT: your working API file is /api/invoices/[id]\r\n        const res = await rpFetch(`/api/invoices/${duplicateId}`, { cache: \"no-store\" });\r\n        const json = await res.json();\r\n        if (!json?.ok || !alive) return;\r\n\r\n        const inv = json.invoice;\r\n        const items = json.items || [];\r\n\r\n        setDupFromNo(String(inv.invoice_number || duplicateId));\r\n\r\n        setCustomerId(inv.customer_id);\r\n        setPurchaseOrderNo(inv.purchase_order_no || \"\");\r\n\r\n        const repText = String(inv.sales_rep || \"\").trim();\r\n        const repList = repText\r\n          ? repText.split(\",\").map((s: string) => s.trim()).filter(Boolean)\r\n          : [];\r\n        setSalesReps(repList as SalesRepName[]);\r\n        setSalesRepPhones(String(inv.sales_rep_phone || \"\"));\r\n\r\n        const invType = String(inv.party_type || inv.customer_name_type || \"\").toUpperCase();\r\n        if (invType === \"COMPANY\" || invType === \"CLIENT\") {\r\n          setCustomerNameTypeTouched(true);\r\n          setCustomerNameType(invType as any);\r\n        }\r\n\r\n        setPreviousBalance(0);\r\n        setAmountPaid(0);\r\n        setPrevTouched(false);\r\n        setPaidTouched(false);\r\n\r\n        const invVat = n2(inv.vat_percent ?? 15) === 0 ? 0 : 15;\r\n        setVatPercent(invVat);\r\n\r\n        // âœ… discount auto from customer anyway, but keep what invoice had if any\r\n        setDiscountPercent(n2(inv.discount_percent ?? 0));\r\n\r\n        const cloned = items.map((it: any) =>\r\n          recalc({\r\n            id: uid(),\r\n            product_id: it.product_id,\r\n            item_code: it.products?.item_code || \"\",\r\n            description: it.description || it.products?.name || \"\",\r\n            uom: it.uom || \"BOX\",\r\n            box_qty: it.box_qty || 0,\r\n            units_per_box: it.units_per_box || 1,\r\n            total_qty: it.total_qty || 0,\r\n            vat_rate: n2(it.vat_rate ?? (it.unit_vat > 0 ? 15 : 0)) === 0 ? 0 : 15,\r\n            unit_price_excl_vat: it.unit_price_excl_vat || 0,\r\n            unit_vat: it.unit_vat || 0,\r\n            unit_price_incl_vat: it.unit_price_incl_vat || 0,\r\n            line_total: it.line_total || 0,\r\n          })\r\n        );\r\n\r\n        setLines(cloned.length ? cloned : [blankLine()]);\r\n      } catch {}\r\n    })();\r\n\r\n    return () => {\r\n      alive = false;\r\n    };\r\n  }, [duplicateId, role, router]);\r\n\r\n  const realLines = useMemo(() => lines.filter((l) => !!l.product_id), [lines]);\r\n\r\n  const subtotalEx = useMemo(\r\n    () => realLines.reduce((sum, r) => sum + n2(r.total_qty) * n2(r.unit_price_excl_vat), 0),\r\n    [realLines]\r\n  );\r\n  const vatAmount = useMemo(\r\n    () => realLines.reduce((sum, r) => sum + n2(r.total_qty) * n2(r.unit_vat), 0),\r\n    [realLines]\r\n  );\r\n  \r\n\r\n  const totalAmount = useMemo(() => subtotalEx + vatAmount, [subtotalEx, vatAmount]);\r\n\r\n// Optional: show discount amount as \"saved amount\" for display (compare with original)\r\nconst discountAmount = useMemo(() => {\r\n  const dp = Math.max(0, Math.min(100, n2(discountPercent)));\r\n  if (dp <= 0) return 0;\r\n\r\n  // Rebuild \"original total\" by reversing discount from each unitEx\r\n  const originalSubtotalEx = realLines.reduce((sum, r) => {\r\n    const qty = n2(r.total_qty);\r\n    const discountedUnitEx = n2(r.unit_price_excl_vat);\r\n    const originalUnitEx = dp >= 100 ? 0 : discountedUnitEx / (1 - dp / 100);\r\n    return sum + qty * originalUnitEx;\r\n  }, 0);\r\n\r\n  const originalVat = realLines.reduce((sum, r) => {\r\n    const qty = n2(r.total_qty);\r\n    const rate = n2(r.vat_rate) === 0 ? 0 : 15;\r\n    const discountedUnitEx = n2(r.unit_price_excl_vat);\r\n    const originalUnitEx = dp >= 100 ? 0 : discountedUnitEx / (1 - dp / 100);\r\n    return sum + qty * (originalUnitEx * (rate / 100));\r\n  }, 0);\r\n\r\n  const originalTotal = originalSubtotalEx + originalVat;\r\n  const discountedTotal = totalAmount;\r\n\r\n  return Math.max(0, originalTotal - discountedTotal);\r\n}, [realLines, discountPercent, totalAmount]);\r\n\r\n\r\n  const grossTotal = useMemo(() => totalAmount + n2(previousBalance), [totalAmount, previousBalance]);\r\n\r\n  const balanceRemaining = useMemo(\r\n    () => Math.max(0, grossTotal - n2(amountPaid)),\r\n    [grossTotal, amountPaid]\r\n  );\r\n\r\n  function setLine(id: string, patch: Partial<InvoiceLine>) {\r\n  setLines((prev) =>\r\n    prev.map((r) => (r.id === id ? recalc({ ...r, ...patch } as InvoiceLine) : r))\r\n  );\r\n}\r\n\r\n  function addRow() {\r\n    setLines((prev) => [...prev, blankLine()]);\r\n  }\r\n\r\n  function removeRow(id: string) {\r\n    setRemovingIds((prev) => new Set(prev).add(id));\r\n\r\n    window.setTimeout(() => {\r\n      setLines((prev) => (prev.length <= 1 ? prev : prev.filter((r) => r.id !== id)));\r\n      setRemovingIds((prev) => {\r\n        const next = new Set(prev);\r\n        next.delete(id);\r\n        return next;\r\n      });\r\n    }, 190); // matches CSS animation\r\n  }\r\n\r\n  useEffect(() => {\r\n    const done = () => setPrinting(false);\r\n    window.addEventListener(\"afterprint\", done);\r\n    return () => window.removeEventListener(\"afterprint\", done);\r\n  }, []);\r\n\r\n  \r\n  const invoiceDatePrint = formatDDMMYYYY(invoiceDate);\r\n\r\n\r\n  function openWhatsApp() {\r\n  const phone = normalizeMuPhone(customer?.whatsapp || customer?.phone || \"\");\r\n\r\n  if (!phone) {\r\n    alert(\"Customer WhatsApp / phone number is missing. Add it in customer profile.\");\r\n    return;\r\n  }\r\n\r\n  const text = buildWhatsAppText({\r\n    invoiceNo: invoiceNumber,\r\n    customerName: customer?.name || \"\",\r\n    total: totalAmount,\r\n    gross: grossTotal,\r\n    paid: amountPaid,\r\n    balance: balanceRemaining,\r\n    date: invoiceDatePrint,\r\n  });\r\n\r\n  const url = `https://wa.me/${phone}?text=${encodeURIComponent(text)}`;\r\n  window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n}\r\n\r\n\r\n  useEffect(() => {\r\n    function onKeyDown(e: KeyboardEvent) {\r\n      // ignore if modal/popup open\r\n      if (searchOpen || custSearchOpen || repOpen) return;\r\n\r\n      const el = e.target as HTMLElement | null;\r\n      const tag = (el?.tagName || \"\").toLowerCase();\r\n      const isTyping = tag === \"input\" || tag === \"textarea\" || tag === \"select\";\r\n\r\n      // SHIFT+ENTER => SAVE (even if typing)\r\n      if (e.key === \"Enter\" && e.shiftKey) {\r\n        e.preventDefault();\r\n        onSave();\r\n        return;\r\n      }\r\n\r\n      // ENTER => add row (only when NOT typing)\r\n      if (e.key === \"Enter\" && !e.shiftKey && !isTyping) {\r\n        e.preventDefault();\r\n\r\n        // pulse button (optional)\r\n        const addBtn = document.querySelector(\".inv-actions-right .rp-btn\") as\r\n          | HTMLButtonElement\r\n          | null;\r\n        if (addBtn) {\r\n          addBtn.classList.remove(\"is-pulse\");\r\n          void addBtn.offsetWidth;\r\n          addBtn.classList.add(\"is-pulse\");\r\n        }\r\n\r\n        addRow();\r\n\r\n        // focus next row qty input\r\n        setTimeout(() => {\r\n          const qtyInputs = Array.from(\r\n            document.querySelectorAll<HTMLInputElement>(\".inv-input--qtywide\")\r\n          );\r\n          const last = qtyInputs[qtyInputs.length - 1];\r\n          last?.focus();\r\n          last?.select?.();\r\n        }, 0);\r\n\r\n        return;\r\n      }\r\n\r\n      // CTRL+P => PRINT\r\n      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === \"p\") {\r\n        e.preventDefault();\r\n        onPrint();\r\n        return;\r\n      }\r\n\r\n      // CTRL+W => WhatsApp (prevent tab close)\r\n      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === \"w\") {\r\n        e.preventDefault();\r\n        openWhatsApp();\r\n        return;\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"keydown\", onKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\r\n  }, [searchOpen, custSearchOpen, repOpen, customerId, lines.length]);\r\n\r\nfunction applyProductToRow(rowId: string, product: ProductRow | null) {\r\n  setLines((prev) =>\r\n    prev.map((r) => {\r\n      if (r.id !== rowId) return r;\r\n\r\n      if (!product) {\r\n        return recalc({\r\n          ...r,\r\n          product_id: null,\r\n          item_code: \"\",\r\n          description: \"\",\r\n          units_per_box: 1,\r\n          unit_price_excl_vat: 0,\r\n          vat_rate: vatPercent === 0 ? 0 : 15,\r\n          uom: \"BOX\",\r\n          box_qty: 0,\r\n        });\r\n      }\r\n\r\n      const baseEx = Number(product.price_excl_vat || 0);\r\n      const disc = Math.max(0, Math.min(100, n2(discountPercent)));\r\n      const discountedEx = baseEx * (1 - disc / 100);\r\n\r\n      return recalc({\r\n        ...r,\r\n        product_id: product.id,\r\n        item_code: product.item_code || product.sku || \"\",\r\n        description: (product.description || product.name || \"\").trim(),\r\n        units_per_box: Math.max(1, Number(product.units_per_box || 1)),\r\n        unit_price_excl_vat: discountedEx,\r\n        vat_rate: vatPercent === 0 ? 0 : 15,\r\n        uom: \"BOX\",\r\n        box_qty: Math.max(1, Math.trunc(Number(r.box_qty || 1))),\r\n      });\r\n    })\r\n  );\r\n}\r\n\r\n\r\n  function openSearchForRow(rowId: string) {\r\n    setSearchRowId(rowId);\r\n    setSearchTerm(\"\");\r\n    setSearchOpen(true);\r\n  }\r\n\r\n  function closeSearch() {\r\n    setSearchOpen(false);\r\n    setSearchRowId(null);\r\n    setSearchTerm(\"\");\r\n  }\r\n\r\n  const filteredProducts = useMemo(() => {\r\n    const t = searchTerm.trim().toLowerCase();\r\n    if (!t) return products;\r\n    return products.filter((p) => {\r\n      const code = String(p.item_code || \"\").toLowerCase();\r\n      const sku = String(p.sku || \"\").toLowerCase();\r\n      const name = String(p.name || \"\").toLowerCase();\r\n      const desc = String(p.description || \"\").toLowerCase();\r\n      return code.includes(t) || sku.includes(t) || name.includes(t) || desc.includes(t);\r\n    });\r\n  }, [products, searchTerm]);\r\n\r\n  const filteredCustomers = useMemo(() => {\r\n    const t = custSearchTerm.trim().toLowerCase();\r\n    if (!t) return customers;\r\n    return customers.filter((c) => {\r\n      const name = String(c.name || \"\").toLowerCase();\r\n      const phone = String(c.phone || \"\").toLowerCase();\r\n      const code = String(c.customer_code || \"\").toLowerCase();\r\n      const addr = String(c.address || \"\").toLowerCase();\r\n      return name.includes(t) || phone.includes(t) || code.includes(t) || addr.includes(t);\r\n    });\r\n  }, [customers, custSearchTerm]);\r\n\r\n  function openCustomerSearch() {\r\n    setCustSearchTerm(\"\");\r\n    setCustSearchOpen(true);\r\n  }\r\n\r\n  function closeCustomerSearch() {\r\n    setCustSearchOpen(false);\r\n    setCustSearchTerm(\"\");\r\n  }\r\n  \r\n  // ðŸ”” WhatsApp payment update message\r\nfunction buildWhatsAppPaymentText(opts: {\r\n  invoiceNo: string;\r\n  customerName: string;\r\n  date: string;\r\n  paidNow: number;\r\n  grossTotal: number;\r\n  balanceRemaining: number;\r\n}) {\r\n  const status =\r\n    opts.paidNow >= opts.grossTotal && opts.grossTotal > 0\r\n      ? \"PAID âœ…\"\r\n      : opts.paidNow > 0\r\n      ? \"PARTIALLY PAID âœ…\"\r\n      : \"PENDING\";\r\n\r\n  return [\r\n    `RAM POTTERY LTD`,\r\n    `Payment update for your invoice`,\r\n    ``,\r\n    `Invoice No: ${opts.invoiceNo}`,\r\n    `Date: ${opts.date}`,\r\n    `Customer: ${opts.customerName}`,\r\n    `Status: ${status}`,\r\n    ``,\r\n    `Amount Paid: Rs ${money(opts.paidNow)}`,\r\n    `Balance Remaining: Rs ${money(opts.balanceRemaining)}`,\r\n    ``,\r\n    `Thank you.`,\r\n  ].join(\"\\n\");\r\n}\r\n \r\n   // ðŸ§¾ WhatsApp invoice summary message\r\n   function buildWhatsAppText(opts: {\r\n  invoiceNo: string;\r\n  customerName: string;\r\n  total: number;\r\n  gross: number;\r\n  paid: number;\r\n  balance: number;\r\n  date: string;\r\n}) {\r\n  const status =\r\n    opts.paid >= opts.gross && opts.gross > 0\r\n      ? \"PAID âœ…\"\r\n      : opts.paid > 0\r\n      ? \"PARTIALLY PAID âœ…\"\r\n      : \"PENDING\";\r\n\r\n  return [\r\n    `RAM POTTERY LTD`,\r\n    `Invoice: ${opts.invoiceNo}`,\r\n    `Date: ${opts.date}`,\r\n    `Customer: ${opts.customerName}`,\r\n    `Status: ${status}`,\r\n    ``,\r\n    `Total Amount: Rs ${money(opts.total)}`,\r\n    `Gross Total: Rs ${money(opts.gross)}`,\r\n    `Paid: Rs ${money(opts.paid)}`,\r\n    `Balance: Rs ${money(opts.balance)}`,\r\n    ``,\r\n    `Thank you.`,\r\n  ].join(\"\\n\");\r\n}\r\n\r\n\r\n  function openWhatsAppPaymentUpdate(paidNow: number) {\r\n  const phone = normalizeMuPhone(customer?.whatsapp || customer?.phone || \"\");\r\n  if (!phone) {\r\n    alert(\"Customer phone is missing. Add phone number in customer profile.\");\r\n    return;\r\n  }\r\n\r\n  const text = buildWhatsAppPaymentText({\r\n    invoiceNo: invoiceNumber,\r\n    customerName: customer?.name || \"\",\r\n    date: invoiceDatePrint, // âœ… fixed\r\n    paidNow: n2(paidNow),\r\n    grossTotal,\r\n    balanceRemaining,\r\n  });\r\n\r\n  window.open(\r\n    `https://wa.me/${phone}?text=${encodeURIComponent(text)}`,\r\n    \"_blank\",\r\n    \"noopener,noreferrer\"\r\n  );\r\n}\r\n   \r\n \r\n  async function fetchInvoicePdf(invoiceIdOrNo: string) {\r\n  const res = await rpFetch(`/api/invoices/${encodeURIComponent(invoiceIdOrNo)}/pdf`, {\r\n    method: \"GET\",\r\n    cache: \"no-store\",\r\n  });\r\n  if (!res.ok) {\r\n    const t = await res.text().catch(() => \"\");\r\n    throw new Error(t || \"Failed to generate PDF\");\r\n  }\r\n  const blob = await res.blob();\r\n  return blob;\r\n}\r\n\r\nasync function sharePdfToWhatsApp(invoiceIdOrNo: string, messageText: string) {\r\n  const blob = await fetchInvoicePdf(invoiceIdOrNo);\r\n  const fileName = `Invoice-${invoiceIdOrNo}.pdf`;\r\n  const file = new File([blob], fileName, { type: \"application/pdf\" });\r\n\r\n  // âœ… Best: mobile share sheet (WhatsApp appears as an option)\r\n  // Works on Android Chrome + iOS Safari (modern versions)\r\n  const nav: any = navigator;\r\n\r\n  if (nav?.share && nav?.canShare?.({ files: [file] })) {\r\n    await nav.share({\r\n      title: `Invoice ${invoiceIdOrNo}`,\r\n      text: messageText,\r\n      files: [file],\r\n    });\r\n    return;\r\n  }\r\n\r\n  // Desktop fallback: download PDF + open WhatsApp with text (user attaches manually)\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.download = fileName;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  a.remove();\r\n  setTimeout(() => URL.revokeObjectURL(url), 2000);\r\n\r\n  // open WhatsApp chat with message\r\n  window.open(`https://wa.me/?text=${encodeURIComponent(messageText)}`, \"_blank\", \"noopener,noreferrer\");\r\n\r\n  alert(\"PDF downloaded. Please attach it in WhatsApp Web / WhatsApp Desktop.\");\r\n}\r\n\r\n   \r\n   async function onSave() {\r\n  if (!customerId) return alert(\"Please select a customer.\");\r\n  if (!invoiceDate) return alert(\"Please select invoice date.\");\r\n  if (!salesReps.length) return alert(\"Please select at least one sales rep.\");\r\n  if (realLines.length === 0) return alert(\"Please add at least one item.\");\r\n\r\n  setSaving(true);\r\n\r\n  try {\r\n    // âœ… Build items exactly aligned with API expectations\r\n    const itemsPayload = realLines.map((l) => {\r\n      const qtyInput = Math.trunc(n2(l.box_qty)); // UI uses box_qty as qty input for both BOX/PCS\r\n      if (qtyInput <= 0) throw new Error(\"Qty must be at least 1 for all items.\");\r\n\r\n      const uom: \"BOX\" | \"PCS\" = l.uom === \"PCS\" ? \"PCS\" : \"BOX\";\r\n      const upb = uom === \"PCS\" ? 1 : Math.max(1, Math.trunc(n2(l.units_per_box) || 1));\r\n      const totalQty = uom === \"PCS\" ? qtyInput : qtyInput * upb;\r\n\r\n      return {\r\n        product_id: l.product_id,\r\n        description: l.description || null,\r\n        uom,\r\n\r\n        // âœ… send correct qty fields (API normalization expects this)\r\n        box_qty: uom === \"BOX\" ? qtyInput : null,\r\n        pcs_qty: uom === \"PCS\" ? qtyInput : null,\r\n\r\n        units_per_box: upb,\r\n        total_qty: totalQty,\r\n\r\n        unit_price_excl_vat: n2(l.unit_price_excl_vat), // already discounted in UI\r\n        vat_rate: n2(l.vat_rate),\r\n        unit_vat: n2(l.unit_vat),\r\n        unit_price_incl_vat: n2(l.unit_price_incl_vat),\r\n        line_total: n2(l.line_total),\r\n      };\r\n    });\r\n\r\n    // âœ… Recompute totals INSIDE onSave (prevents stale React memo/state in WhatsApp msg)\r\n    // Must mirror UI logic (based on discounted unit_ex + unit_vat)\r\n    const subtotalExNow = realLines.reduce(\r\n      (sum, r) => sum + n2(r.total_qty) * n2(r.unit_price_excl_vat),\r\n      0\r\n    );\r\n    const vatNow = realLines.reduce((sum, r) => sum + n2(r.total_qty) * n2(r.unit_vat), 0);\r\n    const totalNow = subtotalExNow + vatNow;\r\n\r\n    const prevNow = n2(previousBalance);\r\n    const paidNow = n2(amountPaid);\r\n\r\n    const grossNow = totalNow + prevNow;\r\n    const balanceNow = Math.max(0, grossNow - paidNow);\r\n\r\n    const payload = {\r\n      customerId,\r\n      invoiceDate,\r\n      purchaseOrderNo: purchaseOrderNo || null,\r\n\r\n      salesRep: salesReps.join(\", \"),\r\n      salesRepPhone: salesRepPhones || salesReps.map(repPhoneByName).filter(Boolean).join(\", \"),\r\n\r\n      previousBalance: prevNow,\r\n      amountPaid: paidNow,\r\n\r\n      discountPercent: n2(discountPercent),\r\n      discountAmount: n2(discountAmount), // optional (display), API will ignore in LINE_DISCOUNTED if you want\r\n      pricingMode: \"LINE_DISCOUNTED\",\r\n\r\n      partyType: customerNameType,\r\n\r\n      items: itemsPayload,\r\n    };\r\n\r\n    const res = await rpFetch(\"/api/invoices/create\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload),\r\n    });\r\n\r\n    const json = await res.json().catch(() => ({}));\r\n    if (!res.ok || !json?.ok) throw new Error(json?.error || \"Failed to create invoice\");\r\n\r\n    const invNo = String(json.invoiceNumber || \"(Saved)\");\r\n    setInvoiceNumber(invNo);\r\n\r\n    // âœ… Auto WhatsApp when PAID or PARTIALLY PAID (with PDF share)\r\n    if (paidNow > 0) {\r\n      setTimeout(() => {\r\n        const msg = buildWhatsAppPaymentText({\r\n          invoiceNo: invNo,\r\n          customerName: customer?.name || \"\",\r\n          date: invoiceDatePrint,\r\n          paidNow: paidNow,\r\n          grossTotal: grossNow,\r\n          balanceRemaining: balanceNow,\r\n        });\r\n\r\n        // Share PDF + message (mobile share sheet OR desktop fallback)\r\n        sharePdfToWhatsApp(invNo, msg).catch((e) =>\r\n          alert(e?.message || \"Failed to share invoice PDF\")\r\n        );\r\n      }, 250);\r\n    }\r\n\r\n    alert(`Invoice saved: ${invNo}`);\r\n  } catch (err: any) {\r\n    alert(err?.message || \"Failed to create invoice\");\r\n  } finally {\r\n    setSaving(false);\r\n  }\r\n}\r\n\r\n\r\n\r\n    function onPrint() {\r\n    setPrinting(true);\r\n\r\n    document.documentElement.classList.add(\"rp-printing\");\r\n\r\n    const cleanup = () => {\r\n      document.documentElement.classList.remove(\"rp-printing\");\r\n      setPrinting(false);\r\n      window.removeEventListener(\"afterprint\", cleanup);\r\n    };\r\n\r\n    window.addEventListener(\"afterprint\", cleanup);\r\n\r\n    // give DOM + fonts + images a moment to render\r\n    setTimeout(() => {\r\n      window.print();\r\n    }, 200);\r\n\r\n    // fallback cleanup\r\n    setTimeout(cleanup, 5000);\r\n  }\r\n\r\n  // PRINT DATA\r\n  const docItems = useMemo(() => {\r\n    return realLines.map((r, i) => ({\r\n      sn: i + 1,\r\n      item_code: r.item_code,\r\n      uom: r.uom,\r\n      box_qty: Math.trunc(n2(r.box_qty)),\r\n      units_per_box: Math.trunc(n2(r.units_per_box)),\r\n      total_qty: Math.trunc(n2(r.total_qty)),\r\n      description: r.description,\r\n      unit_price_excl_vat: n2(r.unit_price_excl_vat),\r\n      unit_vat: n2(r.unit_vat),\r\n      unit_price_incl_vat: n2(r.unit_price_incl_vat),\r\n      line_total: n2(r.line_total),\r\n    }));\r\n  }, [realLines]);\r\n\r\n  const salesRepNamePrint = salesReps.join(\", \");\r\n  const salesRepPhonePrint =\r\n    salesRepPhones || salesReps.map(repPhoneByName).filter(Boolean).join(\", \");\r\n\r\n  return (\r\n    <div className=\"inv-page\">\r\n      {/* Top actions */}\r\n      <div className=\"inv-actions inv-screen\">\r\n        <button type=\"button\" className=\"rp-btn rp-btn--ghost\" onClick={() => router.back()}>\r\n          â† Back\r\n        </button>\r\n\r\n        <div className=\"inv-actions-right\">\r\n          <button type=\"button\" className=\"rp-btn\" onClick={addRow}>\r\n            + Add Row\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"rp-btn rp-btn--ghost\"\r\n            disabled={!customerId}\r\n            title=\"Send payment update on WhatsApp\"\r\n            onClick={() => {\r\n            if (n2(amountPaid) <= 0) {\r\n            alert(\"Enter an amount paid to send payment update.\");\r\n            return;\r\n           }\r\n           openWhatsAppPaymentUpdate(n2(amountPaid));\r\n         }}\r\n        >\r\n         WhatsApp\r\n        </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"rp-btn\"\r\n            onClick={onPrint}\r\n            disabled={printing}\r\n            title=\"Print A4 invoice\"\r\n          >\r\n            {printing ? \"Preparingâ€¦\" : \"Print\"}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"rp-btn rp-btn--primary\"\r\n            onClick={onSave}\r\n            disabled={saving}\r\n          >\r\n            {saving ? \"Savingâ€¦\" : \"Save Invoice\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ==========================\r\n         SCREEN (everything editable)\r\n         ========================== */}\r\n      <div className=\"inv-screen inv-form-shell\">\r\n        <div className=\"inv-form-card\">\r\n          <div className=\"inv-form-head\">\r\n            <div>\r\n              <div className=\"inv-form-title\">New VAT Invoice</div>\r\n              <div className=\"inv-form-sub\">A4 Print Template Locked (Ram Pottery)</div>\r\n\r\n              {dupFromNo ? (\r\n                <div className=\"inv-dup-badge\">\r\n                  Duplicated from <b>{dupFromNo}</b>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n\r\n            <div className=\"inv-form-meta\">\r\n              <div className=\"inv-meta-row\">\r\n                <span className=\"inv-meta-k\">Invoice No</span>\r\n                <span className=\"inv-meta-v\">{invoiceNumber}</span>\r\n              </div>\r\n              <div className=\"inv-meta-row\">\r\n                <span className=\"inv-meta-k\">Date</span>\r\n                <span className=\"inv-meta-v\">{invoiceDate || \"â€”\"}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"inv-form-grid\">\r\n            {/* Customer Type selector */}\r\n            <div className=\"inv-field inv-field--type\">\r\n              <label>Customer Type</label>\r\n              <select\r\n                className=\"inv-input\"\r\n                value={customerNameType}\r\n                onChange={(e) => {\r\n                  setCustomerNameTypeTouched(true);\r\n                  setCustomerNameType(e.target.value as any);\r\n                }}\r\n              >\r\n                <option value=\"COMPANY\">Company Name</option>\r\n                <option value=\"CLIENT\">Client Name</option>\r\n              </select>\r\n              <div className=\"inv-help\">Affects the label shown on the invoice header.</div>\r\n            </div>\r\n\r\n            {/* Customer select + search */}\r\n            <div className=\"inv-field inv-field--customer\">\r\n              <label>{customerNameType === \"COMPANY\" ? \"Company Name\" : \"Client Name\"}</label>\r\n\r\n              <div className=\"inv-customer-row\">\r\n                <select\r\n                  className=\"inv-input\"\r\n                  value={customerId ?? \"\"}\r\n                  onChange={(e) => {\r\n                    setCustomerId(e.target.value ? Number(e.target.value) : null);\r\n                  }}\r\n                >\r\n                  <option value=\"\">Selectâ€¦</option>\r\n                  {customers.map((c) => (\r\n                    <option key={c.id} value={c.id}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"rp-btn rp-btn--ghost inv-search-btn\"\r\n                  onClick={openCustomerSearch}\r\n                  title=\"Search customer\"\r\n                >\r\n                  ðŸ” Search\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"inv-help\">\r\n                {customer ? (\r\n                  <>\r\n                    <span>{customer.address}</span> Â· <span>{customer.phone}</span>\r\n                  </>\r\n                ) : (\r\n                  <span>Select a customer (or use Search)</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Invoice Date */}\r\n            <div className=\"inv-field inv-field--date\">\r\n              <label>Invoice Date</label>\r\n              <input\r\n                className=\"inv-input\"\r\n                type=\"date\"\r\n                value={invoiceDate}\r\n                onChange={(e) => setInvoiceDate(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* PO */}\r\n            <div className=\"inv-field inv-field--po\">\r\n              <label>Purchase Order No (optional)</label>\r\n              <input\r\n                className=\"inv-input\"\r\n                value={purchaseOrderNo}\r\n                onChange={(e) => setPurchaseOrderNo(e.target.value)}\r\n                placeholder=\"Optional\"\r\n              />\r\n            </div>\r\n\r\n            {/* Sales Reps */}\r\n            <div className=\"inv-field inv-field--reps\">\r\n              <label>Sales Rep(s)</label>\r\n\r\n              <div className=\"inv-rep\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"inv-rep-btn\"\r\n                  onClick={() => setRepOpen((v) => !v)}\r\n                  aria-expanded={repOpen}\r\n                >\r\n                  <div className=\"inv-rep-chips\">\r\n                    {salesReps.length ? (\r\n                      salesReps.map((n) => (\r\n                        <span key={n} className=\"inv-chip\">\r\n                          {n} ({repPhoneByName(n)})\r\n                          <span\r\n                            className=\"inv-chip-x\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              const next = salesReps.filter((x) => x !== n);\r\n                              setSalesReps(next);\r\n                              setSalesRepPhones(next.map(repPhoneByName).filter(Boolean).join(\", \"));\r\n                            }}\r\n                            title=\"Remove\"\r\n                          >\r\n                            Ã—\r\n                          </span>\r\n                        </span>\r\n                      ))\r\n                    ) : (\r\n                      <span className=\"inv-rep-placeholder\">Select sales repsâ€¦</span>\r\n                    )}\r\n                  </div>\r\n                  <span className=\"inv-rep-caret\">â–¾</span>\r\n                </button>\r\n\r\n                {repOpen ? (\r\n                  <div className=\"inv-rep-pop\" onMouseDown={(e) => e.stopPropagation()}>\r\n                    {SALES_REPS.map((r) => {\r\n                      const active = salesReps.includes(r.name);\r\n                      return (\r\n                        <button\r\n                          key={r.name}\r\n                          type=\"button\"\r\n                          className={\"inv-rep-item\" + (active ? \" is-active\" : \"\")}\r\n                          onClick={() => {\r\n                            const next = active\r\n                              ? salesReps.filter((x) => x !== r.name)\r\n                              : [...salesReps, r.name];\r\n\r\n                            setSalesReps(next);\r\n                            setSalesRepPhones(next.map(repPhoneByName).filter(Boolean).join(\", \"));\r\n\r\n                            setRepOpen(false);\r\n                          }}\r\n                        >\r\n                          <span className=\"inv-rep-name\">{r.name}</span>\r\n                          <span className=\"inv-rep-phone\">{r.phone}</span>\r\n                          <span className=\"inv-rep-check\">{active ? \"âœ“\" : \"\"}</span>\r\n                        </button>\r\n                      );\r\n                    })}\r\n                    <div className=\"inv-rep-hint\">Click to select. Click again to remove.</div>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n\r\n            {/* VAT */}\r\n            <div className=\"inv-field inv-field--vat\">\r\n              <label>VAT % (applies to all items)</label>\r\n              <select\r\n                className=\"inv-input\"\r\n                value={vatPercent}\r\n                onChange={(e) => {\r\n                  const next = n2(e.target.value) === 0 ? 0 : 15;\r\n                  setVatPercent(next);\r\n                  setLines((prev) => prev.map((r) => recalc({ ...r, vat_rate: next } as InvoiceLine)));\r\n                }}\r\n              >\r\n                <option value={15}>15%</option>\r\n                <option value={0}>0%</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Discount */}\r\n            <div className=\"inv-field inv-field--discount\">\r\n              <label>Discount % (Party-wise)</label>\r\n              <input className=\"inv-input inv-input--right\" value={fmtNumber(discountPercent)} readOnly />\r\n              <div className=\"inv-help\">\r\n                {customer ? (\r\n                  <span>\r\n                    Auto from <b>{customer.name}</b>: {fmtNumber(n2(customer.discount_percent ?? 0))}%\r\n                  </span>\r\n                ) : (\r\n                  <span>Auto-fills when you select a customer</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Previous Balance */}\r\n            <div className=\"inv-field inv-field--prev\">\r\n              <label>Previous Balance</label>\r\n              <input\r\n                className=\"inv-input inv-input--right\"\r\n                inputMode=\"decimal\"\r\n                value={previousBalance}\r\n                onChange={(e) => {\r\n                  setPrevTouched(true);\r\n                  setPreviousBalance(n2(e.target.value));\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            {/* Amount Paid */}\r\n            <div className=\"inv-field inv-field--paid\">\r\n              <label>Amount Paid</label>\r\n              <input\r\n                className=\"inv-input inv-input--right\"\r\n                inputMode=\"decimal\"\r\n                value={amountPaid}\r\n                onChange={(e) => {\r\n                  setPaidTouched(true);\r\n                  setAmountPaid(n2(e.target.value));\r\n                }}\r\n              />\r\n              <div className=\"inv-help\">If Amount Paid &gt; 0, WhatsApp prompt opens after Save.</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ITEMS TABLE (SCREEN) */}\r\n          <div className=\"inv-items\">\r\n            <div className=\"inv-items-head\">\r\n              <div className=\"inv-items-title\">Items</div>\r\n              <div className=\"inv-items-sub\">Matches printed invoice columns (A4).</div>\r\n            </div>\r\n\r\n            <div className=\"inv-table-wrap\">\r\n              <table className=\"inv-table inv-table--invoiceCols\">\r\n                {/* âœ… Hydration-safe colgroup (NO whitespace) */}\r\n                <colgroup>\r\n                  <col style={{ width: \"4%\" }} />\r\n                  <col style={{ width: \"30%\" }} />\r\n                  <col style={{ width: \"16%\" }} />\r\n                  <col style={{ width: \"8%\" }} />\r\n                  <col style={{ width: \"8%\" }} />\r\n                  <col style={{ width: \"10%\" }} />\r\n                  <col style={{ width: \"6%\" }} />\r\n                  <col style={{ width: \"10%\" }} />\r\n                  <col style={{ width: \"12%\" }} />\r\n                  <col style={{ width: \"4%\" }} />\r\n                </colgroup>\r\n\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"inv-th inv-th-center\">#</th>\r\n                    <th className=\"inv-th\">PRODUCT</th>\r\n                    <th className=\"inv-th inv-th-center\">BOX / PCS</th>\r\n                    <th className=\"inv-th inv-th-center\">UNIT</th>\r\n                    <th className=\"inv-th inv-th-center\">TOTAL QTY</th>\r\n                    <th className=\"inv-th inv-th-right\">UNIT&nbsp;EX</th>\r\n                    <th className=\"inv-th inv-th-right\">VAT</th>\r\n                    <th className=\"inv-th inv-th-right\">UNIT&nbsp;INC</th>\r\n                    <th className=\"inv-th inv-th-right\">TOTAL</th>\r\n                    <th className=\"inv-th inv-th-center\" />\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {lines.map((r, idx) => {\r\n                    const isReal = !!r.product_id;\r\n\r\n                    return (\r\n                      <tr key={r.id} className={removingIds.has(r.id) ? \"inv-row--removing\" : \"\"}>\r\n                        <td className=\"inv-td inv-center\">{idx + 1}</td>\r\n\r\n                        {/* PRODUCT selector */}\r\n                        <td className=\"inv-td\">\r\n                          <div className=\"inv-itemcode-cell--prod\">\r\n                            <select\r\n                              className=\"inv-input inv-input--prod\"\r\n                              value={r.product_id ?? \"\"}\r\n                              onChange={(e) => {\r\n                                const pid = e.target.value ? Number(e.target.value) : null;\r\n                                const p = pid ? products.find((x) => x.id === pid) || null : null;\r\n                                applyProductToRow(r.id, p);\r\n                              }}\r\n                            >\r\n                              <option value=\"\">Selectâ€¦</option>\r\n                              {products.map((p) => (\r\n                                <option key={p.id} value={p.id}>\r\n                                  {p.item_code} â€” {p.name}\r\n                                </option>\r\n                              ))}\r\n                            </select>\r\n\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"inv-search-mini\"\r\n                              onClick={() => openSearchForRow(r.id)}\r\n                              title=\"Search product\"\r\n                            >\r\n                              ðŸ”\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n\r\n                        {/* BOX / PCS + Qty */}\r\n                        <td className=\"inv-td inv-center\">\r\n                          <div className=\"inv-boxcell inv-boxcell--premium\">\r\n                            <select\r\n                              className=\"inv-input inv-input--uom\"\r\n                              value={r.uom}\r\n                              onChange={(e) => setLine(r.id, { uom: e.target.value as any })}\r\n                              disabled={!isReal}\r\n                            >\r\n                              <option value=\"BOX\">BOX</option>\r\n                              <option value=\"PCS\">PCS</option>\r\n                            </select>\r\n\r\n                            <input\r\n                              className=\"inv-input inv-input--qty inv-input--qtywide inv-center\"\r\n                              value={r.box_qty}\r\n                              onChange={(e) => setLine(r.id, { box_qty: n2(e.target.value) })}\r\n                              onKeyDown={(e) => {\r\n                                if (e.key !== \"Enter\") return;\r\n                                if (e.shiftKey) return; // Shift+Enter is Save (handled globally)\r\n                                if (!isReal) return;\r\n\r\n                                const isLast = idx === lines.length - 1;\r\n                                const q = Math.trunc(n2((e.target as HTMLInputElement).value));\r\n\r\n                                if (isLast && q >= 1) {\r\n                                  e.preventDefault();\r\n                                  addRow();\r\n                                  setTimeout(() => {\r\n                                    const qtyInputs = Array.from(\r\n                                      document.querySelectorAll<HTMLInputElement>(\".inv-input--qtywide\")\r\n                                    );\r\n                                    const last = qtyInputs[qtyInputs.length - 1];\r\n                                    last?.focus();\r\n                                    last?.select?.();\r\n                                  }, 0);\r\n                                }\r\n                              }}\r\n                              disabled={!isReal}\r\n                              inputMode=\"numeric\"\r\n                              placeholder=\"0\"\r\n                            />\r\n                          </div>\r\n                        </td>\r\n\r\n                        {/* UNIT/BOX */}\r\n                        <td className=\"inv-td inv-center\">\r\n                          <input\r\n                            className=\"inv-input inv-center\"\r\n                            value={r.uom === \"PCS\" ? \"\" : intFmt(r.units_per_box)}\r\n                            readOnly\r\n                          />\r\n                        </td>\r\n\r\n                        {/* TOTAL QTY */}\r\n                        <td className=\"inv-td inv-center\">\r\n                          <input className=\"inv-input inv-center\" value={intFmt(r.total_qty)} readOnly />\r\n                        </td>\r\n\r\n                        {/* PRICES */}\r\n                        <td className=\"inv-td inv-right\">\r\n                          <input\r\n                            className=\"inv-input inv-input--right\"\r\n                            value={money(r.unit_price_excl_vat)}\r\n                            readOnly\r\n                          />\r\n                        </td>\r\n                        <td className=\"inv-td inv-right\">\r\n                          <input className=\"inv-input inv-input--right\" value={money(r.unit_vat)} readOnly />\r\n                        </td>\r\n                        <td className=\"inv-td inv-right\">\r\n                          <input\r\n                            className=\"inv-input inv-input--right\"\r\n                            value={money(r.unit_price_incl_vat)}\r\n                            readOnly\r\n                          />\r\n                        </td>\r\n                        <td className=\"inv-td inv-right\">\r\n                          <input\r\n                            className=\"inv-input inv-input--right inv-input--total\"\r\n                            value={money(r.line_total)}\r\n                            readOnly\r\n                          />\r\n                        </td>\r\n\r\n                        <td className=\"inv-td inv-center\">\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"inv-xmini\"\r\n                            onClick={() => removeRow(r.id)}\r\n                            title=\"Remove row\"\r\n                          >\r\n                            âœ•\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Totals preview */}\r\n            <div className=\"inv-totalsbar inv-totalsbar--premium\">\r\n              <div>\r\n                <b>Sub Total:</b> {money(subtotalEx)}\r\n              </div>\r\n              <div>\r\n                <b>VAT:</b> {money(vatAmount)}\r\n              </div>\r\n              <div>\r\n                <b>Discount:</b> {money(discountAmount)}\r\n              </div>\r\n              <div>\r\n                <b>Total:</b> {money(totalAmount)}\r\n              </div>\r\n              <div>\r\n                <b>Gross:</b> {money(grossTotal)}\r\n              </div>\r\n              <div>\r\n                <b>Balance:</b> {money(balanceRemaining)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ===========================\r\n              Product Search Modal\r\n             =========================== */}\r\n          {searchOpen ? (\r\n            <div className=\"inv-modal-backdrop\" onMouseDown={closeSearch}>\r\n              <div className=\"inv-modal\" onMouseDown={(e) => e.stopPropagation()}>\r\n                <div className=\"inv-modal-head\">\r\n                  <div className=\"inv-modal-title\">Search Product</div>\r\n                  <button type=\"button\" className=\"rp-btn rp-btn--ghost\" onClick={closeSearch}>\r\n                    Close\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"inv-modal-body\">\r\n                  <input\r\n                    className=\"inv-input\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    placeholder=\"Search by code, sku, name, descriptionâ€¦\"\r\n                    autoFocus\r\n                  />\r\n\r\n                  <div className=\"inv-modal-list\">\r\n                    {filteredProducts.slice(0, 150).map((p) => (\r\n                      <button\r\n                        key={p.id}\r\n                        type=\"button\"\r\n                        className=\"inv-modal-item\"\r\n                        onClick={() => {\r\n                          if (searchRowId) applyProductToRow(searchRowId, p);\r\n                          closeSearch();\r\n                        }}\r\n                      >\r\n                        <div className=\"inv-modal-item-title\">\r\n                          <b>{p.item_code || p.sku}</b> â€” {p.name}\r\n                        </div>\r\n                        <div className=\"inv-modal-item-sub\">\r\n                          UNIT: {intFmt(p.units_per_box ?? 1)} Â· Unit Ex: {money(p.price_excl_vat ?? 0)}\r\n                        </div>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* ===========================\r\n              Customer Search Modal\r\n             =========================== */}\r\n          {custSearchOpen ? (\r\n            <div className=\"inv-modal-backdrop\" onMouseDown={closeCustomerSearch}>\r\n              <div className=\"inv-modal\" onMouseDown={(e) => e.stopPropagation()}>\r\n                <div className=\"inv-modal-head\">\r\n                  <div className=\"inv-modal-title\">Search Customer</div>\r\n                  <button type=\"button\" className=\"rp-btn rp-btn--ghost\" onClick={closeCustomerSearch}>\r\n                    Close\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"inv-modal-body\">\r\n                  <input\r\n                    className=\"inv-input\"\r\n                    value={custSearchTerm}\r\n                    onChange={(e) => setCustSearchTerm(e.target.value)}\r\n                    placeholder=\"Search by name, code, phone, addressâ€¦\"\r\n                    autoFocus\r\n                  />\r\n\r\n                  <div className=\"inv-modal-list\">\r\n                    {filteredCustomers.slice(0, 200).map((c) => (\r\n                      <button\r\n                        key={c.id}\r\n                        type=\"button\"\r\n                        className=\"inv-modal-item\"\r\n                        onClick={() => {\r\n                          setCustomerId(c.id);\r\n                          closeCustomerSearch();\r\n                        }}\r\n                      >\r\n                        <div className=\"inv-modal-item-title\">\r\n                          <b>{c.name}</b> <span className=\"inv-muted\">({c.customer_code})</span>\r\n                        </div>\r\n                        <div className=\"inv-modal-item-sub\">\r\n                          {c.phone} Â· {c.address}\r\n                        </div>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ==========================\r\n         PRINT ONLY (must be OUTSIDE inv-screen)\r\n         ========================== */}\r\n      <div className=\"inv-printonly\">\r\n        <RamPotteryDoc\r\n          variant=\"INVOICE\"\r\n          docNoLabel=\"INVOICE NO:\"\r\n          docNoValue={invoiceNumber}\r\n          dateLabel=\"DATE:\"\r\n          dateValue={invoiceDatePrint}\r\n          purchaseOrderLabel=\"PURCHASE ORDER NO:\"\r\n          purchaseOrderValue={purchaseOrderNo || \"\"}\r\n          salesRepName={salesRepNamePrint}\r\n          salesRepPhone={salesRepPhonePrint}\r\n          customer={{\r\n            name: customer?.name || \"\",\r\n            address: customer?.address || \"\",\r\n            phone: customer?.phone || \"\",\r\n            brn: customer?.brn || \"\",\r\n            vat_no: customer?.vat_no || \"\",\r\n            customer_code: customer?.customer_code || \"\",\r\n          }}\r\n          company={{\r\n            brn: \"C17144377\",\r\n            vat_no: \"123456789\",\r\n          }}\r\n          items={docItems}\r\n          totals={{\r\n            subtotal: subtotalEx,\r\n            vatPercentLabel: `VAT`,\r\n            vat_amount: vatAmount,\r\n            total_amount: totalAmount,\r\n            previous_balance: previousBalance,\r\n            amount_paid: amountPaid,\r\n            balance_remaining: balanceRemaining,\r\n            discount_percent: discountPercent,\r\n            discount_amount: discountAmount,\r\n          }}\r\n          preparedBy=\"Manish\"\r\n          deliveredBy=\"\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["React","useEffect","useMemo","useState","useRouter","useSearchParams","rpFetch","RamPotteryDoc","CustomerRow","id","name","address","phone","whatsapp","brn","vat_no","customer_code","opening_balance","discount_percent","ProductRow","item_code","sku","description","units_per_box","price_excl_vat","vat_rate","Uom","InvoiceLine","product_id","uom","box_qty","total_qty","unit_price_excl_vat","unit_vat","unit_price_incl_vat","line_total","SALES_REPS","const","SalesRepName","repPhoneByName","r","find","x","n2","v","Number","isFinite","fmtNumber","force2","hasDecimals","Math","abs","minFrac","maxFrac","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","money","intFmt","trunc","uid","crypto","randomUUID","String","Date","now","random","toString","slice","clampPct","max","min","recalc","row","qtyInput","upb","totalQty","unitEx","rate","unitVat","unitInc","blankLine","roleUpper","toUpperCase","canDuplicate","role","formatDDMMYYYY","s","trim","m","match","guessPartyType","test","normalizeMuPhone","digits","replace","startsWith","length","NewInvoiceClient","router","searchParams","duplicateId","get","saving","setSaving","printing","setPrinting","customers","setCustomers","products","setProducts","customerId","setCustomerId","invoiceDate","setInvoiceDate","purchaseOrderNo","setPurchaseOrderNo","removingIds","setRemovingIds","Set","repOpen","setRepOpen","salesReps","setSalesReps","salesRepPhones","setSalesRepPhones","previousBalance","setPreviousBalance","amountPaid","setAmountPaid","prevTouched","setPrevTouched","paidTouched","setPaidTouched","discountPercent","setDiscountPercent","vatPercent","setVatPercent","invoiceNumber","setInvoiceNumber","lines","setLines","prev","map","p","baseEx","disc","discountedEx","dupFromNo","setDupFromNo","setRole","searchOpen","setSearchOpen","searchRowId","setSearchRowId","searchTerm","setSearchTerm","custSearchOpen","setCustSearchOpen","custSearchTerm","setCustSearchTerm","customerNameType","setCustomerNameType","customerNameTypeTouched","setCustomerNameTypeTouched","raw","localStorage","getItem","u","JSON","parse","toISOString","alive","cRes","pRes","Promise","all","cache","cJson","ok","json","pJson","customer","c","hasWhatsApp","d","alert","openWhatsAppPaymentUpdate","close","window","addEventListener","removeEventListener","res","inv","invoice","items","invoice_number","customer_id","purchase_order_no","repText","sales_rep","repList","split","filter","Boolean","sales_rep_phone","invType","party_type","customer_name_type","invVat","vat_percent","cloned","it","realLines","l","subtotalEx","reduce","sum","vatAmount","totalAmount","discountAmount","dp","originalSubtotalEx","qty","discountedUnitEx","originalUnitEx","originalVat","originalTotal","discountedTotal","grossTotal","balanceRemaining","setLine","patch","Partial","addRow","removeRow","add","setTimeout","next","delete","done","invoiceDatePrint","openWhatsApp","text","buildWhatsAppText","invoiceNo","customerName","total","gross","paid","balance","date","url","encodeURIComponent","open","onKeyDown","e","KeyboardEvent","el","target","HTMLElement","tag","tagName","toLowerCase","isTyping","key","shiftKey","preventDefault","onSave","addBtn","document","querySelector","HTMLButtonElement","classList","remove","offsetWidth","qtyInputs","Array","from","querySelectorAll","HTMLInputElement","last","focus","select","ctrlKey","metaKey","onPrint","applyProductToRow","rowId","product","openSearchForRow","closeSearch","filteredProducts","t","code","desc","includes","filteredCustomers","addr","openCustomerSearch","closeCustomerSearch","buildWhatsAppPaymentText","opts","paidNow","status","join","fetchInvoicePdf","invoiceIdOrNo","method","catch","Error","blob","sharePdfToWhatsApp","messageText","fileName","file","File","type","nav","navigator","share","canShare","files","title","URL","createObjectURL","a","createElement","href","download","body","appendChild","click","revokeObjectURL","itemsPayload","pcs_qty","subtotalExNow","vatNow","totalNow","prevNow","grossNow","balanceNow","payload","salesRep","salesRepPhone","pricingMode","partyType","headers","stringify","error","invNo","msg","message","err","documentElement","cleanup","print","docItems","i","sn","salesRepNamePrint","salesRepPhonePrint","back","value","n","stopPropagation","active","width","idx","isReal","has","pid","isLast","q","subtotal","vatPercentLabel","vat_amount","total_amount","previous_balance","amount_paid","balance_remaining","discount_amount"],"mappings":"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","ignoreList":[]}}]
}